<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="stylesheet" href="../../.././src/pygments.css"></link><link rel="shortcut icon" href="../../.././favicon.ico"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Compiler.LCNF.Basic</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Lean.Compiler.LCNF.Basic";</script><script type="module" src="../../.././nav.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within">Lean.Compiler.LCNF.Basic</p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib_docs"></input><input type="text" name="q" autocomplete="off"></input><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top">Lean.Compiler.LCNF.Basic</a></h3><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Lean/Expr.html">Lean.Expr</a></li><li><a href="../../.././Lean/Compiler/InlineAttrs.html">Lean.Compiler.InlineAttrs</a></li><li><a href="../../.././Lean/Compiler/Specialize.html">Lean.Compiler.Specialize</a></li><li><a href="../../.././Lean/Meta/Instances.html">Lean.Meta.Instances</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Compiler.LCNF.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedParam">Lean.Compiler.LCNF.instInhabitedParam</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instBEqParam">Lean.Compiler.LCNF.instBEqParam</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Param.toExpr">Lean.Compiler.LCNF.Param.toExpr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedAltCore">Lean.Compiler.LCNF.instInhabitedAltCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedLetDecl">Lean.Compiler.LCNF.instInhabitedLetDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instBEqLetDecl">Lean.Compiler.LCNF.instBEqLetDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedFunDeclCore">Lean.Compiler.LCNF.instInhabitedFunDeclCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.FunDeclCore.getArity">Lean.Compiler.LCNF.FunDeclCore.getArity</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CasesCore">Lean.Compiler.LCNF.CasesCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedCasesCore">Lean.Compiler.LCNF.instInhabitedCasesCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedCode">Lean.Compiler.LCNF.instInhabitedCode</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Cases">Lean.Compiler.LCNF.Cases</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CasesCore.getCtorNames">Lean.Compiler.LCNF.CasesCore.getCtorNames</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedCodeDecl">Lean.Compiler.LCNF.instInhabitedCodeDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CodeDecl.fvarId">Lean.Compiler.LCNF.CodeDecl.fvarId</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.attachCodeDecls">Lean.Compiler.LCNF.attachCodeDecls</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.attachCodeDecls.go">Lean.Compiler.LCNF.attachCodeDecls.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.beq">Lean.Compiler.LCNF.Code.beq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instBEqCode">Lean.Compiler.LCNF.instBEqCode</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.FunDecl.beq">Lean.Compiler.LCNF.FunDecl.beq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instBEqFunDecl">Lean.Compiler.LCNF.instBEqFunDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore.getCode">Lean.Compiler.LCNF.AltCore.getCode</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore.getParams">Lean.Compiler.LCNF.AltCore.getParams</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore.forCodeM">Lean.Compiler.LCNF.AltCore.forCodeM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore.updateCode">Lean.Compiler.LCNF.AltCore.updateCode</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore.updateAlt!">Lean.Compiler.LCNF.AltCore.updateAlt!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateAlts!">Lean.Compiler.LCNF.Code.updateAlts!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateCases!">Lean.Compiler.LCNF.Code.updateCases!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateLet!">Lean.Compiler.LCNF.Code.updateLet!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateCont!">Lean.Compiler.LCNF.Code.updateCont!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateFun!">Lean.Compiler.LCNF.Code.updateFun!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateReturn!">Lean.Compiler.LCNF.Code.updateReturn!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateJmp!">Lean.Compiler.LCNF.Code.updateJmp!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.updateUnreach!">Lean.Compiler.LCNF.Code.updateUnreach!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Param.updateCore">Lean.Compiler.LCNF.Param.updateCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.LetDecl.updateCore">Lean.Compiler.LCNF.LetDecl.updateCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.FunDeclCore.updateCore">Lean.Compiler.LCNF.FunDeclCore.updateCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CasesCore.extractAlt!">Lean.Compiler.LCNF.CasesCore.extractAlt!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.AltCore.mapCodeM">Lean.Compiler.LCNF.AltCore.mapCodeM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.isDecl">Lean.Compiler.LCNF.Code.isDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.isFun">Lean.Compiler.LCNF.Code.isFun</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.isReturnOf">Lean.Compiler.LCNF.Code.isReturnOf</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.size">Lean.Compiler.LCNF.Code.size</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.size.go">Lean.Compiler.LCNF.Code.size.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.sizeLe">Lean.Compiler.LCNF.Code.sizeLe</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.sizeLe.inc">Lean.Compiler.LCNF.Code.sizeLe.inc</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.sizeLe.go">Lean.Compiler.LCNF.Code.sizeLe.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.forM">Lean.Compiler.LCNF.Code.forM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.forM.go">Lean.Compiler.LCNF.Code.forM.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instInhabitedDecl">Lean.Compiler.LCNF.instInhabitedDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.instBEqDecl">Lean.Compiler.LCNF.instBEqDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.size">Lean.Compiler.LCNF.Decl.size</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.getArity">Lean.Compiler.LCNF.Decl.getArity</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.inlineAttr">Lean.Compiler.LCNF.Decl.inlineAttr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.noinlineAttr">Lean.Compiler.LCNF.Decl.noinlineAttr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.inlineIfReduceAttr">Lean.Compiler.LCNF.Decl.inlineIfReduceAttr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.alwaysInlineAttr">Lean.Compiler.LCNF.Decl.alwaysInlineAttr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.inlineable">Lean.Compiler.LCNF.Decl.inlineable</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.isCasesOnParam?">Lean.Compiler.LCNF.Decl.isCasesOnParam?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams">Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateParamsLevelParams">Lean.Compiler.LCNF.Decl.instantiateParamsLevelParams</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instParams">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instParams</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instAlt">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instAlt</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instLetDecl">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instLetDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instFunDecl">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instFunDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.hasLocalInst">Lean.Compiler.LCNF.hasLocalInst</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.isTemplateLike">Lean.Compiler.LCNF.Decl.isTemplateLike</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.FunDeclCore.collectUsed">Lean.Compiler.LCNF.FunDeclCore.collectUsed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Code.collectUsed">Lean.Compiler.LCNF.Code.collectUsed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.collectUsedAtExpr">Lean.Compiler.LCNF.collectUsedAtExpr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.markRecDecls">Lean.Compiler.LCNF.markRecDecls</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.markRecDecls.visit">Lean.Compiler.LCNF.markRecDecls.visit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.markRecDecls.go">Lean.Compiler.LCNF.markRecDecls.go</a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Lean-Compiler-Normal-Form-LCNF">Lean Compiler Normal Form (LCNF) <a class="hover-link" href="#Lean-Compiler-Normal-Form-LCNF">#</a></h1><p>It is based on the <a href="https://en.wikipedia.org/wiki/A-normal_form">A-normal form</a>,
and the approach described in the paper
<a href="https://www.microsoft.com/en-us/research/wp-content/uploads/2016/11/compiling-without-continuations.pdf">Compiling  without continuations</a>.</p></div><div class="decl" id="Lean.Compiler.LCNF.Param"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L22-L27">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Compiler.LCNF.Param.mk"><li id="Lean.Compiler.LCNF.Param.fvarId" class="structure_field"><div class="structure_field_info">fvarId : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></div></li><li id="Lean.Compiler.LCNF.Param.binderName" class="structure_field"><div class="structure_field_info">binderName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Compiler.LCNF.Param.type" class="structure_field"><div class="structure_field_info">type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Compiler.LCNF.Param.borrow" class="structure_field"><div class="structure_field_info">borrow : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.Param" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedParam"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L27-L27">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedParam">Lean.Compiler.LCNF.instInhabitedParam</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedParam">Lean.Compiler.LCNF.instInhabitedParam</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">fvarId</span> := <span class="fn">default</span>, <span class="fn">binderName</span> := <span class="fn">default</span>, <span class="fn">type</span> := <span class="fn">default</span>, <span class="fn">borrow</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instBEqParam"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L27-L27">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqParam">Lean.Compiler.LCNF.instBEqParam</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqParam">Lean.Compiler.LCNF.instBEqParam</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Lean/Compiler/LCNF/Basic.html#_private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.beqParam._@.Lean.Compiler.LCNF.Basic._hyg.55">Lean.Compiler.LCNF.beqParam✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Param.toExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L29-L30">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param.toExpr">Lean.Compiler.LCNF.Param.toExpr</a></span><span class="decl_args">
<span class="fn">(p : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param.toExpr">Lean.Compiler.LCNF.Param.toExpr</a> <span class="fn">p</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Expr.html#Lean.Expr.fvar">Lean.Expr.fvar</a> <span class="fn"><span class="fn">p</span>.fvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L32-L35">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a></span><span class="decl_args">
<span class="fn">(Code : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="constructors"><li class="constructor" id="Lean.Compiler.LCNF.AltCore.alt">alt: <span class="fn">{<span class="fn">Code</span> : <span class="fn">Type</span>} → <span class="fn"><a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span> → <span class="fn"><span class="fn">Code</span> → <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a> <span class="fn">Code</span></span></span></span></span></span></li><li class="constructor" id="Lean.Compiler.LCNF.AltCore.default">default: <span class="fn">{<span class="fn">Code</span> : <span class="fn">Type</span>} → <span class="fn"><span class="fn">Code</span> → <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a> <span class="fn">Code</span></span></span></span></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.AltCore" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedAltCore"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L35-L35">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedAltCore">Lean.Compiler.LCNF.instInhabitedAltCore</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">a</span> : <span class="fn">Type</span>} → <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">a</span></span>] → <span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a> <span class="fn">a</span></span>)</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Compiler.LCNF.instInhabitedAltCore</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.alt">Lean.Compiler.LCNF.AltCore.alt</a> <span class="fn">default</span> <span class="fn">default</span> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.LetDecl"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L37-L42">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Compiler.LCNF.LetDecl.mk"><li id="Lean.Compiler.LCNF.LetDecl.fvarId" class="structure_field"><div class="structure_field_info">fvarId : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></div></li><li id="Lean.Compiler.LCNF.LetDecl.binderName" class="structure_field"><div class="structure_field_info">binderName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Compiler.LCNF.LetDecl.type" class="structure_field"><div class="structure_field_info">type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Compiler.LCNF.LetDecl.value" class="structure_field"><div class="structure_field_info">value : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.LetDecl" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedLetDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L42-L42">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedLetDecl">Lean.Compiler.LCNF.instInhabitedLetDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedLetDecl">Lean.Compiler.LCNF.instInhabitedLetDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">fvarId</span> := <span class="fn">default</span>, <span class="fn">binderName</span> := <span class="fn">default</span>, <span class="fn">type</span> := <span class="fn">default</span>, <span class="fn">value</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instBEqLetDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L42-L42">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqLetDecl">Lean.Compiler.LCNF.instBEqLetDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqLetDecl">Lean.Compiler.LCNF.instBEqLetDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Lean/Compiler/LCNF/Basic.html#_private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.beqLetDecl._@.Lean.Compiler.LCNF.Basic._hyg.306">Lean.Compiler.LCNF.beqLetDecl✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.FunDeclCore"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L44-L50">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a></span><span class="decl_args">
<span class="fn">(Code : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Compiler.LCNF.FunDeclCore.mk"><li id="Lean.Compiler.LCNF.FunDeclCore.fvarId" class="structure_field"><div class="structure_field_info">fvarId : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></div></li><li id="Lean.Compiler.LCNF.FunDeclCore.binderName" class="structure_field"><div class="structure_field_info">binderName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Compiler.LCNF.FunDeclCore.params" class="structure_field"><div class="structure_field_info">params : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></div></li><li id="Lean.Compiler.LCNF.FunDeclCore.type" class="structure_field"><div class="structure_field_info">type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Compiler.LCNF.FunDeclCore.value" class="structure_field"><div class="structure_field_info">value : <span class="fn">Code</span></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.FunDeclCore" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedFunDeclCore"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L50-L50">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedFunDeclCore">Lean.Compiler.LCNF.instInhabitedFunDeclCore</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">a</span> : <span class="fn">Type</span>} → <span class="fn">[<span class="fn">inst</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">a</span></span>] → <span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a> <span class="fn">a</span></span>)</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Compiler.LCNF.instInhabitedFunDeclCore</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">fvarId</span> := <span class="fn">default</span>, <span class="fn">binderName</span> := <span class="fn">default</span>, <span class="fn">params</span> := <span class="fn">default</span>, <span class="fn">type</span> := <span class="fn">default</span>, <span class="fn">value</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.FunDeclCore.getArity"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L52-L53">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore.getArity">Lean.Compiler.LCNF.FunDeclCore.getArity</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{Code : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(decl : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a> <span class="fn">Code</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore.getArity">Lean.Compiler.LCNF.FunDeclCore.getArity</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Array.size">Array.size</a> <span class="fn"><span class="fn">decl</span>.params</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CasesCore"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L55-L60">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CasesCore">Lean.Compiler.LCNF.CasesCore</a></span><span class="decl_args">
<span class="fn">(Code : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Compiler.LCNF.CasesCore.mk"><li id="Lean.Compiler.LCNF.CasesCore.typeName" class="structure_field"><div class="structure_field_info">typeName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Compiler.LCNF.CasesCore.resultType" class="structure_field"><div class="structure_field_info">resultType : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Compiler.LCNF.CasesCore.discr" class="structure_field"><div class="structure_field_info">discr : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></div></li><li id="Lean.Compiler.LCNF.CasesCore.alts" class="structure_field"><div class="structure_field_info">alts : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a> <span class="fn">Code</span></span>)</span></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.CasesCore" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedCasesCore"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L60-L60">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedCasesCore">Lean.Compiler.LCNF.instInhabitedCasesCore</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">{<span class="fn">a</span> : <span class="fn">Type</span>} → <span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CasesCore">Lean.Compiler.LCNF.CasesCore</a> <span class="fn">a</span></span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Compiler.LCNF.instInhabitedCasesCore</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">typeName</span> := <span class="fn">default</span>, <span class="fn">resultType</span> := <span class="fn">default</span>, <span class="fn">discr</span> := <span class="fn">default</span>, <span class="fn">alts</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L62-L70">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="constructors"><li class="constructor" id="Lean.Compiler.LCNF.Code.let">let: <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a> → <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li><li class="constructor" id="Lean.Compiler.LCNF.Code.fun">fun: <span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span> → <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li><li class="constructor" id="Lean.Compiler.LCNF.Code.jp">jp: <span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span> → <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li><li class="constructor" id="Lean.Compiler.LCNF.Code.jmp">jmp: <span class="fn"><a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li><li class="constructor" id="Lean.Compiler.LCNF.Code.cases">cases: <span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CasesCore">Lean.Compiler.LCNF.CasesCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></li><li class="constructor" id="Lean.Compiler.LCNF.Code.return">return: <span class="fn"><a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></li><li class="constructor" id="Lean.Compiler.LCNF.Code.unreach">unreach: <span class="fn"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.Code" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedCode"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L70-L70">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedCode">Lean.Compiler.LCNF.instInhabitedCode</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedCode">Lean.Compiler.LCNF.instInhabitedCode</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.jmp">Lean.Compiler.LCNF.Code.jmp</a> <span class="fn">default</span> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Alt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L72-L72">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.FunDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L73-L73">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore">Lean.Compiler.LCNF.FunDeclCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Cases"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L74-L74">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Cases">Lean.Compiler.LCNF.Cases</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Cases">Lean.Compiler.LCNF.Cases</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CasesCore">Lean.Compiler.LCNF.CasesCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CasesCore.getCtorNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L79-L83">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CasesCore.getCtorNames">Lean.Compiler.LCNF.CasesCore.getCtorNames</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Cases">Lean.Compiler.LCNF.Cases</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Data/NameMap.html#Lean.NameSet">Lean.NameSet</a></div></div><p>Return the constructor names that have an explicit (non-default) alternative.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CodeDecl"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L85-L89">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="constructors"><li class="constructor" id="Lean.Compiler.LCNF.CodeDecl.let">let: <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span></li><li class="constructor" id="Lean.Compiler.LCNF.CodeDecl.fun">fun: <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span></li><li class="constructor" id="Lean.Compiler.LCNF.CodeDecl.jp">jp: <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.CodeDecl" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedCodeDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L89-L89">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedCodeDecl">Lean.Compiler.LCNF.instInhabitedCodeDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedCodeDecl">Lean.Compiler.LCNF.instInhabitedCodeDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl.let">Lean.Compiler.LCNF.CodeDecl.let</a> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CodeDecl.fvarId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L91-L92">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl.fvarId">Lean.Compiler.LCNF.CodeDecl.fvarId</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a> → <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.attachCodeDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L94-L104">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.attachCodeDecls">Lean.Compiler.LCNF.attachCodeDecls</a></span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(code : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.attachCodeDecls">Lean.Compiler.LCNF.attachCodeDecls</a> <span class="fn">decls</span> <span class="fn">code</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.attachCodeDecls.go">Lean.Compiler.LCNF.attachCodeDecls.go</a> <span class="fn">decls</span> (<span class="fn"><a href="../../.././Init/Prelude.html#Array.size">Array.size</a> <span class="fn">decls</span></span>) <span class="fn">code</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.attachCodeDecls.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L97-L104">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.attachCodeDecls.go">Lean.Compiler.LCNF.attachCodeDecls.go</a></span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CodeDecl">Lean.Compiler.LCNF.CodeDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(i : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(code : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.beq"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L139-L139">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.eqImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.beq">Lean.Compiler.LCNF.Code.beq</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.instBEqCode"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L141-L142">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqCode">Lean.Compiler.LCNF.instBEqCode</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqCode">Lean.Compiler.LCNF.instBEqCode</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.beq">Lean.Compiler.LCNF.Code.beq</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.FunDecl.beq"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L144-L144">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.eqFunDecl]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl.beq">Lean.Compiler.LCNF.FunDecl.beq</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.instBEqFunDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L146-L147">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqFunDecl">Lean.Compiler.LCNF.instBEqFunDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqFunDecl">Lean.Compiler.LCNF.instBEqFunDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl.beq">Lean.Compiler.LCNF.FunDecl.beq</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore.getCode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L149-L151">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.getCode">Lean.Compiler.LCNF.AltCore.getCode</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.getCode">Lean.Compiler.LCNF.AltCore.getCode</a> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.default">Lean.Compiler.LCNF.AltCore.default</a> <span class="fn">k</span></span> =&gt <span class="fn">k</span>
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.alt">Lean.Compiler.LCNF.AltCore.alt</a> <span class="fn">ctorName</span> <span class="fn">params</span> <span class="fn">k</span></span> =&gt <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore.getParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L153-L155">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.getParams">Lean.Compiler.LCNF.AltCore.getParams</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.getParams">Lean.Compiler.LCNF.AltCore.getParams</a> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.default">Lean.Compiler.LCNF.AltCore.default</a> <span class="fn">code</span></span> =&gt <span class="fn">#[]</span>
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.alt">Lean.Compiler.LCNF.AltCore.alt</a> <span class="fn">ctorName</span> <span class="fn">ps</span> <span class="fn">code</span></span> =&gt <span class="fn">ps</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore.forCodeM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L157-L160">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.forCodeM">Lean.Compiler.LCNF.AltCore.forCodeM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(alt : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.forCodeM">Lean.Compiler.LCNF.AltCore.forCodeM</a> <span class="fn">alt</span> <span class="fn">f</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">alt</span> with
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.default">Lean.Compiler.LCNF.AltCore.default</a> <span class="fn">k</span></span> =&gt <span class="fn"><span class="fn">f</span> <span class="fn">k</span></span>
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.alt">Lean.Compiler.LCNF.AltCore.alt</a> <span class="fn">ctorName</span> <span class="fn">params</span> <span class="fn">k</span></span> =&gt <span class="fn"><span class="fn">f</span> <span class="fn">k</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore.updateCode"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L167-L167">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateAltCodeImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.updateCode">Lean.Compiler.LCNF.AltCore.updateCode</a></span><span class="decl_args">
<span class="fn">(alt : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a>)</span></span>
<span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore.updateAlt!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L174-L174">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateAltImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.updateAlt!">Lean.Compiler.LCNF.AltCore.updateAlt!</a></span><span class="decl_args">
<span class="fn">(alt : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a>)</span></span>
<span class="decl_args">
<span class="fn">(ps' : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(k' : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateAlts!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L181-L181">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateAltsImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateAlts!">Lean.Compiler.LCNF.Code.updateAlts!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(alts : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateCases!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L188-L188">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateCasesImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateCases!">Lean.Compiler.LCNF.Code.updateCases!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(resultType : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(discr : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(alts : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateLet!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L195-L195">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateLetImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateLet!">Lean.Compiler.LCNF.Code.updateLet!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(decl' : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(k' : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateCont!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L204-L204">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateContImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateCont!">Lean.Compiler.LCNF.Code.updateCont!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(k' : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateFun!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L212-L212">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateFunImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateFun!">Lean.Compiler.LCNF.Code.updateFun!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(decl' : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(k' : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateReturn!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L219-L219">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateReturnImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateReturn!">Lean.Compiler.LCNF.Code.updateReturn!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(fvarId' : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateJmp!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L226-L226">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateJmpImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateJmp!">Lean.Compiler.LCNF.Code.updateJmp!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(fvarId' : <a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(args' : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.updateUnreach!"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L233-L233">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateUnreachImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.updateUnreach!">Lean.Compiler.LCNF.Code.updateUnreach!</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(type' : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Param.updateCore"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L246-L246">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateParamCoreImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param.updateCore">Lean.Compiler.LCNF.Param.updateCore</a></span><span class="decl_args">
<span class="fn">(p : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></div></div><p>Low-level update <code><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Param</a></code> function. It does not update the local context.
Consider using <code>Param.update : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Param</a> → Expr → CompilerM <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Param</a></code> if you want the local context
to be updated.</p></div></div><div class="decl" id="Lean.Compiler.LCNF.LetDecl.updateCore"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L259-L259">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateLetDeclCoreImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl.updateCore">Lean.Compiler.LCNF.LetDecl.updateCore</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(value : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a></div></div><p>Low-level update <code><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">LetDecl</a></code> function. It does not update the local context.
Consider using <code>LetDecl.update : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">LetDecl</a> → Expr → Expr → CompilerM <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">LetDecl</a></code> if you want the local context
to be updated.</p></div></div><div class="decl" id="Lean.Compiler.LCNF.FunDeclCore.updateCore"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L272-L272">source</a></div><div class="attributes">@[implemented_by _private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.updateFunDeclCoreImp]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore.updateCore">Lean.Compiler.LCNF.FunDeclCore.updateCore</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(params : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(value : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a></div></div><p>Low-level update <code><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">FunDecl</a></code> function. It does not update the local context.
Consider using <code>FunDecl.update : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">LetDecl</a> → Expr → <a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Param</a> → <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Code</a> → CompilerM <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">FunDecl</a></code> if you want the local context
to be updated.</p></div></div><div class="decl" id="Lean.Compiler.LCNF.CasesCore.extractAlt!"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L274-L281">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.CasesCore.extractAlt!">Lean.Compiler.LCNF.CasesCore.extractAlt!</a></span><span class="decl_args">
<span class="fn">(cases : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Cases">Lean.Compiler.LCNF.Cases</a>)</span></span>
<span class="decl_args">
<span class="fn">(ctorName : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Cases">Lean.Compiler.LCNF.Cases</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.AltCore.mapCodeM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L283-L284">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.mapCodeM">Lean.Compiler.LCNF.AltCore.mapCodeM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(alt : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <span class="fn"><span class="fn">m</span> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.mapCodeM">Lean.Compiler.LCNF.AltCore.mapCodeM</a> <span class="fn">alt</span> <span class="fn">f</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><span class="fn">f</span> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.getCode">Lean.Compiler.LCNF.AltCore.getCode</a> <span class="fn">alt</span></span>)</span>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore.updateCode">Lean.Compiler.LCNF.AltCore.updateCode</a> <span class="fn">alt</span> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.isDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L286-L288">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.isDecl">Lean.Compiler.LCNF.Code.isDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.isFun"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L290-L292">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.isFun">Lean.Compiler.LCNF.Code.isFun</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.isFun">Lean.Compiler.LCNF.Code.isFun</a> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.fun">Lean.Compiler.LCNF.Code.fun</a> <span class="fn">decl</span> <span class="fn">k</span></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.isReturnOf"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L294-L296">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.isReturnOf">Lean.Compiler.LCNF.Code.isReturnOf</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <span class="fn"><a href="../../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.isReturnOf">Lean.Compiler.LCNF.Code.isReturnOf</a> <span class="fn">x</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span>, <span class="fn">x</span> with
  | <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.return">Lean.Compiler.LCNF.Code.return</a> <span class="fn">fvarId</span></span>, <span class="fn">fvarId'</span> =&gt <span class="fn"><span class="fn">fvarId</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">fvarId'</span></span>
  | <span class="fn">x</span>, <span class="fn">x_1</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.size"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L298-L307">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.size">Lean.Compiler.LCNF.Code.size</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.size">Lean.Compiler.LCNF.Code.size</a> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.size.go">Lean.Compiler.LCNF.Code.size.go</a> <span class="fn">c</span> <span class="fn">0</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.size.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L301-L307">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.size.go">Lean.Compiler.LCNF.Code.size.go</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Nat">Nat</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.sizeLe"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L310-L325">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.sizeLe">Lean.Compiler.LCNF.Code.sizeLe</a></span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Return true iff <code>c.<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.size">size</a> ≤ n</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.sizeLe">Lean.Compiler.LCNF.Code.sizeLe</a> <span class="fn">c</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><a href="../../.././Init/Prelude.html#EStateM.run">EStateM.run</a> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.sizeLe.go">Lean.Compiler.LCNF.Code.sizeLe.go</a> <span class="fn">n</span> <span class="fn">c</span></span>) <span class="fn">0</span></span> with
  | <span class="fn"><a href="../../.././Init/Prelude.html#EStateM.Result.error">EStateM.Result.ok</a> <span class="fn">a</span> <span class="fn">a_1</span></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn"><a href="../../.././Init/Prelude.html#EStateM.Result.error">EStateM.Result.error</a> <span class="fn">a</span> <span class="fn">a_1</span></span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.sizeLe.inc"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L315-L317">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.sizeLe.inc">Lean.Compiler.LCNF.Code.sizeLe.inc</a></span><span class="decl_args">
<span class="fn">(n : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#EStateM">EStateM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.sizeLe.inc">Lean.Compiler.LCNF.Code.sizeLe.inc</a> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  <span class="fn"><a href="../../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun <span class="fn">x</span> =&gt <span class="fn"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span></span></span></span>
  let __do_lift ← <span class="fn">get</span>
  <span class="fn">if <span class="fn"><span class="fn">__do_lift</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">n</span></span> then <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span> else <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.throw">throw</a> <a href="../../.././Init/Prelude.html#Unit.unit">()</a></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.sizeLe.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L319-L325">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.sizeLe.go">Lean.Compiler.LCNF.Code.sizeLe.go</a></span><span class="decl_args">
<span class="fn">(n : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#EStateM">EStateM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.forM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L327-L336">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.forM">Lean.Compiler.LCNF.Code.forM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.forM">Lean.Compiler.LCNF.Code.forM</a> <span class="fn">c</span> <span class="fn">f</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.forM.go">Lean.Compiler.LCNF.Code.forM.go</a> <span class="fn">f</span> <span class="fn">c</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.forM.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L330-L336">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.forM.go">Lean.Compiler.LCNF.Code.forM.go</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a> → <span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(c : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L341-L404">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Compiler.LCNF.Decl.mk"><li id="Lean.Compiler.LCNF.Decl.name" class="structure_field"><div class="structure_field_doc"><p>The name of the declaration from the <code>Environment</code> it came from</p></div><div class="structure_field_info">name : <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Compiler.LCNF.Decl.levelParams" class="structure_field"><div class="structure_field_doc"><p>Universe level parameter names.</p></div><div class="structure_field_info">levelParams : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Compiler.LCNF.Decl.type" class="structure_field"><div class="structure_field_doc"><p>The type of the declaration. Note that this is an erased LCNF type
instead of the fully dependent one that might have been the original
type of the declaration in the <code>Environment</code>.</p></div><div class="structure_field_info">type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Compiler.LCNF.Decl.params" class="structure_field"><div class="structure_field_doc"><p>Parameters.</p></div><div class="structure_field_info">params : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></div></li><li id="Lean.Compiler.LCNF.Decl.value" class="structure_field"><div class="structure_field_doc"><p>The body of the declaration, usually changes as it progresses
through compiler passes.</p></div><div class="structure_field_info">value : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></li><li id="Lean.Compiler.LCNF.Decl.recursive" class="structure_field"><div class="structure_field_doc"><p>We set this flag to true during LCNF conversion. When we receive
a block of functions to be compiled, we set this flag to <code>true</code>
if there is an application to the function in the block containing
it. This is an approximation, but it should be good enough because
in the frontend, we invoke the compiler with blocks of strongly connected
components only.
We use this information to control inlining.</p></div><div class="structure_field_info">recursive : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Compiler.LCNF.Decl.safe" class="structure_field"><div class="structure_field_doc"><p>We set this flag to false during LCNF conversion if the Lean function
associated with this function was tagged as partial or unsafe. This
information affects how static analyzers treat function applications
of this kind. See <code>DefinitionSafety</code>.
<code>partial</code> and <code>unsafe</code> functions may not be terminating, but Lean
functions terminate, and some static analyzers exploit this
fact. So, we use the following semantics. Suppose whe hav a (large) natural
number <code>C</code>. We consider a nondeterministic model for computation of Lean expressions as
follows:
Each call to a partial/unsafe function uses up one "recursion token".
Prior to consuming <code>C</code> recursion tokens all partial functions must be called
as normal. Once the model has used up <code>C</code> recursion tokens, a subsequent call to
a partial function has the following nondeterministic options: it can either call
the function again, or return any value of the target type (even a noncomputable one).
Larger values of <code>C</code> yield less nondeterminism in the model, but even the intersection of
all choices of <code>C</code> yields nondeterminism where <code>def loop : A := loop</code> returns any value of type <code>A</code>.
The compiler fixes a choice for <code>C</code>. This is a fixed constant greater than 2^2^64,
which is allowed to be compiler and architecture dependent, and promises that it will
produce an execution consistent with every possible nondeterministic outcome of the <code>C</code>-model.
In the event that different nondeterministic executions disagree, the compiler is required to
exhaust resources or output a looping computation.</p></div><div class="structure_field_info">safe : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Compiler.LCNF.Decl.inlineAttr?" class="structure_field"><div class="structure_field_doc"><p>We store the inline attribute at LCNF declarations to make sure we can set them for
auxliary declarations created during compilation.</p></div><div class="structure_field_info">inlineAttr? : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind">Lean.Compiler.InlineAttributeKind</a></span></div></li></ul><p>Declaration being processed by the Lean to Lean compiler passes.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Compiler.LCNF.Decl" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instInhabitedDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L404-L404">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instInhabitedDecl">Lean.Compiler.LCNF.instInhabitedDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.instBEqDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L404-L404">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqDecl">Lean.Compiler.LCNF.instBEqDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BEq">BEq</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.instBEqDecl">Lean.Compiler.LCNF.instBEqDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../../.././Lean/Compiler/LCNF/Basic.html#_private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.beqDecl._@.Lean.Compiler.LCNF.Basic._hyg.4062">Lean.Compiler.LCNF.beqDecl✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.size"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L406-L407">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.size">Lean.Compiler.LCNF.Decl.size</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.size">Lean.Compiler.LCNF.Decl.size</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.size">Lean.Compiler.LCNF.Code.size</a> <span class="fn"><span class="fn">decl</span>.value</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.getArity"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L409-L410">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.getArity">Lean.Compiler.LCNF.Decl.getArity</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.getArity">Lean.Compiler.LCNF.Decl.getArity</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Array.size">Array.size</a> <span class="fn"><span class="fn">decl</span>.params</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.inlineAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L412-L413">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.inlineAttr">Lean.Compiler.LCNF.Decl.inlineAttr</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.inlineAttr">Lean.Compiler.LCNF.Decl.inlineAttr</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">decl</span>.inlineAttr?</span> with
  | <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <a href="../../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind.inline">Lean.Compiler.InlineAttributeKind.inline</a></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.noinlineAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L415-L416">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.noinlineAttr">Lean.Compiler.LCNF.Decl.noinlineAttr</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.noinlineAttr">Lean.Compiler.LCNF.Decl.noinlineAttr</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">decl</span>.inlineAttr?</span> with
  | <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <a href="../../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind.noinline">Lean.Compiler.InlineAttributeKind.noinline</a></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.inlineIfReduceAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L418-L419">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.inlineIfReduceAttr">Lean.Compiler.LCNF.Decl.inlineIfReduceAttr</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.inlineIfReduceAttr">Lean.Compiler.LCNF.Decl.inlineIfReduceAttr</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">decl</span>.inlineAttr?</span> with
  | <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <a href="../../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind.inlineIfReduce">Lean.Compiler.InlineAttributeKind.inlineIfReduce</a></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.alwaysInlineAttr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L421-L422">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.alwaysInlineAttr">Lean.Compiler.LCNF.Decl.alwaysInlineAttr</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.alwaysInlineAttr">Lean.Compiler.LCNF.Decl.alwaysInlineAttr</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">decl</span>.inlineAttr?</span> with
  | <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <a href="../../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind.alwaysInline">Lean.Compiler.InlineAttributeKind.alwaysInline</a></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.inlineable"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L425-L429">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.inlineable">Lean.Compiler.LCNF.Decl.inlineable</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Return <code>true</code> if the given declaration has been annotated with <code>[inline]</code>, <code>[inline_if_reduce]</code>, <code>[macro_inline]</code>, or <code>[always_inline]</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.inlineable">Lean.Compiler.LCNF.Decl.inlineable</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">decl</span>.inlineAttr?</span> with
  | <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">Lean.Compiler.InlineAttributeKind.noinline</span></span> =&gt <a href="../../.././Init/Prelude.html#Bool.false">false</a>
  | <span class="fn"><a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">val</span></span> =&gt <a href="../../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">none</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.isCasesOnParam?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L444-L451">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?">Lean.Compiler.LCNF.Decl.isCasesOnParam?</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Return <code>some i</code> if <code>decl</code> is of the form</p><pre><code>def f (a_0 ... a_i ...) :=
  ...
  cases a_i
  | ...
  | ...
</code></pre><p>That is, <code>f</code> is a sequence of declarations followed by a <code>cases</code> on the parameter <code>i</code>.
We use this function to decide whether we should inline a declaration tagged with
<code>[inline_if_reduce]</code> or not.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?">Lean.Compiler.LCNF.Decl.isCasesOnParam?</a> <span class="fn">decl</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> <span class="fn"><span class="fn">decl</span>.value</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.isCasesOnParam?.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L447-L451">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(code : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.let">Lean.Compiler.LCNF.Code.let</a> <span class="fn">decl_1</span> <span class="fn">k</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> <span class="fn">k</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.jp">Lean.Compiler.LCNF.Code.jp</a> <span class="fn">decl_1</span> <span class="fn">k</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> <span class="fn">k</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.fun">Lean.Compiler.LCNF.Code.fun</a> <span class="fn">decl_1</span> <span class="fn">k</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> <span class="fn">k</span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> (<span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.cases">Lean.Compiler.LCNF.Code.cases</a> <span class="fn">c</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Data/Array/Basic.html#Array.findIdx?">Array.findIdx?</a> <span class="fn"><span class="fn">decl</span>.params</span> <span class="fn">fun <span class="fn">param</span> =&gt <span class="fn"><span class="fn"><span class="fn">param</span>.fvarId</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">c</span>.discr</span></span></span></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isCasesOnParam?.go">Lean.Compiler.LCNF.Decl.isCasesOnParam?.go</a> <span class="fn">decl</span> <span class="fn">code</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">none</span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L453-L454">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams">Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams">Lean.Compiler.LCNF.Decl.instantiateTypeLevelParams</a> <span class="fn">decl</span> <span class="fn">us</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Util/InstantiateLevelParams.html#Lean.Expr.instantiateLevelParamsNoCache">Lean.Expr.instantiateLevelParamsNoCache</a> <span class="fn"><span class="fn">decl</span>.type</span> <span class="fn"><span class="fn">decl</span>.levelParams</span> <span class="fn">us</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateParamsLevelParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L456-L457">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateParamsLevelParams">Lean.Compiler.LCNF.Decl.instantiateParamsLevelParams</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L459-L486">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams</a> <span class="fn">decl</span> <span class="fn">us</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode</a> <span class="fn">decl</span> <span class="fn">us</span> <span class="fn"><span class="fn">decl</span>.value</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L462-L463">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instExpr</a> <span class="fn">decl</span> <span class="fn">us</span> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Util/InstantiateLevelParams.html#Lean.Expr.instantiateLevelParamsNoCache">Lean.Expr.instantiateLevelParamsNoCache</a> <span class="fn">e</span> <span class="fn"><span class="fn">decl</span>.levelParams</span> <span class="fn">us</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L465-L466">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instParams">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instParams</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(ps : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Lean.Compiler.LCNF.Param</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instAlt"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L468-L471">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instAlt">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instAlt</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(alt : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Lean.Compiler.LCNF.Alt</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.AltCore">Lean.Compiler.LCNF.AltCore</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instLetDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L473-L474">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instLetDecl">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instLetDecl</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetDecl">Lean.Compiler.LCNF.LetDecl</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instFunDecl"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L476-L477">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instFunDecl">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instFunDecl</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L479-L486">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode">Lean.Compiler.LCNF.Decl.instantiateValueLevelParams.instCode</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args">
<span class="fn">(us : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(code : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.hasLocalInst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L491-L494">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.hasLocalInst">Lean.Compiler.LCNF.hasLocalInst</a></span><span class="decl_args">
<span class="fn">(type : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Return <code>true</code> if the arrow type contains an instance implicit argument.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.hasLocalInst">Lean.Compiler.LCNF.hasLocalInst</a> (<span class="fn"><a href="../../.././Lean/Expr.html#Lean.Expr.forallE">Lean.Expr.forallE</a> <span class="fn">binderName</span> <span class="fn">binderType</span> <span class="fn">b</span> <span class="fn">bi</span></span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><span class="fn"><a href="../../.././Lean/Expr.html#Lean.BinderInfo.isInstImplicit">Lean.BinderInfo.isInstImplicit</a> <span class="fn">bi</span></span> <a href="../../.././Init/Prelude.html#or">||</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.hasLocalInst">Lean.Compiler.LCNF.hasLocalInst</a> <span class="fn">b</span></span></span>)</span></li><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.hasLocalInst">Lean.Compiler.LCNF.hasLocalInst</a> <span class="fn">type</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.isTemplateLike"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L499-L507">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl.isTemplateLike">Lean.Compiler.LCNF.Decl.isTemplateLike</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> if <code>decl</code> is supposed to be inlined/specialized.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.FunDeclCore.collectUsed"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L510-L511">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDeclCore.collectUsed">Lean.Compiler.LCNF.FunDeclCore.collectUsed</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.FunDecl">Lean.Compiler.LCNF.FunDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <a href="../../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a> <a href="../../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.Code.collectUsed"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L530-L543">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code.collectUsed">Lean.Compiler.LCNF.Code.collectUsed</a></span><span class="decl_args">
<span class="fn">(code : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../../.././Init/Prelude.html#optParam">optParam</a> <a href="../../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a> <a href="../../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.collectUsedAtExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L546-L547">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.collectUsedAtExpr">Lean.Compiler.LCNF.collectUsedAtExpr</a></span><span class="decl_args">
<span class="fn">(s : <a href="../../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.collectUsedAtExpr">Lean.Compiler.LCNF.collectUsedAtExpr</a> <span class="fn">s</span> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#_private.Lean.Compiler.LCNF.Basic.0.Lean.Compiler.LCNF.collectExpr">Lean.Compiler.LCNF.collectExpr</a> <span class="fn">e</span> <span class="fn">s</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.markRecDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L557-L577">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.markRecDecls">Lean.Compiler.LCNF.markRecDecls</a></span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span></div></div><p>Traverse the given block of potentially mutually recursive functions
and mark a declaration <code>f</code> as recursive if there is an application
<code>f ...</code> in the block.
This is an overapproximation, and relies on the fact that our frontend
computes strongly connected components.
See comment at <code>recursive</code> field.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.markRecDecls.visit"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L565-L574">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.markRecDecls.visit">Lean.Compiler.LCNF.markRecDecls.visit</a></span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(code : <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Lean.Compiler.LCNF.Code</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Control/State.html#StateM">StateM</a> <a href="../../.././Lean/Data/NameMap.html#Lean.NameSet">Lean.NameSet</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.markRecDecls.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Compiler/LCNF/Basic.lean#L576-L577">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.markRecDecls.go">Lean.Compiler.LCNF.markRecDecls.go</a></span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Lean.Compiler.LCNF.Decl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Control/State.html#StateM">StateM</a> <a href="../../.././Lean/Data/NameMap.html#Lean.NameSet">Lean.NameSet</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.markRecDecls.go">Lean.Compiler.LCNF.markRecDecls.go</a> <span class="fn">decls</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Data/Array/Basic.html#Array.forM">Array.forM</a> (<span class="fn">fun <span class="fn">decl</span> =&gt <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.markRecDecls.visit">Lean.Compiler.LCNF.markRecDecls.visit</a> <span class="fn">decls</span> <span class="fn"><span class="fn">decl</span>.value</span></span></span>) <span class="fn">decls</span> <span class="fn">0</span> (<span class="fn"><a href="../../.././Init/Prelude.html#Array.size">Array.size</a> <span class="fn">decls</span></span>)</span></span></li></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././/navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>