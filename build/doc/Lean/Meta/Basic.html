<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Meta.Basic</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Meta.Basic";</script><script type="module" src="../.././nav.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within">Lean.Meta.Basic</p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib_docs"></input><input type="text" name="q" autocomplete="off"></input><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top">Lean.Meta.Basic</a></h3><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Lean/Class.html">Lean.Class</a></li><li><a href="../.././Lean/Environment.html">Lean.Environment</a></li><li><a href="../.././Lean/ReducibilityAttrs.html">Lean.ReducibilityAttrs</a></li><li><a href="../.././Lean/Compiler/InlineAttrs.html">Lean.Compiler.InlineAttrs</a></li><li><a href="../.././Lean/Data/LOption.html">Lean.Data.LOption</a></li><li><a href="../.././Lean/Meta/TransparencyMode.html">Lean.Meta.TransparencyMode</a></li><li><a href="../.././Lean/Util/MonadBacktrack.html">Lean.Util.MonadBacktrack</a></li><li><a href="../.././Lean/Util/ReplaceExpr.html">Lean.Util.ReplaceExpr</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Meta.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEqStuckExceptionId">Lean.Meta.isDefEqStuckExceptionId</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Config">Lean.Meta.Config</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedParamInfo">Lean.Meta.instInhabitedParamInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isImplicit">Lean.Meta.ParamInfo.isImplicit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isInstImplicit">Lean.Meta.ParamInfo.isInstImplicit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isStrictImplicit">Lean.Meta.ParamInfo.isStrictImplicit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ParamInfo.isExplicit">Lean.Meta.ParamInfo.isExplicit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.FunInfo">Lean.Meta.FunInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedInfoCacheKey">Lean.Meta.instInhabitedInfoCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instBEqInfoCacheKey">Lean.Meta.instBEqInfoCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.InfoCacheKey.instHashableInfoCacheKey">Lean.Meta.InfoCacheKey.instHashableInfoCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.FunInfoCache">Lean.Meta.FunInfoCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.WhnfCache">Lean.Meta.WhnfCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Cache">Lean.Meta.Cache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedCache">Lean.Meta.instInhabitedCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.DefEqContext">Lean.Meta.DefEqContext</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedPostponedEntry">Lean.Meta.instInhabitedPostponedEntry</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.State">Lean.Meta.State</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedState">Lean.Meta.instInhabitedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SavedState">Lean.Meta.SavedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedSavedState">Lean.Meta.instInhabitedSavedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.Context">Lean.Meta.Context</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM">Lean.Meta.MetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadMetaM">Lean.Meta.instMonadMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instInhabitedMetaM">Lean.Meta.instInhabitedMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadLCtxMetaM">Lean.Meta.instMonadLCtxMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadMCtxMetaM">Lean.Meta.instMonadMCtxMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadEnvMetaM">Lean.Meta.instMonadEnvMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instAddMessageContextMetaM">Lean.Meta.instAddMessageContextMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.saveState">Lean.Meta.saveState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.SavedState.restore">Lean.Meta.SavedState.restore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMonadBacktrackSavedStateMetaM">Lean.Meta.instMonadBacktrackSavedStateMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM.run">Lean.Meta.MetaM.run</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM.run'">Lean.Meta.MetaM.run'</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.MetaM.toIO">Lean.Meta.MetaM.toIO</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instMetaEvalMetaM">Lean.Meta.instMetaEvalMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.throwIsDefEqStuck">Lean.Meta.throwIsDefEqStuck</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.liftMetaM">Lean.Meta.liftMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyCache">Lean.Meta.modifyCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyInferTypeCache">Lean.Meta.modifyInferTypeCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyDefEqCache">Lean.Meta.modifyDefEqCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getLocalInstances">Lean.Meta.getLocalInstances</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getConfig">Lean.Meta.getConfig</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resetZetaFVarIds">Lean.Meta.resetZetaFVarIds</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getZetaFVarIds">Lean.Meta.getZetaFVarIds</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setPostponed">Lean.Meta.setPostponed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.modifyPostponed">Lean.Meta.modifyPostponed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.useEtaStruct">Lean.Meta.useEtaStruct</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnf">Lean.Meta.whnf</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.inferType">Lean.Meta.inferType</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isExprDefEqAux">Lean.Meta.isExprDefEqAux</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isLevelDefEqAux">Lean.Meta.isLevelDefEqAux</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.synthPending">Lean.Meta.synthPending</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfForall">Lean.Meta.whnfForall</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withIncRecDepth">Lean.Meta.withIncRecDepth</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshExprMVarAt">Lean.Meta.mkFreshExprMVarAt</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshExprMVar">Lean.Meta.mkFreshExprMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshTypeMVar">Lean.Meta.mkFreshTypeMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshExprMVarWithId">Lean.Meta.mkFreshExprMVarWithId</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshLevelMVars">Lean.Meta.mkFreshLevelMVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFreshLevelMVarsFor">Lean.Meta.mkFreshLevelMVarsFor</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkConstWithFreshMVarLevels">Lean.Meta.mkConstWithFreshMVarLevels</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.shouldReduceAll">Lean.Meta.shouldReduceAll</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.shouldReduceReducibleOnly">Lean.Meta.shouldReduceReducibleOnly</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.findDecl?">Lean.MVarId.findDecl?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.findMVarDecl?">Lean.Meta.findMVarDecl?</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.getDecl">Lean.MVarId.getDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getMVarDecl">Lean.Meta.getMVarDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.getKind">Lean.MVarId.getKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getMVarDeclKind">Lean.Meta.getMVarDeclKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isSyntheticMVar">Lean.Meta.isSyntheticMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.setKind">Lean.MVarId.setKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setMVarKind">Lean.Meta.setMVarKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.setType">Lean.MVarId.setType</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setMVarType">Lean.Meta.setMVarType</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.isReadOnly">Lean.MVarId.isReadOnly</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isReadOnlyExprMVar">Lean.Meta.isReadOnlyExprMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.isReadOnlyOrSyntheticOpaque">Lean.MVarId.isReadOnlyOrSyntheticOpaque</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar">Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.LMVarId.getLevel">Lean.LMVarId.getLevel</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getLevelMVarDepth">Lean.Meta.getLevelMVarDepth</a></div><div class="nav_link"><a class="break_within" href="#Lean.LMVarId.isReadOnly">Lean.LMVarId.isReadOnly</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isReadOnlyLevelMVar">Lean.Meta.isReadOnlyLevelMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.setUserName">Lean.MVarId.setUserName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setMVarUserName">Lean.Meta.setMVarUserName</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.throwUnknown">Lean.FVarId.throwUnknown</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.throwUnknownFVar">Lean.Meta.throwUnknownFVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.findDecl?">Lean.FVarId.findDecl?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.findLocalDecl?">Lean.Meta.findLocalDecl?</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getLocalDecl">Lean.Meta.getLocalDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getType">Lean.FVarId.getType</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getBinderInfo">Lean.FVarId.getBinderInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getValue?">Lean.FVarId.getValue?</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.getUserName">Lean.FVarId.getUserName</a></div><div class="nav_link"><a class="break_within" href="#Lean.FVarId.isLetVar">Lean.FVarId.isLetVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getFVarLocalDecl">Lean.Meta.getFVarLocalDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getLocalDeclFromUserName">Lean.Meta.getLocalDeclFromUserName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getFVarFromUserName">Lean.Meta.getFVarFromUserName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Expr.abstractRangeM">Lean.Expr.abstractRangeM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.abstractRange">Lean.Meta.abstractRange</a></div><div class="nav_link"><a class="break_within" href="#Lean.Expr.abstractM">Lean.Expr.abstractM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.abstract">Lean.Meta.abstract</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.collectForwardDeps">Lean.Meta.collectForwardDeps</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkForallFVars">Lean.Meta.mkForallFVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLambdaFVars">Lean.Meta.mkLambdaFVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLetFVars">Lean.Meta.mkLetFVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkFunUnit">Lean.Meta.mkFunUnit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.elimMVarDeps">Lean.Meta.elimMVarDeps</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withConfig">Lean.Meta.withConfig</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withTrackingZeta">Lean.Meta.withTrackingZeta</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withoutProofIrrelevance">Lean.Meta.withoutProofIrrelevance</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withDefault">Lean.Meta.withDefault</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withReducible">Lean.Meta.withReducible</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withReducibleAndInstances">Lean.Meta.withReducibleAndInstances</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withAtLeastTransparency">Lean.Meta.withAtLeastTransparency</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withAssignableSyntheticOpaque">Lean.Meta.withAssignableSyntheticOpaque</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.savingCache">Lean.Meta.savingCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getTheoremInfo">Lean.Meta.getTheoremInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.saveAndResetSynthInstanceCache">Lean.Meta.saveAndResetSynthInstanceCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.restoreSynthInstanceCache">Lean.Meta.restoreSynthInstanceCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resettingSynthInstanceCache">Lean.Meta.resettingSynthInstanceCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.resettingSynthInstanceCacheWhen">Lean.Meta.resettingSynthInstanceCacheWhen</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewLocalInstance">Lean.Meta.withNewLocalInstance</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isClass?">Lean.Meta.isClass?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewLocalInstances">Lean.Meta.withNewLocalInstances</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallTelescope">Lean.Meta.forallTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallTelescopeReducing">Lean.Meta.forallTelescopeReducing</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallBoundedTelescope">Lean.Meta.forallBoundedTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaLetTelescope">Lean.Meta.lambdaLetTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaTelescope">Lean.Meta.lambdaTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getParamNames">Lean.Meta.getParamNames</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallMetaTelescope">Lean.Meta.forallMetaTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallMetaTelescopeReducing">Lean.Meta.forallMetaTelescopeReducing</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.forallMetaBoundedTelescope">Lean.Meta.forallMetaBoundedTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaMetaTelescope">Lean.Meta.lambdaMetaTelescope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.lambdaMetaTelescope.process">Lean.Meta.lambdaMetaTelescope.process</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDecl">Lean.Meta.withLocalDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDeclD">Lean.Meta.withLocalDeclD</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDecls">Lean.Meta.withLocalDecls</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDecls.loop">Lean.Meta.withLocalDecls.loop</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalDeclsD">Lean.Meta.withLocalDeclsD</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewBinderInfos">Lean.Meta.withNewBinderInfos</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withInstImplicitAsImplict">Lean.Meta.withInstImplicitAsImplict</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLetDecl">Lean.Meta.withLetDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalInstancesImp">Lean.Meta.withLocalInstancesImp</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLocalInstances">Lean.Meta.withLocalInstances</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withExistingLocalDecls">Lean.Meta.withExistingLocalDecls</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withNewMCtxDepth">Lean.Meta.withNewMCtxDepth</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withLCtx">Lean.Meta.withLCtx</a></div><div class="nav_link"><a class="break_within" href="#Lean.MVarId.withContext">Lean.MVarId.withContext</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withMVarContext">Lean.Meta.withMVarContext</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.withMCtx">Lean.Meta.withMCtx</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.approxDefEq">Lean.Meta.approxDefEq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.fullApproxDefEq">Lean.Meta.fullApproxDefEq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.normalizeLevel">Lean.Meta.normalizeLevel</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfR">Lean.Meta.whnfR</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfD">Lean.Meta.whnfD</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.whnfI">Lean.Meta.whnfI</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.setInlineAttribute">Lean.Meta.setInlineAttribute</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateForall">Lean.Meta.instantiateForall</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instantiateLambda">Lean.Meta.instantiateLambda</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.ppExpr">Lean.Meta.ppExpr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.orElse">Lean.Meta.orElse</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instOrElseMetaM">Lean.Meta.instOrElseMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.instAlternativeMetaM">Lean.Meta.instAlternativeMetaM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.orelseMergeErrors">Lean.Meta.orelseMergeErrors</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapErrorImp">Lean.Meta.mapErrorImp</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mapError">Lean.Meta.mapError</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.sortFVarIds">Lean.Meta.sortFVarIds</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isInductivePredicate">Lean.Meta.isInductivePredicate</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getNumPostponed">Lean.Meta.getNumPostponed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.getResetPostponed">Lean.Meta.getResetPostponed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLevelStuckErrorMessage">Lean.Meta.mkLevelStuckErrorMessage</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.mkLevelErrorMessage">Lean.Meta.mkLevelErrorMessage</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.processPostponed">Lean.Meta.processPostponed</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.processPostponed.loop">Lean.Meta.processPostponed.loop</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.checkpointDefEq">Lean.Meta.checkpointDefEq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isLevelDefEq">Lean.Meta.isLevelDefEq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isExprDefEq">Lean.Meta.isExprDefEq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEq">Lean.Meta.isDefEq</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isExprDefEqGuarded">Lean.Meta.isExprDefEqGuarded</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEqGuarded">Lean.Meta.isDefEqGuarded</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.isDefEqNoConstantApprox">Lean.Meta.isDefEqNoConstantApprox</a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.etaExpand">Lean.Meta.etaExpand</a></div></nav><main>
<div class="mod_doc"><p>This module provides four (mutually dependent) goodies that are needed for building the elaborator and tactic frameworks.
1- Weak head normal form computation with support for metavariables and transparency modes.
2- Definitionally equality checking with support for metavariables (aka unification modulo definitional equality).
3- Type inference.
4- Type class resolution.</p><p>They are packed into the MetaM monad.</p></div><div class="decl" id="Lean.Meta.isDefEqStuckExceptionId"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L27-L27">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqStuckExceptionId">Lean.Meta.isDefEqStuckExceptionId</a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/InternalExceptionId.html#Lean.InternalExceptionId">Lean.InternalExceptionId</a></div></div></div></div><div class="decl" id="Lean.Meta.Config"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L42-L113">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.Config.mk"><li id="Lean.Meta.Config.foApprox" class="structure_field"><div class="structure_field_doc"><p>If <code>foApprox</code> is set to true, and some <code>aᵢ</code> is not a free variable,
then we use first-order unification</p><pre><code>  ?m a_1 ... a_i a_{i+1} ... a_{i+k} =?= f b_1 ... b_k
</code></pre><p>reduces to</p><pre><code>  ?m a_1 ... a_i =?= f
  a_{i+1}        =?= b_1
  ...
  a_{i+k}        =?= b_k
</code></pre></div><div class="structure_field_info">foApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.ctxApprox" class="structure_field"><div class="structure_field_doc"><p>When <code>ctxApprox</code> is set to true, we relax condition 4, by creating an
auxiliary metavariable <code>?n'</code> with a smaller context than <code>?m'</code>.</p></div><div class="structure_field_info">ctxApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.quasiPatternApprox" class="structure_field"><div class="structure_field_doc"><p>When <code>quasiPatternApprox</code> is set to true, we ignore condition 2.</p></div><div class="structure_field_info">quasiPatternApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.constApprox" class="structure_field"><div class="structure_field_doc"><p>When <code>constApprox</code> is set to true,
we solve <code>?m t =?= c</code> using
<code>?m := fun _ => c</code>
when <code>?m t</code> is not a higher-order pattern and <code>c</code> is not an application as</p></div><div class="structure_field_info">constApprox : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.isDefEqStuckEx" class="structure_field"><div class="structure_field_doc"><p>When the following flag is set,
<code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> throws the exeption <code>Exeption.isDefEqStuck</code>
whenever it encounters a constraint <code>?m ... =?= t</code> where
<code>?m</code> is read only.
This feature is useful for type class resolution where
we may want to notify the caller that the TC problem may be solveable
later after it assigns <code>?m</code>.</p></div><div class="structure_field_info">isDefEqStuckEx : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.transparency" class="structure_field"><div class="structure_field_doc"><p>Controls which definitions and theorems can be unfolded by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> and <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code>.</p></div><div class="structure_field_info">transparency : <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode">Lean.Meta.TransparencyMode</a></div></li><li id="Lean.Meta.Config.zetaNonDep" class="structure_field"><div class="structure_field_doc"><p>If zetaNonDep == false, then non dependent let-decls are not zeta expanded.</p></div><div class="structure_field_info">zetaNonDep : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.trackZeta" class="structure_field"><div class="structure_field_doc"><p>When <code>trackZeta == true</code>, we store zetaFVarIds all free variables that have been zeta-expanded.</p></div><div class="structure_field_info">trackZeta : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.unificationHints" class="structure_field"><div class="structure_field_doc"><p>Enable/disable the unification hints feature.</p></div><div class="structure_field_info">unificationHints : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.proofIrrelevance" class="structure_field"><div class="structure_field_doc"><p>Enables proof irrelevance at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code></p></div><div class="structure_field_info">proofIrrelevance : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.assignSyntheticOpaque" class="structure_field"><div class="structure_field_doc"><p>By default synthetic opaque metavariables are not assigned by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>. Motivation: we want to make
sure typing constraints resolved during elaboration should not "fill" holes that are supposed to be filled using tactics.
However, this restriction is too restrictive for tactics such as <code>exact t</code>. When elaborating <code>t</code>, we dot not fill
named holes when solving typing constraints or TC resolution. But, we ignore the restriction when we try to unify
the type of <code>t</code> with the goal target type. We claim this is not a hack and is defensible behavior because
this last unification step is not really part of the term elaboration.</p></div><div class="structure_field_info">assignSyntheticOpaque : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.ignoreLevelMVarDepth" class="structure_field"><div class="structure_field_doc"><p>When <code>ignoreLevelDepth</code> is <code>false</code>, only universe level metavariables with depth == metavariable context depth
can be assigned.
We used to have <code>ignoreLevelDepth == false</code> always, but this setting produced counterintuitive behavior in a few
cases. Recall that universe levels are often ignored by users, they may not even be aware they exist.
We still use this restriction for regular metavariables. See discussion at the beginning of <code>MetavarContext.lean</code>.
We claim it is reasonable to ignore this restriction for universe metavariables because their values are often
contrained by the terms is instances and simp theorems.
TODO: we should delete this configuration option and the method <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyLevelMVar">isReadOnlyLevelMVar</a></code> after we have more tests.</p></div><div class="structure_field_info">ignoreLevelMVarDepth : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.offsetCnstrs" class="structure_field"><div class="structure_field_doc"><p>Enable/Disable support for offset constraints such as <code>?x + 1 =?= e</code></p></div><div class="structure_field_info">offsetCnstrs : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.Config.etaStruct" class="structure_field"><div class="structure_field_doc"><p>Eta for structures configuration mode.</p></div><div class="structure_field_info">etaStruct : <a href="../.././Init/Meta.html#Lean.Meta.EtaStructMode">Lean.Meta.EtaStructMode</a></div></li></ul><p>Configuration flags for the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.
Many of them are used to control the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> function that checks whether two terms are definitionally equal or not.
Recall that when <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> is trying to check whether
<code>?m@C a₁ ... aₙ</code> and <code>t</code> are definitionally equal (<code>?m@C a₁ ... aₙ =?= t</code>), where
<code>?m@C</code> as a shorthand for <code>C |- ?m : t</code> where <code>t</code> is the type of <code>?m</code>.
We solve it using the assignment <code>?m := fun a₁ ... aₙ => t</code> if</p><ol>
<li><code>a₁ ... aₙ</code> are pairwise distinct free variables that are ​<em>not</em>​ let-variables.</li>
<li><code>a₁ ... aₙ</code> are not in <code>C</code></li>
<li><code>t</code> only contains free variables in <code>C</code> and/or <code>{a₁, ..., aₙ}</code></li>
<li>For every metavariable <code>?m'@C'</code> occurring in <code>t</code>, <code>C'</code> is a subprefix of <code>C</code></li>
<li><code>?m</code> does not occur in <code>t</code></li>
</ol><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.Config" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L118-L160">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.ParamInfo.mk"><li id="Lean.Meta.ParamInfo.binderInfo" class="structure_field"><div class="structure_field_doc"><p>The binder annotation for the parameter.</p></div><div class="structure_field_info">binderInfo : <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></div></li><li id="Lean.Meta.ParamInfo.hasFwdDeps" class="structure_field"><div class="structure_field_doc"><p><code>hasFwdDeps</code> is true if there is another parameter whose type depends on this one.</p></div><div class="structure_field_info">hasFwdDeps : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.ParamInfo.backDeps" class="structure_field"><div class="structure_field_doc"><p><code>backDeps</code> contains the backwards dependencies. That is, the (0-indexed) position of previous parameters that this one depends on.</p></div><div class="structure_field_info">backDeps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></li><li id="Lean.Meta.ParamInfo.isProp" class="structure_field"><div class="structure_field_doc"><p><code>isProp</code> is true if the parameter is always a proposition.</p></div><div class="structure_field_info">isProp : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.ParamInfo.isDecInst" class="structure_field"><div class="structure_field_doc"><p><code>isDecInst</code> is true if the parameter's type is of the form <code><a href="../.././Init/Prelude.html#Decidable">Decidable</a> ...</code>.
This information affects the generation of congruence theorems.</p></div><div class="structure_field_info">isDecInst : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.ParamInfo.higherOrderOutParam" class="structure_field"><div class="structure_field_doc"><p><code>higherOrderOutParam</code> is true if this parameter is a higher-order output parameter
of local instance.
Example:</p><pre><code>getElem :
  {cont : Type u_1} → {idx : Type u_2} → {elem : Type u_3} →
  {dom : cont → idx → Prop} → [self : <a href="../.././Init/Prelude.html#GetElem">GetElem</a> cont idx elem dom] →
  (xs : cont) → (i : idx) → dom xs i → elem
</code></pre><p>This flag is true for the parameter <code>dom</code> because it is output parameter of
<code>[self : <a href="../.././Init/Prelude.html#GetElem">GetElem</a> cont idx elem dom]</code></p></div><div class="structure_field_info">higherOrderOutParam : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Meta.ParamInfo.dependsOnHigherOrderOutParam" class="structure_field"><div class="structure_field_doc"><p><code>dependsOnHigherOrderOutParam</code> is true if the type of this parameter depends on
the higher-order output parameter of a previous local instance.
Example:</p><pre><code>getElem :
  {cont : Type u_1} → {idx : Type u_2} → {elem : Type u_3} →
  {dom : cont → idx → Prop} → [self : <a href="../.././Init/Prelude.html#GetElem">GetElem</a> cont idx elem dom] →
  (xs : cont) → (i : idx) → dom xs i → elem
</code></pre><p>This flag is true for the parameter with type <code>dom xs i</code> since <code>dom</code> is an output parameter
of the instance <code>[self : <a href="../.././Init/Prelude.html#GetElem">GetElem</a> cont idx elem dom]</code></p></div><div class="structure_field_info">dependsOnHigherOrderOutParam : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li></ul><p>Function parameter information cache.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.ParamInfo" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedParamInfo"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L160-L160">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedParamInfo">Lean.Meta.instInhabitedParamInfo</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L162-L163">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isImplicit">Lean.Meta.ParamInfo.isImplicit</a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isImplicit">Lean.Meta.ParamInfo.isImplicit</a> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">p</span>.binderInfo</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">Lean.BinderInfo.implicit</a></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isInstImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L165-L166">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isInstImplicit">Lean.Meta.ParamInfo.isInstImplicit</a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isInstImplicit">Lean.Meta.ParamInfo.isInstImplicit</a> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">p</span>.binderInfo</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.instImplicit">Lean.BinderInfo.instImplicit</a></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isStrictImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L168-L169">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isStrictImplicit">Lean.Meta.ParamInfo.isStrictImplicit</a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isStrictImplicit">Lean.Meta.ParamInfo.isStrictImplicit</a> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">p</span>.binderInfo</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.strictImplicit">Lean.BinderInfo.strictImplicit</a></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Meta.ParamInfo.isExplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L171-L172">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isExplicit">Lean.Meta.ParamInfo.isExplicit</a></span><span class="decl_args">
<span class="fn">(p : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo.isExplicit">Lean.Meta.ParamInfo.isExplicit</a> <span class="fn">p</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">p</span>.binderInfo</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Meta.FunInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L178-L185">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfo">Lean.Meta.FunInfo</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.FunInfo.mk"><li id="Lean.Meta.FunInfo.paramInfo" class="structure_field"><div class="structure_field_doc"><p>Parameter information cache.</p></div><div class="structure_field_info">paramInfo : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">Lean.Meta.ParamInfo</a></span></div></li><li id="Lean.Meta.FunInfo.resultDeps" class="structure_field"><div class="structure_field_doc"><p><code>resultDeps</code> contains the function result type backwards dependencies.
That is, the (0-indexed) position of parameters that the result type depends on.</p></div><div class="structure_field_info">resultDeps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></li></ul><p>Function information cache. See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></code>.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.FunInfo" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.InfoCacheKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L190-L201">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.InfoCacheKey.mk"><li id="Lean.Meta.InfoCacheKey.transparency" class="structure_field"><div class="structure_field_doc"><p>The transparency mode used to compute the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfo">FunInfo</a></code>.</p></div><div class="structure_field_info">transparency : <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode">Lean.Meta.TransparencyMode</a></div></li><li id="Lean.Meta.InfoCacheKey.expr" class="structure_field"><div class="structure_field_doc"><p>The function being cached information about. It is quite often an <code>Expr.const</code>.</p></div><div class="structure_field_info">expr : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Meta.InfoCacheKey.nargs?" class="structure_field"><div class="structure_field_doc"><p><code>nargs? = some n</code> if the cached information was computed assuming the function has arity <code>n</code>.
If <code>nargs? = none</code>, then the cache information consumed the arrow type as much as possible
unsing the current transparency setting.
X</p></div><div class="structure_field_info">nargs? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></li></ul><p>Key for the function information cache.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.InfoCacheKey" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedInfoCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L201-L201">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedInfoCacheKey">Lean.Meta.instInhabitedInfoCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedInfoCacheKey">Lean.Meta.instInhabitedInfoCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">transparency</span> := <span class="fn">default</span>, <span class="fn">expr</span> := <span class="fn">default</span>, <span class="fn">nargs?</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instBEqInfoCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L201-L201">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqInfoCacheKey">Lean.Meta.instBEqInfoCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instBEqInfoCacheKey">Lean.Meta.instBEqInfoCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.beqInfoCacheKey._@.Lean.Meta.Basic._hyg.377">Lean.Meta.beqInfoCacheKey✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.InfoCacheKey.instHashableInfoCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L204-L205">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey.instHashableInfoCacheKey">Lean.Meta.InfoCacheKey.instHashableInfoCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.SynthInstanceCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L208-L208">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.InferTypeCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L210-L210">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Expr.html#Lean.PersistentExprStructMap">Lean.PersistentExprStructMap</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.FunInfoCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L211-L211">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfoCache">Lean.Meta.FunInfoCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfoCache">Lean.Meta.FunInfoCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InfoCacheKey">Lean.Meta.InfoCacheKey</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfo">Lean.Meta.FunInfo</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.WhnfCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L212-L212">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache">Lean.Meta.WhnfCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache">Lean.Meta.WhnfCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Expr.html#Lean.PersistentExprStructMap">Lean.PersistentExprStructMap</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.DefEqCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L218-L218">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><p>A mapping <code>(s, t) ↦ <a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a> s t</code>.
TODO: consider more efficient representations (e.g., a proper set) and caching policies (e.g., imperfect cache).
We should also investigate the impact on memory consumption.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">Lean.PersistentHashMap</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.Cache"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L223-L230">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Lean.Meta.Cache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.Cache.mk"><li id="Lean.Meta.Cache.inferType" class="structure_field"><div class="structure_field_info">inferType : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a></div></li><li id="Lean.Meta.Cache.funInfo" class="structure_field"><div class="structure_field_info">funInfo : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.FunInfoCache">Lean.Meta.FunInfoCache</a></div></li><li id="Lean.Meta.Cache.synthInstance" class="structure_field"><div class="structure_field_info">synthInstance : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a></div></li><li id="Lean.Meta.Cache.whnfDefault" class="structure_field"><div class="structure_field_info">whnfDefault : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache">Lean.Meta.WhnfCache</a></div></li><li id="Lean.Meta.Cache.whnfAll" class="structure_field"><div class="structure_field_info">whnfAll : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.WhnfCache">Lean.Meta.WhnfCache</a></div></li><li id="Lean.Meta.Cache.defEq" class="structure_field"><div class="structure_field_info">defEq : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a></div></li></ul><p>Cache datastructures for type inference, type class resolution, whnf, and definitional equality.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.Cache" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedCache"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L230-L230">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedCache">Lean.Meta.instInhabitedCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Lean.Meta.Cache</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedCache">Lean.Meta.instInhabitedCache</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> :=
      <span class="fn">{ <span class="fn">inferType</span> := <span class="fn">default</span>, <span class="fn">funInfo</span> := <span class="fn">default</span>, <span class="fn">synthInstance</span> := <span class="fn">default</span>, <span class="fn">whnfDefault</span> := <span class="fn">default</span>, <span class="fn">whnfAll</span> := <span class="fn">default</span>,
        <span class="fn">defEq</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.DefEqContext"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L236-L240">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext">Lean.Meta.DefEqContext</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.DefEqContext.mk"><li id="Lean.Meta.DefEqContext.lhs" class="structure_field"><div class="structure_field_info">lhs : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Meta.DefEqContext.rhs" class="structure_field"><div class="structure_field_info">rhs : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Meta.DefEqContext.lctx" class="structure_field"><div class="structure_field_info">lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></div></li><li id="Lean.Meta.DefEqContext.localInstances" class="structure_field"><div class="structure_field_info">localInstances : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a></div></li></ul><p>"Context" for a postponed universe constraint.
<code>lhs</code> and <code>rhs</code> are the surrounding <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> call when the postponed constraint was created.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.DefEqContext" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.PostponedEntry"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L247-L254">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.PostponedEntry.mk"><li id="Lean.Meta.PostponedEntry.ref" class="structure_field"><div class="structure_field_doc"><p>We save the <code>ref</code> at entry creation time. This is used for reporting errors back to the user.</p></div><div class="structure_field_info">ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Meta.PostponedEntry.lhs" class="structure_field"><div class="structure_field_info">lhs : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></div></li><li id="Lean.Meta.PostponedEntry.rhs" class="structure_field"><div class="structure_field_info">rhs : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></div></li><li id="Lean.Meta.PostponedEntry.ctx?" class="structure_field"><div class="structure_field_doc"><p>Context for the surrounding <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> call when entry was created.</p></div><div class="structure_field_info">ctx? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext">Lean.Meta.DefEqContext</a></span></div></li></ul><p>Auxiliary structure for representing postponed universe constraints.
Remark: the fields <code>ref</code> and <code>rootDefEq?</code> are used for error message generation only.
Remark: we may consider improving the error message generation in the future.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.PostponedEntry" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedPostponedEntry"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L254-L254">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedPostponedEntry">Lean.Meta.instInhabitedPostponedEntry</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedPostponedEntry">Lean.Meta.instInhabitedPostponedEntry</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">ref</span> := <span class="fn">default</span>, <span class="fn">lhs</span> := <span class="fn">default</span>, <span class="fn">rhs</span> := <span class="fn">default</span>, <span class="fn">ctx?</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L259-L266">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.State.mk"><li id="Lean.Meta.State.mctx" class="structure_field"><div class="structure_field_info">mctx : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">Lean.MetavarContext</a></div></li><li id="Lean.Meta.State.cache" class="structure_field"><div class="structure_field_info">cache : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Lean.Meta.Cache</a></div></li><li id="Lean.Meta.State.zetaFVarIds" class="structure_field"><div class="structure_field_doc"><p>When <code>trackZeta == true</code>, then any let-decl free variable that is zeta expansion performed by <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> is stored in <code>zetaFVarIds</code>.</p></div><div class="structure_field_info">zetaFVarIds : <a href="../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a></div></li><li id="Lean.Meta.State.postponed" class="structure_field"><div class="structure_field_doc"><p>Array of postponed universe level constraints</p></div><div class="structure_field_info">postponed : <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span></div></li></ul><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad state.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.State" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L266-L266">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedState">Lean.Meta.instInhabitedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedState">Lean.Meta.instInhabitedState</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">mctx</span> := <span class="fn">default</span>, <span class="fn">cache</span> := <span class="fn">default</span>, <span class="fn">zetaFVarIds</span> := <span class="fn">default</span>, <span class="fn">postponed</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.SavedState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L271-L274">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.SavedState.mk"><li id="Lean.Meta.SavedState.core" class="structure_field"><div class="structure_field_info">core : <a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a></div></li><li id="Lean.Meta.SavedState.meta" class="structure_field"><div class="structure_field_info">meta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></div></li></ul><p>Backtrackable state for the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.SavedState" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedSavedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L274-L274">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedSavedState">Lean.Meta.instInhabitedSavedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedSavedState">Lean.Meta.instInhabitedSavedState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">core</span> := <span class="fn">default</span>, <span class="fn">meta</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L279-L297">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Meta.Context.mk"><li id="Lean.Meta.Context.config" class="structure_field"><div class="structure_field_info">config : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a></div></li><li id="Lean.Meta.Context.lctx" class="structure_field"><div class="structure_field_doc"><p>Local context</p></div><div class="structure_field_info">lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></div></li><li id="Lean.Meta.Context.localInstances" class="structure_field"><div class="structure_field_doc"><p>Local instances in <code>lctx</code>.</p></div><div class="structure_field_info">localInstances : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a></div></li><li id="Lean.Meta.Context.defEqCtx?" class="structure_field"><div class="structure_field_doc"><p>Not <code>none</code> when inside of an <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> test. See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">PostponedEntry</a></code>.</p></div><div class="structure_field_info">defEqCtx? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqContext">Lean.Meta.DefEqContext</a></span></div></li><li id="Lean.Meta.Context.synthPendingDepth" class="structure_field"><div class="structure_field_doc"><p>Track the number of nested <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">synthPending</a></code> invocations. Nested invocations can happen
when the type class resolution invokes <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">synthPending</a></code>.</p><p>Remark: in the current implementation, <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">synthPending</a></code> fails if <code>synthPendingDepth > 0</code>.
We will add a configuration option if necessary.</p></div><div class="structure_field_info">synthPendingDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Meta.Context.canUnfold?" class="structure_field"><div class="structure_field_doc"><p>A predicate to control whether a constant can be unfolded or not at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code>.
Note that we do not cache results at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code> when <code>canUnfold?</code> is not <code>none</code>.</p></div><div class="structure_field_info">canUnfold? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a> → <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></span>)</span></div></li></ul><p>Contextual information for the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code> monad.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Meta.Context" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L299-L299">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.Meta.MetaM</a></span><span class="decl_args">
<span class="fn">(α : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#ReaderT">ReaderT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a> (<span class="fn"><a href="../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a> <a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L304-L304">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadMetaM">Lean.Meta.instMonadMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadMetaM">Lean.Meta.instMonadMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">let i := <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> (<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span>)</span>;
  <span class="fn">Monad.mk</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instInhabitedMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L306-L307">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instInhabitedMetaM">Lean.Meta.instInhabitedMetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.instInhabitedMetaM</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">fun <span class="fn">x</span> <span class="fn">x</span> =&gt <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadLCtxMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L309-L310">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadLCtxMetaM">Lean.Meta.instMonadLCtxMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/LocalContext.html#Lean.MonadLCtx">Lean.MonadLCtx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadLCtxMetaM">Lean.Meta.instMonadLCtxMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">getLCtx</span> := <span class="fn">do
      let __do_lift ← <span class="fn">read</span>
      <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.lctx</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadMCtxMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L312-L314">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadMCtxMetaM">Lean.Meta.instMonadMCtxMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx">Lean.MonadMCtx</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadEnvMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L316-L318">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadEnvMetaM">Lean.Meta.instMonadEnvMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instAddMessageContextMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L320-L321">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instAddMessageContextMetaM">Lean.Meta.instAddMessageContextMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.AddMessageContext">Lean.AddMessageContext</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instAddMessageContextMetaM">Lean.Meta.instAddMessageContextMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">addMessageContext</span> := <span class="fn">Lean.addMessageContextFull</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.saveState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L323-L324">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState">Lean.Meta.saveState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState">Lean.Meta.saveState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Init/Prelude.html#getThe">getThe</a> <a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a></span>
  let __do_lift_1 ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">{ <span class="fn">core</span> := <span class="fn">__do_lift</span>, <span class="fn">meta</span> := <span class="fn">__do_lift_1</span> }</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.SavedState.restore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L327-L329">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.restore">Lean.Meta.SavedState.restore</a></span><span class="decl_args">
<span class="fn">(b : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Restore backtrackable parts of the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instMonadBacktrackSavedStateMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L331-L333">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadBacktrackSavedStateMetaM">Lean.Meta.instMonadBacktrackSavedStateMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack">Lean.MonadBacktrack</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instMonadBacktrackSavedStateMetaM">Lean.Meta.instMonadBacktrackSavedStateMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">saveState</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState">Lean.Meta.saveState</a>, <span class="fn">restoreState</span> := <span class="fn">fun <span class="fn">s</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.restore">Lean.Meta.SavedState.restore</a> <span class="fn">s</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L335-L336">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">Lean.Meta.MetaM.run</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a>
  <span class="fn">{ <span class="fn">config</span> :=
      <span class="fn">{ <span class="fn">foApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">ctxApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">quasiPatternApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">constApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
        <span class="fn">isDefEqStuckEx</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">transparency</span> := <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a>, <span class="fn">zetaNonDep</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
        <span class="fn">trackZeta</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">unificationHints</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">proofIrrelevance</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">assignSyntheticOpaque</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
        <span class="fn">ignoreLevelMVarDepth</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">offsetCnstrs</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">etaStruct</span> := <a href="../.././Init/Meta.html#Lean.Meta.EtaStructMode.all">Lean.Meta.EtaStructMode.all</a> }</span>,
    <span class="fn">lctx</span> :=
      <span class="fn">{ <span class="fn">fvarIdToDecl</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">decls</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
            <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
            <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">localInstances</span> := <span class="fn">#[]</span>, <span class="fn">defEqCtx?</span> := <span class="fn">none</span>, <span class="fn">synthPendingDepth</span> := <span class="fn">0</span>, <span class="fn">canUnfold?</span> := <span class="fn">none</span> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>
  <span class="fn">{ <span class="fn">mctx</span> :=
      <span class="fn">{ <span class="fn">depth</span> := <span class="fn">0</span>, <span class="fn">mvarCounter</span> := <span class="fn">0</span>,
        <span class="fn">lDepth</span> := <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">decls</span> := <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">userNames</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">lAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">eAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">dAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">cache</span> :=
      <span class="fn">{ <span class="fn">inferType</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">funInfo</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">synthInstance</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">whnfDefault</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">whnfAll</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">defEq</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">zetaFVarIds</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>,
    <span class="fn">postponed</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> (<span class="fn"><span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">Lean.Meta.MetaM.run</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/StateRef.html#StateRefT'.run">StateRefT'.run</a> (<span class="fn"><span class="fn">x</span> <span class="fn">ctx</span></span>) <span class="fn">s</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM.run'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L338-L339">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run'">Lean.Meta.MetaM.run'</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a>
  <span class="fn">{ <span class="fn">config</span> :=
      <span class="fn">{ <span class="fn">foApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">ctxApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">quasiPatternApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">constApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
        <span class="fn">isDefEqStuckEx</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">transparency</span> := <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a>, <span class="fn">zetaNonDep</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
        <span class="fn">trackZeta</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">unificationHints</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">proofIrrelevance</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">assignSyntheticOpaque</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
        <span class="fn">ignoreLevelMVarDepth</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">offsetCnstrs</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">etaStruct</span> := <a href="../.././Init/Meta.html#Lean.Meta.EtaStructMode.all">Lean.Meta.EtaStructMode.all</a> }</span>,
    <span class="fn">lctx</span> :=
      <span class="fn">{ <span class="fn">fvarIdToDecl</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">decls</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
            <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
            <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">localInstances</span> := <span class="fn">#[]</span>, <span class="fn">defEqCtx?</span> := <span class="fn">none</span>, <span class="fn">synthPendingDepth</span> := <span class="fn">0</span>, <span class="fn">canUnfold?</span> := <span class="fn">none</span> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>
  <span class="fn">{ <span class="fn">mctx</span> :=
      <span class="fn">{ <span class="fn">depth</span> := <span class="fn">0</span>, <span class="fn">mvarCounter</span> := <span class="fn">0</span>,
        <span class="fn">lDepth</span> := <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">decls</span> := <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">userNames</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">lAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">eAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">dAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">cache</span> :=
      <span class="fn">{ <span class="fn">inferType</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">funInfo</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">synthInstance</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">whnfDefault</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">whnfAll</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">defEq</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">zetaFVarIds</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>,
    <span class="fn">postponed</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run'">Lean.Meta.MetaM.run'</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">Prod.fst</span> <a href="../.././Init/Prelude.html#Functor.map">&lt$&gt</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">Lean.Meta.MetaM.run</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.MetaM.toIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L341-L343">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.toIO">Lean.Meta.MetaM.toIO</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(ctxCore : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Lean.Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(sCore : <a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a>
  <span class="fn">{ <span class="fn">config</span> :=
      <span class="fn">{ <span class="fn">foApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">ctxApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">quasiPatternApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">constApprox</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
        <span class="fn">isDefEqStuckEx</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">transparency</span> := <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a>, <span class="fn">zetaNonDep</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
        <span class="fn">trackZeta</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">unificationHints</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">proofIrrelevance</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">assignSyntheticOpaque</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
        <span class="fn">ignoreLevelMVarDepth</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">offsetCnstrs</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">etaStruct</span> := <a href="../.././Init/Meta.html#Lean.Meta.EtaStructMode.all">Lean.Meta.EtaStructMode.all</a> }</span>,
    <span class="fn">lctx</span> :=
      <span class="fn">{ <span class="fn">fvarIdToDecl</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">decls</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
            <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
            <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">localInstances</span> := <span class="fn">#[]</span>, <span class="fn">defEqCtx?</span> := <span class="fn">none</span>, <span class="fn">synthPendingDepth</span> := <span class="fn">0</span>, <span class="fn">canUnfold?</span> := <span class="fn">none</span> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>
  <span class="fn">{ <span class="fn">mctx</span> :=
      <span class="fn">{ <span class="fn">depth</span> := <span class="fn">0</span>, <span class="fn">mvarCounter</span> := <span class="fn">0</span>,
        <span class="fn">lDepth</span> := <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">decls</span> := <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">userNames</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">lAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">eAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">dAssignment</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">cache</span> :=
      <span class="fn">{ <span class="fn">inferType</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">funInfo</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">synthInstance</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">whnfDefault</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">whnfAll</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span>,
        <span class="fn">defEq</span> :=
          <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.Node.entries">Lean.PersistentHashMap.Node.entries</a> <span class="fn">Lean.PersistentHashMap.mkEmptyEntriesArray</span></span>, <span class="fn">size</span> := <span class="fn">0</span> }</span> }</span>,
    <span class="fn">zetaFVarIds</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>,
    <span class="fn">postponed</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.toIO">Lean.Meta.MetaM.toIO</a> <span class="fn">x</span> <span class="fn">ctxCore</span> <span class="fn">sCore</span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __discr ← <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM.toIO">Lean.Core.CoreM.toIO</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM.run">Lean.Meta.MetaM.run</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span>) <span class="fn">ctxCore</span> <span class="fn">sCore</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <span class="fn">(<span class="fn">(<span class="fn">a</span>, <span class="fn">s</span>)</span>, <span class="fn">sCore</span>)</span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#Prod.mk">pure</a> <span class="fn">(<span class="fn">a</span>, <span class="fn">sCore</span>, <span class="fn">s</span>)</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instMetaEvalMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L345-L346">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instMetaEvalMetaM">Lean.Meta.instMetaEvalMetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Lean/Eval.html#Lean.MetaEval">Lean.MetaEval</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Eval.html#Lean.MetaEval">Lean.MetaEval</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.throwIsDefEqStuck"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L348-L349">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.throwIsDefEqStuck">Lean.Meta.throwIsDefEqStuck</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.throwIsDefEqStuck</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> (<span class="fn"><a href="../.././Lean/Exception.html#Lean.Exception.internal">Lean.Exception.internal</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqStuckExceptionId">Lean.Meta.isDefEqStuckExceptionId</a></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.liftMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L357-L358">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMetaM">Lean.Meta.liftMetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMetaM">Lean.Meta.liftMetaM</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mapMetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L360-L361">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn">{<span class="fn">α</span> : <span class="fn">Type</span>} → <span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">f</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun <span class="fn">runInBase</span> =&gt <span class="fn"><span class="fn">f</span> (<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">α</span></span>) (<span class="fn"><span class="fn">runInBase</span> <span class="fn">x</span></span>)</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.map1MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L363-L364">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <span class="fn">Sort u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn">{<span class="fn">α</span> : <span class="fn">Type</span>} → <span class="fn">(<span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span>) → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a> <span class="fn">f</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun <span class="fn">runInBase</span> =&gt <span class="fn"><span class="fn">f</span> (<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">α</span></span>) <span class="fn">fun <span class="fn">b</span> =&gt <span class="fn"><span class="fn">runInBase</span> (<span class="fn"><span class="fn">k</span> <span class="fn">b</span></span>)</span></span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.map2MetaM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L366-L367">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{β : <span class="fn">Sort u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{γ : <span class="fn">Sort u_3</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn">{<span class="fn">α</span> : <span class="fn">Type</span>} → <span class="fn">(<span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span></span>) → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> <span class="fn">f</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun <span class="fn">runInBase</span> =&gt <span class="fn"><span class="fn">f</span> (<span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT.stM">stM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span> <span class="fn">α</span></span>) <span class="fn">fun <span class="fn">b</span> <span class="fn">c</span> =&gt <span class="fn"><span class="fn">runInBase</span> (<span class="fn"><span class="fn">k</span> <span class="fn">b</span> <span class="fn">c</span></span>)</span></span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.modifyCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L372-L373">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyCache">Lean.Meta.modifyCache</a></span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Lean.Meta.Cache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Lean.Meta.Cache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.modifyInferTypeCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L375-L376">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyInferTypeCache">Lean.Meta.modifyInferTypeCache</a></span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.InferTypeCache">Lean.Meta.InferTypeCache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.modifyDefEqCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L378-L379">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyDefEqCache">Lean.Meta.modifyDefEqCache</a></span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.DefEqCache">Lean.Meta.DefEqCache</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.getLocalInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L381-L382">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalInstances">Lean.Meta.getLocalInstances</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalInstances">Lean.Meta.getLocalInstances</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">read</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.localInstances</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getConfig"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L384-L385">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig">Lean.Meta.getConfig</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig">Lean.Meta.getConfig</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">read</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.config</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.resetZetaFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L387-L388">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resetZetaFVarIds">Lean.Meta.resetZetaFVarIds</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resetZetaFVarIds">Lean.Meta.resetZetaFVarIds</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun <span class="fn">s</span> =&gt <span class="fn">{ <span class="fn">mctx</span> := <span class="fn"><span class="fn">s</span>.mctx</span>, <span class="fn">cache</span> := <span class="fn"><span class="fn">s</span>.cache</span>, <span class="fn">zetaFVarIds</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">postponed</span> := <span class="fn"><span class="fn">s</span>.postponed</span> }</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getZetaFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L390-L391">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getZetaFVarIds">Lean.Meta.getZetaFVarIds</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.FVarIdSet">Lean.FVarIdSet</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getZetaFVarIds">Lean.Meta.getZetaFVarIds</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.zetaFVarIds</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L394-L395">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span>)</span></div></div><p>Return the array of postponed universe level constraints.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.postponed</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.setPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L398-L399">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setPostponed">Lean.Meta.setPostponed</a></span><span class="decl_args">
<span class="fn">(postponed : <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Set the array of postponed universe level constraints.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.setPostponed">Lean.Meta.setPostponed</a> <span class="fn">postponed</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun <span class="fn">s</span> =&gt <span class="fn">{ <span class="fn">mctx</span> := <span class="fn"><span class="fn">s</span>.mctx</span>, <span class="fn">cache</span> := <span class="fn"><span class="fn">s</span>.cache</span>, <span class="fn">zetaFVarIds</span> := <span class="fn"><span class="fn">s</span>.zetaFVarIds</span>, <span class="fn">postponed</span> := <span class="fn">postponed</span> }</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.modifyPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L402-L403">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyPostponed">Lean.Meta.modifyPostponed</a></span><span class="decl_args">
<span class="fn">(f : <span class="fn"><span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span> → <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Modify the array of postponed universe level constraints.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.modifyPostponed">Lean.Meta.modifyPostponed</a> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun <span class="fn">s</span> =&gt <span class="fn">{ <span class="fn">mctx</span> := <span class="fn"><span class="fn">s</span>.mctx</span>, <span class="fn">cache</span> := <span class="fn"><span class="fn">s</span>.cache</span>, <span class="fn">zetaFVarIds</span> := <span class="fn"><span class="fn">s</span>.zetaFVarIds</span>, <span class="fn">postponed</span> := <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">s</span>.postponed</span></span> }</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.useEtaStruct"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L414-L418">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.useEtaStruct">Lean.Meta.useEtaStruct</a></span><span class="decl_args">
<span class="fn">(inductName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.useEtaStruct">useEtaStruct</a> inductName</code> return <code>true</code> if we eta for structures is enabled for
for the inductive datatype <code>inductName</code>.</p><p>Recall we have three different settings: <code>.none</code> (never use it), <code>.all</code> (always use it), <code>.notClasses</code>
(enabled only for structure-like inductive types that are not classes).</p><p>The parameter <code>inductName</code> affects the result only if the current setting is <code>.notClasses</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="mod_doc"><p>WARNING: The following 4 constants are a hack for simulating forward declarations.
They are defined later using the <code>export</code> attribute. This is hackish because we
have to hard-code the true arity of these definitions here, and make sure the C names match.
We have used another hack based on <code><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a></code>s in the past, it was safer but less efficient.</p></div><div class="decl" id="Lean.Meta.whnf"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L428-L428">source</a></div><div class="attributes">@[extern 6 lean_whnf]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span></div></div><p>Reduces an expression to its Weak Head Normal Form.
This is when the topmost expression has been fully reduced,
but may contain subexpressions which have not been reduced.</p></div></div><div class="decl" id="Lean.Meta.inferType"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L430-L430">source</a></div><div class="attributes">@[extern 6 lean_infer_type]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.inferType">Lean.Meta.inferType</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span></div></div><p>Returns the inferred type of the given expression, or fails if it is not type-correct.</p></div></div><div class="decl" id="Lean.Meta.isExprDefEqAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L431-L431">source</a></div><div class="attributes">@[extern 7 lean_is_expr_def_eq]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEqAux">Lean.Meta.isExprDefEqAux</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div></div></div><div class="decl" id="Lean.Meta.isLevelDefEqAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L432-L432">source</a></div><div class="attributes">@[extern 7 lean_is_level_def_eq]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEqAux">Lean.Meta.isLevelDefEqAux</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a> → <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div></div></div><div class="decl" id="Lean.Meta.synthPending"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L433-L433">source</a></div><div class="attributes">@[extern 6 lean_synth_pending]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.synthPending">Lean.Meta.synthPending</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div></div></div><div class="decl" id="Lean.Meta.whnfForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L435-L437">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfForall">Lean.Meta.whnfForall</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfForall">Lean.Meta.whnfForall</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let e' ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span></span>
  <span class="fn">if <span class="fn"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.isForall">Lean.Expr.isForall</a> <span class="fn">e'</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e'</span></span> else <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withIncRecDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L440-L441">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withIncRecDepth">Lean.Meta.withIncRecDepth</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withIncRecDepth">Lean.Meta.withIncRecDepth</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> (<span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.withIncRecDepth</span></span>) <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshExprMVarAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L448-L452">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVarAt">Lean.Meta.mkFreshExprMVarAt</a></span><span class="decl_args">
<span class="fn">(lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(localInsts : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(userName : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(numScopeArgs : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Nat">Nat</a> <span class="fn">0</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshLevelMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L454-L457">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let mvarId ← <span class="fn">Lean.mkFreshLMVarId</span>
  <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun <span class="fn">mctx</span> =&gt <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.addLevelMVarDecl">Lean.MetavarContext.addLevelMVarDecl</a> <span class="fn">mctx</span> <span class="fn">mvarId</span></span></span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Level.html#Lean.mkLevelMVar">Lean.mkLevelMVar</a> <span class="fn">mvarId</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshExprMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L470-L471">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVar">Lean.Meta.mkFreshExprMVar</a></span><span class="decl_args">
<span class="fn">(type? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(userName : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVar">Lean.Meta.mkFreshExprMVar</a> <span class="fn">type?</span> <span class="fn">kind</span> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkFreshExprMVarImpl">Lean.Meta.mkFreshExprMVarImpl</a> <span class="fn">type?</span> <span class="fn">kind</span> <span class="fn">userName</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshTypeMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L473-L475">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshTypeMVar">Lean.Meta.mkFreshTypeMVar</a></span><span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(userName : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshTypeMVar">Lean.Meta.mkFreshTypeMVar</a> <span class="fn">kind</span> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let u ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a>
  <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVar">Lean.Meta.mkFreshExprMVar</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.mkSort">Lean.mkSort</a> <span class="fn">u</span></span>)</span>) <span class="fn">kind</span> <span class="fn">userName</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshExprMVarWithId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L484-L490">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshExprMVarWithId">Lean.Meta.mkFreshExprMVarWithId</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(type? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(userName : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshLevelMVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L492-L494">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVars">Lean.Meta.mkFreshLevelMVars</a></span><span class="decl_args">
<span class="fn">(num : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVars">Lean.Meta.mkFreshLevelMVars</a> <span class="fn">num</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Nat/Control.html#Nat.foldM">Nat.foldM</a>
    (<span class="fn">fun <span class="fn">x</span> <span class="fn">us</span> =&gt <span class="fn">do
      let __do_lift ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVar">Lean.Meta.mkFreshLevelMVar</a>
      <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">us</span></span>)</span></span></span>)
    <span class="fn">[]</span> <span class="fn">num</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFreshLevelMVarsFor"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L496-L497">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVarsFor">Lean.Meta.mkFreshLevelMVarsFor</a></span><span class="decl_args">
<span class="fn">(info : <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVarsFor">Lean.Meta.mkFreshLevelMVarsFor</a> <span class="fn">info</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVars">Lean.Meta.mkFreshLevelMVars</a> (<span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo.numLevelParams">Lean.ConstantInfo.numLevelParams</a> <span class="fn">info</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkConstWithFreshMVarLevels"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L503-L505">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels">Lean.Meta.mkConstWithFreshMVarLevels</a></span><span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Create a constant with the given name and new universe metavariables.
Example: <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels">mkConstWithFreshMVarLevels</a> `Monad</code> returns <code>@Monad.{?u, ?v}</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels">Lean.Meta.mkConstWithFreshMVarLevels</a> <span class="fn">declName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let info ← <span class="fn"><a href="../.././Lean/MonadEnv.html#Lean.getConstInfo">Lean.getConstInfo</a> <span class="fn">declName</span></span>
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFreshLevelMVarsFor">Lean.Meta.mkFreshLevelMVarsFor</a> <span class="fn">info</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.mkConst">Lean.mkConst</a> <span class="fn">declName</span> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getTransparency"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L508-L509">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode">Lean.Meta.TransparencyMode</a></span></div></div><p>Return current transparency setting/mode.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getConfig">Lean.Meta.getConfig</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.transparency</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.shouldReduceAll"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L511-L512">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceAll">Lean.Meta.shouldReduceAll</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceAll">Lean.Meta.shouldReduceAll</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.all">Lean.Meta.TransparencyMode.all</a></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.shouldReduceReducibleOnly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L514-L515">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceReducibleOnly">Lean.Meta.shouldReduceReducibleOnly</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceReducibleOnly">Lean.Meta.shouldReduceReducibleOnly</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTransparency">Lean.Meta.getTransparency</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.findDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L521-L522">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.findDecl?">Lean.MVarId.findDecl?</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a></span>)</span></div></div><p>Return <code>some mvarDecl</code> where <code>mvarDecl</code> is <code>mvarId</code> declaration in the current metavariable context.
Return <code>none</code> if <code>mvarId</code> has no declaration in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.findDecl?">Lean.MVarId.findDecl?</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.getMCtx</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.findDecl?">Lean.MetavarContext.findDecl?</a> <span class="fn">__do_lift</span> <span class="fn">mvarId</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.findMVarDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L525-L526">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.findMVarDecl?">Lean.Meta.findMVarDecl?</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.findMVarDecl?">Lean.Meta.findMVarDecl?</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.findDecl?">Lean.MVarId.findDecl?</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.getDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L532-L535">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">Lean.MVarId.getDecl</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a></span></div></div><p>Return <code>mvarId</code> declaration in the current metavariable context.
Throw an exception if <code>mvarId</code> is not declarated in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.getMVarDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L538-L539">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getMVarDecl">Lean.Meta.getMVarDecl</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getMVarDecl">Lean.Meta.getMVarDecl</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">Lean.MVarId.getDecl</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.getKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L544-L545">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.getKind">Lean.MVarId.getKind</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a></span></div></div><p>Return <code>mvarId</code> kind. Throw an exception if <code>mvarId</code> is not declarated in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getKind">Lean.MVarId.getKind</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">Lean.MVarId.getDecl</a> <span class="fn">mvarId</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.kind</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getMVarDeclKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L548-L549">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getMVarDeclKind">Lean.Meta.getMVarDeclKind</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getMVarDeclKind">Lean.Meta.getMVarDeclKind</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getKind">Lean.MVarId.getKind</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.isSyntheticMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L552-L556">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isSyntheticMVar">Lean.Meta.isSyntheticMVar</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Reture <code>true</code> if <code>e</code> is a synthetic (or synthetic opaque) metavariable</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.MVarId.setKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L561-L562">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.setKind">Lean.MVarId.setKind</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Set <code>mvarId</code> kind in the current metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setKind">Lean.MVarId.setKind</a> <span class="fn">mvarId</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun <span class="fn">mctx</span> =&gt <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.setMVarKind">Lean.MetavarContext.setMVarKind</a> <span class="fn">mctx</span> <span class="fn">mvarId</span> <span class="fn">kind</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.setMVarKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L565-L566">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setMVarKind">Lean.Meta.setMVarKind</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.setMVarKind">Lean.Meta.setMVarKind</a> <span class="fn">mvarId</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setKind">Lean.MVarId.setKind</a> <span class="fn">mvarId</span> <span class="fn">kind</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.setType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L570-L571">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.setType">Lean.MVarId.setType</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Update the type of the given metavariable. This function assumes the new type is
definitionally equal to the current one</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setType">Lean.MVarId.setType</a> <span class="fn">mvarId</span> <span class="fn">type</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun <span class="fn">mctx</span> =&gt <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.setMVarType">Lean.MetavarContext.setMVarType</a> <span class="fn">mctx</span> <span class="fn">mvarId</span> <span class="fn">type</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.setMVarType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L574-L575">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setMVarType">Lean.Meta.setMVarType</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.setMVarType">Lean.Meta.setMVarType</a> <span class="fn">mvarId</span> <span class="fn">type</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setType">Lean.MVarId.setType</a> <span class="fn">mvarId</span> <span class="fn">type</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.isReadOnly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L581-L582">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly">Lean.MVarId.isReadOnly</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return true if the given metavariable is "read-only".
That is, its <code>depth</code> is different from the current metavariable context depth.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly">Lean.MVarId.isReadOnly</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">Lean.MVarId.getDecl</a> <span class="fn">mvarId</span></span>
  let __do_lift_1 ← <span class="fn">Lean.getMCtx</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><span class="fn"><span class="fn">__do_lift</span>.depth</span> <a href="../.././Init/Core.html#bne">!=</a> <span class="fn"><span class="fn">__do_lift_1</span>.depth</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.isReadOnlyExprMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L585-L586">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyExprMVar">Lean.Meta.isReadOnlyExprMVar</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyExprMVar">Lean.Meta.isReadOnlyExprMVar</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly">Lean.MVarId.isReadOnly</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.isReadOnlyOrSyntheticOpaque"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L593-L597">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnlyOrSyntheticOpaque">Lean.MVarId.isReadOnlyOrSyntheticOpaque</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return true if <code>mvarId.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnly">isReadOnly</a></code> return true or if <code>mvarId</code> is a synthetic opaque metavariable.</p><p>Recall <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> will not assign a value to <code>mvarId</code> if <code>mvarId.<a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnlyOrSyntheticOpaque">isReadOnlyOrSyntheticOpaque</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L600-L601">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar">Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar">Lean.Meta.isReadOnlyOrSyntheticOpaqueExprMVar</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.isReadOnlyOrSyntheticOpaque">Lean.MVarId.isReadOnlyOrSyntheticOpaque</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.LMVarId.getLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L606-L609">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.LMVarId.getLevel">Lean.LMVarId.getLevel</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Return the level of the given universe level metavariable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.getLevelMVarDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L612-L613">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getLevelMVarDepth">Lean.Meta.getLevelMVarDepth</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getLevelMVarDepth">Lean.Meta.getLevelMVarDepth</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.LMVarId.getLevel">Lean.LMVarId.getLevel</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.LMVarId.isReadOnly"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L619-L623">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.LMVarId.isReadOnly">Lean.LMVarId.isReadOnly</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return true if the given universe metavariable is "read-only".
That is, its <code>depth</code> is different from the current metavariable context depth.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isReadOnlyLevelMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L626-L627">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyLevelMVar">Lean.Meta.isReadOnlyLevelMVar</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isReadOnlyLevelMVar">Lean.Meta.isReadOnlyLevelMVar</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.LMVarId.isReadOnly">Lean.LMVarId.isReadOnly</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.setUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L632-L633">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.setUserName">Lean.MVarId.setUserName</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(newUserName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Set the user-facing name for the given metavariable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setUserName">Lean.MVarId.setUserName</a> <span class="fn">mvarId</span> <span class="fn">newUserName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MonadMCtx.modifyMCtx">Lean.modifyMCtx</a> <span class="fn">fun <span class="fn">mctx</span> =&gt <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.setMVarUserName">Lean.MetavarContext.setMVarUserName</a> <span class="fn">mctx</span> <span class="fn">mvarId</span> <span class="fn">newUserName</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.setMVarUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L636-L637">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setMVarUserName">Lean.Meta.setMVarUserName</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(userNameNew : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.setMVarUserName">Lean.Meta.setMVarUserName</a> <span class="fn">mvarId</span> <span class="fn">userNameNew</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.setUserName">Lean.MVarId.setUserName</a> <span class="fn">mvarId</span> <span class="fn">userNameNew</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.throwUnknown"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L642-L643">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown">Lean.FVarId.throwUnknown</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">α</span></span></div></div><p>Throw an exception saying <code>fvarId</code> is not declared in the current local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown">Lean.FVarId.throwUnknown</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Exception.html#Lean.throwError">Lean.throwError</a>
    (<span class="fn"><span class="fn"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quotunknown free variable '&quot</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.mkFVar">Lean.mkFVar</a> <span class="fn">fvarId</span></span>)</span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quot'&quot</span></span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.throwUnknownFVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L646-L647">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.throwUnknownFVar">Lean.Meta.throwUnknownFVar</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.throwUnknownFVar">Lean.Meta.throwUnknownFVar</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown">Lean.FVarId.throwUnknown</a> <span class="fn">fvarId</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.findDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L652-L653">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.findDecl?">Lean.FVarId.findDecl?</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>)</span></div></div><p>Return <code>some decl</code> if <code>fvarId</code> is declared in the current local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.findDecl?">Lean.FVarId.findDecl?</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.getLCtx</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalContext.find?">Lean.LocalContext.find?</a> <span class="fn">__do_lift</span> <span class="fn">fvarId</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.findLocalDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L656-L657">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.findLocalDecl?">Lean.Meta.findLocalDecl?</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.findLocalDecl?">Lean.Meta.findLocalDecl?</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.findDecl?">Lean.FVarId.findDecl?</a> <span class="fn">fvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.getDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L663-L666">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></div></div><p>Return the local declaration for the given free variable.
Throw an exception if local declaration is not in the current local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.getLCtx</span>
  <span class="fn">match <span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalContext.find?">Lean.LocalContext.find?</a> <span class="fn">__do_lift</span> <span class="fn">fvarId</span></span> with
    | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">d</span></span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">d</span></span>
    | <span class="fn">none</span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.throwUnknown">Lean.FVarId.throwUnknown</a> <span class="fn">fvarId</span></span>)</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L669-L670">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalDecl">Lean.Meta.getLocalDecl</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalDecl">Lean.Meta.getLocalDecl</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.getType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L673-L674">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getType">Lean.FVarId.getType</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Return the type of the given free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getType">Lean.FVarId.getType</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl.type">Lean.LocalDecl.type</a> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.getBinderInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L677-L678">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getBinderInfo">Lean.FVarId.getBinderInfo</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span></div></div><p>Return the binder information for the given free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getBinderInfo">Lean.FVarId.getBinderInfo</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl.binderInfo">Lean.LocalDecl.binderInfo</a> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.getValue?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L681-L682">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getValue?">Lean.FVarId.getValue?</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Return <code>some value</code> if the given free variable is a let-declaration, and <code>none</code> otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getValue?">Lean.FVarId.getValue?</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl.value?">Lean.LocalDecl.value?</a> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.getUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L685-L686">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.getUserName">Lean.FVarId.getUserName</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><p>Return the user-facing name for the given free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getUserName">Lean.FVarId.getUserName</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl.userName">Lean.LocalDecl.userName</a> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.FVarId.isLetVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L689-L690">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.FVarId.isLetVar">Lean.FVarId.isLetVar</a></span><span class="decl_args">
<span class="fn">(fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> is the free variable is a let-variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.isLetVar">Lean.FVarId.isLetVar</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> <span class="fn">fvarId</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl.isLet">Lean.LocalDecl.isLet</a> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getFVarLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L694-L695">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarLocalDecl">Lean.Meta.getFVarLocalDecl</a></span><span class="decl_args">
<span class="fn">(fvar : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></div></div><p>Get the local declaration associated to the given <code>Expr</code> in the current local
context. Fails if the given expression is not a fvar or if no such declaration exists.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarLocalDecl">Lean.Meta.getFVarLocalDecl</a> <span class="fn">fvar</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.FVarId.getDecl">Lean.FVarId.getDecl</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.fvarId!">Lean.Expr.fvarId!</a> <span class="fn">fvar</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getLocalDeclFromUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L701-L704">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalDeclFromUserName">Lean.Meta.getLocalDeclFromUserName</a></span><span class="decl_args">
<span class="fn">(userName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></div></div><p>Given a user-facing name for a free variable, return its declaration in the current local context.
Throw an exception if free variable is not declared.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.getFVarFromUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L707-L709">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarFromUserName">Lean.Meta.getFVarFromUserName</a></span><span class="decl_args">
<span class="fn">(userName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Given a user-facing name for a free variable, return the free variable or throw if not declared.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getFVarFromUserName">Lean.Meta.getFVarFromUserName</a> <span class="fn">userName</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let d ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getLocalDeclFromUserName">Lean.Meta.getLocalDeclFromUserName</a> <span class="fn">userName</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.fvar">Lean.Expr.fvar</a> (<span class="fn"><a href="../.././Lean/LocalContext.html#Lean.LocalDecl.fvarId">Lean.LocalDecl.fvarId</a> <span class="fn">d</span></span>)</span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.liftMkBindingM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L714-L723">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.MkBindingM">Lean.MetavarContext.MkBindingM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><p>Lift a <code>MkBindingM</code> monadic action <code>x</code> to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Expr.abstractRangeM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L732-L733">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM">Lean.Expr.abstractRangeM</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Similar to <code>abstracM</code> but consider only the first <code>min n xs.size</code> entries in <code>xs</code></p><p>It is also similar to <code>Expr.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.abstractRange">abstractRange</a></code>, but handles metavariables correctly.
It uses <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.elimMVarDeps">elimMVarDeps</a></code> to ensure <code>e</code> and the type of the free variables <code>xs</code> do not
contain a metavariable <code>?m</code> s.t. local context of <code>?m</code> contains a free variable in <code>xs</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM">Lean.Expr.abstractRangeM</a> <span class="fn">e</span> <span class="fn">n</span> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a> (<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.abstractRange">Lean.MetavarContext.abstractRange</a> <span class="fn">e</span> <span class="fn">n</span> <span class="fn">xs</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.abstractRange"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L736-L737">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.abstractRange">Lean.Meta.abstractRange</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.abstractRange">Lean.Meta.abstractRange</a> <span class="fn">e</span> <span class="fn">n</span> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM">Lean.Expr.abstractRangeM</a> <span class="fn">e</span> <span class="fn">n</span> <span class="fn">xs</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Expr.abstractM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L743-L744">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractM">Lean.Expr.abstractM</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Replace free (or meta) variables <code>xs</code> with loose bound variables.
Similar to <code>Expr.<a href="../.././Lean/Meta/Basic.html#Lean.Meta.abstract">abstract</a></code>, but handles metavariables correctly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractM">Lean.Expr.abstractM</a> <span class="fn">e</span> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractRangeM">Lean.Expr.abstractRangeM</a> <span class="fn">e</span> (<span class="fn"><a href="../.././Init/Prelude.html#Array.size">Array.size</a> <span class="fn">xs</span></span>) <span class="fn">xs</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.abstract"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L747-L748">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.abstract">Lean.Meta.abstract</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.abstract">Lean.Meta.abstract</a> <span class="fn">e</span> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Expr.abstractM">Lean.Expr.abstractM</a> <span class="fn">e</span> <span class="fn">xs</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.collectForwardDeps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L754-L755">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.collectForwardDeps">Lean.Meta.collectForwardDeps</a></span><span class="decl_args">
<span class="fn">(toRevert : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(preserveOrder : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Collect forward dependencies for the free variables in <code>toRevert</code>.
Recall that when reverting free variables <code>xs</code>, we must also revert their forward dependencies.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.collectForwardDeps">Lean.Meta.collectForwardDeps</a> <span class="fn">toRevert</span> <span class="fn">preserveOrder</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a> (<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.collectForwardDeps">Lean.MetavarContext.collectForwardDeps</a> <span class="fn">toRevert</span> <span class="fn">preserveOrder</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkForallFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L762-L763">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkForallFVars">Lean.Meta.mkForallFVars</a></span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(usedOnly : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(usedLetOnly : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(binderInfoForMVars : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">Lean.BinderInfo.implicit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Takes an array <code>xs</code> of free variables or metavariables and a term <code>e</code> that may contain those variables, and abstracts and binds them as universal quantifiers.</p><ul>
<li>if <code>usedOnly = true</code> then only variables that the expression body depends on will appear.</li>
<li>if <code>usedLetOnly = true</code> same as <code>usedOnly</code> except for let-bound variables. (That is, local constants which have been assigned a value.)</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.mkLambdaFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L768-L769">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLambdaFVars">Lean.Meta.mkLambdaFVars</a></span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(usedOnly : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(usedLetOnly : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(binderInfoForMVars : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">Lean.BinderInfo.implicit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Takes an array <code>xs</code> of free variables and metavariables and a
body term <code>e</code> and creates <code>fun ..xs => e</code>, suitably
abstracting <code>e</code> and the types in <code>xs</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.mkLetFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L771-L772">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLetFVars">Lean.Meta.mkLetFVars</a></span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(usedLetOnly : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(binderInfoForMVars : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo.implicit">Lean.BinderInfo.implicit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLetFVars">Lean.Meta.mkLetFVars</a> <span class="fn">xs</span> <span class="fn">e</span> <span class="fn">usedLetOnly</span> <span class="fn">binderInfoForMVars</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLambdaFVars">Lean.Meta.mkLambdaFVars</a> <span class="fn">xs</span> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">usedLetOnly</span> <span class="fn">binderInfoForMVars</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkFunUnit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L775-L776">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFunUnit">Lean.Meta.mkFunUnit</a></span><span class="decl_args">
<span class="fn">(a : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p><code>fun _ : <a href="../.././Init/Prelude.html#Unit">Unit</a> => a</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkFunUnit">Lean.Meta.mkFunUnit</a> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> (<span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.mkFreshUserName">Lean.mkFreshUserName</a> <span class="fn">`x</span></span>)</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.mkLambda">Lean.mkLambda</a> <span class="fn">__do_lift</span> <a href="../.././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.mkConst">Lean.mkConst</a> <span class="fn">`Unit</span></span>) <span class="fn">a</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.elimMVarDeps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L778-L779">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.elimMVarDeps">Lean.Meta.elimMVarDeps</a></span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(preserveOrder : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.elimMVarDeps">Lean.Meta.elimMVarDeps</a> <span class="fn">xs</span> <span class="fn">e</span> <span class="fn">preserveOrder</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">if <span class="fn"><span class="fn"><a href="../.././Init/Data/Array/Basic.html#Array.isEmpty">Array.isEmpty</a> <span class="fn">xs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">e</span></span>
  else <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.liftMkBindingM">Lean.Meta.liftMkBindingM</a> (<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.elimMVarDeps">Lean.MetavarContext.elimMVarDeps</a> <span class="fn">xs</span> <span class="fn">e</span> <span class="fn">preserveOrder</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withConfig"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L782-L783">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withConfig">Lean.Meta.withConfig</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a> → <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Config">Lean.Meta.Config</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withConfig">withConfig</a> f x</code> executes <code>x</code> using the updated configuration object obtained by applying <code>f</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withTrackingZeta"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L785-L786">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withTrackingZeta">Lean.Meta.withTrackingZeta</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withoutProofIrrelevance"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L788-L789">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withoutProofIrrelevance">Lean.Meta.withoutProofIrrelevance</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withTransparency"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L791-L792">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(mode : <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode">Lean.Meta.TransparencyMode</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withDefault"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L795-L796">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withDefault">Lean.Meta.withDefault</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withDefault">withDefault</a> x</code> excutes <code>x</code> using the default transparency setting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withDefault">Lean.Meta.withDefault</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a> <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withReducible"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L799-L800">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">Lean.Meta.withReducible</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">withReducible</a> x</code> excutes <code>x</code> using the reducible transparency setting. In this setting only definitions tagged as <code>[reducible]</code> are unfolded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">Lean.Meta.withReducible</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a> <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withReducibleAndInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L806-L807">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducibleAndInstances">Lean.Meta.withReducibleAndInstances</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducibleAndInstances">withReducibleAndInstances</a> x</code> excutes <code>x</code> using the <code>.instances</code> transparency setting. In this setting only definitions tagged as <code>[reducible]</code>
or type class instances are unfolded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducibleAndInstances">Lean.Meta.withReducibleAndInstances</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.instances">Lean.Meta.TransparencyMode.instances</a> <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withAtLeastTransparency"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L813-L819">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withAtLeastTransparency">Lean.Meta.withAtLeastTransparency</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(mode : <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode">Lean.Meta.TransparencyMode</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> ensuring the transparency setting is at least <code>mode</code>.
Recall that <code>.all > .default > .instances > .reducible</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withAssignableSyntheticOpaque"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L822-L823">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withAssignableSyntheticOpaque">Lean.Meta.withAssignableSyntheticOpaque</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> allowing <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> to assign synthetic opaque metavariables.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.savingCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L830-L831">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.savingCache">Lean.Meta.savingCache</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.savingCache</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Meta.savingCacheImpl</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getTheoremInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L833-L837">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getTheoremInfo">Lean.Meta.getTheoremInfo</a></span><span class="decl_args">
<span class="fn">(info : <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">Lean.ConstantInfo</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getTheoremInfo">Lean.Meta.getTheoremInfo</a> <span class="fn">info</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.shouldReduceAll">Lean.Meta.shouldReduceAll</a>
  <span class="fn">if <span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">info</span></span>)</span> else <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">none</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.saveAndResetSynthInstanceCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L889-L892">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.saveAndResetSynthInstanceCache">Lean.Meta.saveAndResetSynthInstanceCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.restoreSynthInstanceCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L894-L895">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.restoreSynthInstanceCache">Lean.Meta.restoreSynthInstanceCache</a></span><span class="decl_args">
<span class="fn">(cache : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SynthInstanceCache">Lean.Meta.SynthInstanceCache</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.resettingSynthInstanceCache"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L902-L903">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resettingSynthInstanceCache">Lean.Meta.resettingSynthInstanceCache</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Reset <code>synthInstance</code> cache, execute <code>x</code>, and restore cache</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.resettingSynthInstanceCache</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Meta.resettingSynthInstanceCacheImpl</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.resettingSynthInstanceCacheWhen"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L905-L906">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.resettingSynthInstanceCacheWhen">Lean.Meta.resettingSynthInstanceCacheWhen</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(b : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resettingSynthInstanceCacheWhen">Lean.Meta.resettingSynthInstanceCacheWhen</a> <span class="fn">b</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn">b</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resettingSynthInstanceCache">Lean.Meta.resettingSynthInstanceCache</a> <span class="fn">x</span></span> else <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withNewLocalInstance"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L921-L922">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstance">Lean.Meta.withNewLocalInstance</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(className : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(fvar : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Add entry <code>{ className := className, fvar := fvar }</code> to localInstances,
and then execute continuation <code>k</code>.
It resets the type class cache using <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.resettingSynthInstanceCache">resettingSynthInstanceCache</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstance">Lean.Meta.withNewLocalInstance</a> <span class="fn">className</span> <span class="fn">fvar</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewLocalInstanceImp">Lean.Meta.withNewLocalInstanceImp</a> <span class="fn">className</span> <span class="fn">fvar</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.isClass?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1054-L1055">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isClass?">Lean.Meta.isClass?</a></span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isClass?">isClass?</a> type</code> return <code>some ClsName</code> if <code>type</code> is an instance of the class <code>ClsName</code>.
Example:</p><pre><code>#eval do
  let x ← mkAppM ``Inhabited #[mkConst ``Nat]
  <a href="../.././Init/System/IO.html#IO.println">IO.println</a> (← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.isClass?">isClass?</a> x)
  -- (some Inhabited)
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withNewLocalInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1060-L1061">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstances">Lean.Meta.withNewLocalInstances</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(fvars : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(j : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewLocalInstances">Lean.Meta.withNewLocalInstances</a> <span class="fn">fvars</span> <span class="fn">j</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewLocalInstancesImpAux">Lean.Meta.withNewLocalInstancesImpAux</a> <span class="fn">fvars</span> <span class="fn">j</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.forallTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1070-L1071">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescope">Lean.Meta.forallTelescope</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Given <code>type</code> of the form <code>forall xs, A</code>, execute <code>k xs A</code>.
This combinator will declare local declarations, create free variables for them,
execute <code>k</code> with updated local context, and make sure the cache is restored after executing <code>k</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescope">Lean.Meta.forallTelescope</a> <span class="fn">type</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallTelescopeImp">Lean.Meta.forallTelescopeImp</a> <span class="fn">type</span> <span class="fn">k</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.forallTelescopeReducing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1079-L1080">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescopeReducing">Lean.Meta.forallTelescopeReducing</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescope">forallTelescope</a></code>, but given <code>type</code> of the form <code>forall xs, A</code>,
it reduces <code>A</code> and continues bulding the telescope if it is a <code>forall</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescopeReducing">Lean.Meta.forallTelescopeReducing</a> <span class="fn">type</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallTelescopeReducingImp">Lean.Meta.forallTelescopeReducingImp</a> <span class="fn">type</span> <span class="fn">k</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.forallBoundedTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1088-L1089">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallBoundedTelescope">Lean.Meta.forallBoundedTelescope</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(maxFVars? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallTelescopeReducing">forallTelescopeReducing</a></code>, stops constructing the telescope when
it reaches size <code>maxFVars</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallBoundedTelescope">Lean.Meta.forallBoundedTelescope</a> <span class="fn">type</span> <span class="fn">maxFVars?</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallBoundedTelescopeImp">Lean.Meta.forallBoundedTelescopeImp</a> <span class="fn">type</span> <span class="fn">maxFVars?</span> <span class="fn">k</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaLetTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1116-L1117">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaLetTelescope">Lean.Meta.lambdaLetTelescope</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaTelescope">lambdaTelescope</a></code> but for lambda and let expressions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaLetTelescope">Lean.Meta.lambdaLetTelescope</a> <span class="fn">e</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.lambdaTelescopeImp">Lean.Meta.lambdaTelescopeImp</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">k</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1123-L1124">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaTelescope">Lean.Meta.lambdaTelescope</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Given <code>e</code> of the form <code>fun ..xs => A</code>, execute <code>k xs A</code>.
This combinator will declare local declarations, create free variables for them,
execute <code>k</code> with updated local context, and make sure the cache is restored after executing <code>k</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaTelescope">Lean.Meta.lambdaTelescope</a> <span class="fn">e</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map2MetaM">Lean.Meta.map2MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.lambdaTelescopeImp">Lean.Meta.lambdaTelescopeImp</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">k</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getParamNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1127-L1131">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getParamNames">Lean.Meta.getParamNames</a></span><span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></div></div><p>Return the parameter names for the given global declaration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.forallMetaTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1169-L1170">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescope">Lean.Meta.forallMetaTelescope</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></div></div><p>Given <code>e</code> of the form <code>forall ..xs, A</code>, this combinator will create a new
metavariable for each <code>x</code> in <code>xs</code> and instantiate <code>A</code> with these.
Returns a product containing</p><ul>
<li>the new metavariables</li>
<li>the binder info for the <code>xs</code></li>
<li>the instantiated <code>A</code></li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescope">Lean.Meta.forallMetaTelescope</a> <span class="fn">e</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallMetaTelescopeReducingAux">Lean.Meta.forallMetaTelescopeReducingAux</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">none</span> <span class="fn">kind</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.forallMetaTelescopeReducing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1174-L1175">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescopeReducing">Lean.Meta.forallMetaTelescopeReducing</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(maxMVars? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescope">forallMetaTelescope</a></code>, but if <code>e = forall ..xs, A</code>
it will reduce <code>A</code> to construct further mvars.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescopeReducing">Lean.Meta.forallMetaTelescopeReducing</a> <span class="fn">e</span> <span class="fn">maxMVars?</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallMetaTelescopeReducingAux">Lean.Meta.forallMetaTelescopeReducingAux</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">maxMVars?</span> <span class="fn">kind</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.forallMetaBoundedTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1179-L1180">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaBoundedTelescope">Lean.Meta.forallMetaBoundedTelescope</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(maxMVars : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind">Lean.MetavarKind</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarKind.natural">Lean.MetavarKind.natural</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaTelescopeReducing">forallMetaTelescopeReducing</a></code>, stops
constructing the telescope when it reaches size <code>maxMVars</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.forallMetaBoundedTelescope">Lean.Meta.forallMetaBoundedTelescope</a> <span class="fn">e</span> <span class="fn">maxMVars</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.forallMetaTelescopeReducingAux">Lean.Meta.forallMetaTelescopeReducingAux</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">maxMVars</span></span>) <span class="fn">kind</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaMetaTelescope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1183-L1200">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope">Lean.Meta.lambdaMetaTelescope</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(maxMVars? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></div></div><p>Similar to <code>forallMetaTelescopeReducingAux</code> but for lambda expressions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope">Lean.Meta.lambdaMetaTelescope</a> <span class="fn">e</span> <span class="fn">maxMVars?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope.process">Lean.Meta.lambdaMetaTelescope.process</a> <span class="fn">maxMVars?</span> <span class="fn">#[]</span> <span class="fn">#[]</span> <span class="fn">0</span> <span class="fn">e</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.lambdaMetaTelescope.process"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1186-L1200">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope.process">Lean.Meta.lambdaMetaTelescope.process</a></span><span class="decl_args">
<span class="fn">(maxMVars? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mvars : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(bis : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(j : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></div></div></div></div><div class="decl" id="Lean.Meta.withLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1218-L1219">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl">Lean.Meta.withLocalDecl</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(bi : <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind">Lean.LocalDeclKind</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Create a free variable <code>x</code> with name, binderInfo and type, add it to the context and run in <code>k</code>.
Then revert the context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl">Lean.Meta.withLocalDecl</a> <span class="fn">name</span> <span class="fn">bi</span> <span class="fn">type</span> <span class="fn">k</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withLocalDeclImp">Lean.Meta.withLocalDeclImp</a> <span class="fn">name</span> <span class="fn">bi</span> <span class="fn">type</span> <span class="fn">k</span> <span class="fn">kind</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDeclD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1221-L1222">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclD">Lean.Meta.withLocalDeclD</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclD">Lean.Meta.withLocalDeclD</a> <span class="fn">name</span> <span class="fn">type</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecl">Lean.Meta.withLocalDecl</a> <span class="fn">name</span> <a href="../.././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a> <span class="fn">type</span> <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1231-L1243">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls">Lean.Meta.withLocalDecls</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(declInfos : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a> <a href="../.././Init/Prelude.html#Prod">×</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><span class="fn">n</span> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Append an array of free variables <code>xs</code> to the local context and execute <code>k xs</code>.
declInfos takes the form of an array consisting of:</p><ul>
<li>the name of the variable</li>
<li>the binder info of the variable</li>
<li>a type constructor for the variable, where the array consists of all of the free variables
defined prior to this one. This is needed because the type of the variable may depend on prior variables.</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls">Lean.Meta.withLocalDecls</a> <span class="fn">declInfos</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls.loop">Lean.Meta.withLocalDecls.loop</a> <span class="fn">declInfos</span> <span class="fn">k</span> <span class="fn">#[]</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalDecls.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1238-L1243">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDecls.loop">Lean.Meta.withLocalDecls.loop</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(declInfos : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a> <a href="../.././Init/Prelude.html#Prod">×</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><span class="fn">n</span> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(acc : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div></div></div><div class="decl" id="Lean.Meta.withLocalDeclsD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1245-L1247">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalDeclsD">Lean.Meta.withLocalDeclsD</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(declInfos : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> (<span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><span class="fn">n</span> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span>)</span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withNewBinderInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1254-L1255">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewBinderInfos">Lean.Meta.withNewBinderInfos</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(bs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.BinderInfo">Lean.BinderInfo</a></span>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewBinderInfos">Lean.Meta.withNewBinderInfos</a> <span class="fn">bs</span> <span class="fn">k</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withNewBinderInfosImp">Lean.Meta.withNewBinderInfosImp</a> <span class="fn">bs</span> <span class="fn">k</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withInstImplicitAsImplict"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1260-L1267">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withInstImplicitAsImplict">Lean.Meta.withInstImplicitAsImplict</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><p>Execute <code>k</code> using a local context where any <code>x</code> in <code>xs</code> that is tagged as
instance implicit is treated as a regular implicit.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withLetDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1281-L1282">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLetDecl">Lean.Meta.withLetDecl</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(val : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind">Lean.LocalDeclKind</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></div></div><p>Add the local declaration <code><name> : <type> := <val></code> to the local context and execute <code>k x</code>, where <code>x</code> is a new
free variable corresponding to the <code>let</code>-declaration. After executing <code>k x</code>, the local context is restored.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLetDecl">Lean.Meta.withLetDecl</a> <span class="fn">name</span> <span class="fn">type</span> <span class="fn">val</span> <span class="fn">k</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.map1MetaM">Lean.Meta.map1MetaM</a> (<span class="fn">fun {<span class="fn">α</span>} <span class="fn">k</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withLetDeclImp">Lean.Meta.withLetDeclImp</a> <span class="fn">name</span> <span class="fn">type</span> <span class="fn">val</span> <span class="fn">k</span> <span class="fn">kind</span></span></span>) <span class="fn">k</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalInstancesImp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1284-L1294">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstancesImp">Lean.Meta.withLocalInstancesImp</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.withLocalInstances"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1297-L1298">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstances">Lean.Meta.withLocalInstances</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Register any local instance in <code>decls</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstances">Lean.Meta.withLocalInstances</a> <span class="fn">decls</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLocalInstancesImp">Lean.Meta.withLocalInstancesImp</a> <span class="fn">decls</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withExistingLocalDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1316-L1317">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">Lean.Meta.withExistingLocalDecls</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(decls : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">withExistingLocalDecls</a> decls k</code>, adds the given local declarations to the local context,
and then executes <code>k</code>. This method assumes declarations in <code>decls</code> have valid <code>FVarId</code>s.
After executing <code>k</code>, the local context is restored.</p><p>Remark: this method is used, for example, to implement the <code>match</code>-compiler.
Each <code>match</code>-alternative commes with a local declarations (corresponding to pattern variables),
and we use <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">withExistingLocalDecls</a></code> to add them to the local context before we process
them.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withExistingLocalDecls">Lean.Meta.withExistingLocalDecls</a> <span class="fn">decls</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withExistingLocalDeclsImp">Lean.Meta.withExistingLocalDeclsImp</a> <span class="fn">decls</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withNewMCtxDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1334-L1335">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">Lean.Meta.withNewMCtxDepth</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Save cache and <code>MetavarContext</code>, bump the <code>MetavarContext</code> depth, execute <code>x</code>,
and restore saved data.</p><p>Metavariable context depths are used to control which metavariables may be assigned in <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>.
See the docstring of <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> for more information.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.withNewMCtxDepth</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Meta.withNewMCtxDepthImp</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withLCtx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1350-L1351">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx">Lean.Meta.withLCtx</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(localInsts : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx">withLCtx</a> lctx localInsts k</code> replaces the local context and local instances, and then executes <code>k</code>.
The local context and instances are restored after executing <code>k</code>.
This method assumes that the local instances in <code>localInsts</code> are in the local context <code>lctx</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withLCtx">Lean.Meta.withLCtx</a> <span class="fn">lctx</span> <span class="fn">localInsts</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withLocalContextImp">Lean.Meta.withLocalContextImp</a> <span class="fn">lctx</span> <span class="fn">localInsts</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.MVarId.withContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1361-L1362">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.MVarId.withContext">Lean.MVarId.withContext</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Execute <code>x</code> using the given metavariable <code>LocalContext</code> and <code>LocalInstances</code>.
The type class resolution cache is flushed when executing <code>x</code> if its <code>LocalInstances</code> are
different from the current ones.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.withContext">Lean.MVarId.withContext</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withMVarContextImp">Lean.Meta.withMVarContextImp</a> <span class="fn">mvarId</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withMVarContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1365-L1366">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withMVarContext">Lean.Meta.withMVarContext</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withMVarContext">Lean.Meta.withMVarContext</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.MVarId.withContext">Lean.MVarId.withContext</a> <span class="fn">mvarId</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.withMCtx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1378-L1379">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.withMCtx">Lean.Meta.withMCtx</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(mctx : <a href="../.././Lean/MetavarContext.html#Lean.MetavarContext">Lean.MetavarContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withMCtx">withMCtx</a> mctx k</code> replaces the metavariable context and then executes <code>k</code>.
The metavariable context is restored after executing <code>k</code>.</p><p>This method is used to implement the type class resolution procedure.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withMCtx">Lean.Meta.withMCtx</a> <span class="fn">mctx</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.withMCtxImp">Lean.Meta.withMCtxImp</a> <span class="fn">mctx</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.approxDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1385-L1386">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">Lean.Meta.approxDefEq</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Execute <code>x</code> using approximate unification: <code>foApprox</code>, <code>ctxApprox</code> and <code>quasiPatternApprox</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.approxDefEq</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Meta.approxDefEqImp</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.fullApproxDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1398-L1399">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.fullApproxDefEq">Lean.Meta.fullApproxDefEq</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{n : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">n</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">approxDefEq</a></code>, but uses all available approximations.
We don't use <code>constApprox</code> by default at <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">approxDefEq</a></code> because it often produces undesirable solution for monadic code.
For example, suppose we have <code>pure (x > 0)</code> which has type <code>?m Prop</code>. We also have the goal <code>[Pure ?m]</code>.
Now, assume the expected type is <code><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></code>. Then, the unification constraint <code>?m Prop =?= <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></code> could be solved
as <code>?m := fun _ => <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></code> using <code>constApprox</code>, but this spurious solution would generate a failure when we try to
solve <code>[Pure (fun _ => <a href="../.././Init/System/IO.html#IO">IO</a> Bool)]</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.fullApproxDefEq</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapMetaM">Lean.Meta.mapMetaM</a> <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Meta.fullApproxDefEqImp</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.normalizeLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1402-L1404">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.normalizeLevel">Lean.Meta.normalizeLevel</a></span><span class="decl_args">
<span class="fn">(u : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span></div></div><p>Instantiate assigned universe metavariables in <code>u</code>, and then normalize it.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.normalizeLevel">Lean.Meta.normalizeLevel</a> <span class="fn">u</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let u ← <span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.instantiateLevelMVars">Lean.instantiateLevelMVars</a> <span class="fn">u</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Level.html#Lean.Level.normalize">Lean.Level.normalize</a> <span class="fn">u</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.whnfR"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1407-L1408">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfR">Lean.Meta.whnfR</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code> with reducible transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfR">Lean.Meta.whnfR</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.reducible">Lean.Meta.TransparencyMode.reducible</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.whnfD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1411-L1412">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfD">Lean.Meta.whnfD</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code> with default transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfD">Lean.Meta.whnfD</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.default">Lean.Meta.TransparencyMode.default</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.whnfI"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1415-L1416">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfI">Lean.Meta.whnfI</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code> with instances transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfI">Lean.Meta.whnfI</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withTransparency">Lean.Meta.withTransparency</a> <a href="../.././Init/Meta.html#Lean.Meta.TransparencyMode.instances">Lean.Meta.TransparencyMode.instances</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.setInlineAttribute"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1424-L1428">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.setInlineAttribute">Lean.Meta.setInlineAttribute</a></span><span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind">Lean.Compiler.InlineAttributeKind</a> <a href="../.././Lean/Compiler/InlineAttrs.html#Lean.Compiler.InlineAttributeKind.inline">Lean.Compiler.InlineAttributeKind.inline</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Mark declaration <code>declName</code> with the attribute <code>[inline]</code>.
This method does not check whether the given declaration is a definition.</p><p>Recall that this attribute can only be set in the same module where <code>declName</code> has been declared.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1440-L1441">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateForall">Lean.Meta.instantiateForall</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(ps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Given <code>e</code> of the form <code>forall (a_1 : A_1) ... (a_n : A_n), B[a_1, ..., a_n]</code> and <code>p_1 : A_1, ... p_n : A_n</code>, return <code>B[p_1, ..., p_n]</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateForall">Lean.Meta.instantiateForall</a> <span class="fn">e</span> <span class="fn">ps</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.instantiateForallAux">Lean.Meta.instantiateForallAux</a> <span class="fn">ps</span> <span class="fn">0</span> <span class="fn">e</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instantiateLambda"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1454-L1455">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateLambda">Lean.Meta.instantiateLambda</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(ps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Given <code>e</code> of the form <code>fun (a_1 : A_1) ... (a_n : A_n) => t[a_1, ..., a_n]</code> and <code>p_1 : A_1, ... p_n : A_n</code>, return <code>t[p_1, ..., p_n]</code>.
It uses <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">whnf</a></code> to reduce <code>e</code> if it is not a lambda</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instantiateLambda">Lean.Meta.instantiateLambda</a> <span class="fn">e</span> <span class="fn">ps</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.instantiateLambdaAux">Lean.Meta.instantiateLambdaAux</a> <span class="fn">ps</span> <span class="fn">0</span> <span class="fn">e</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.ppExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1458-L1460">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.ppExpr">Lean.Meta.ppExpr</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><p>Pretty-print the given expression.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.orElse"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1462-L1464">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.orElse">Lean.Meta.orElse</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(y : <span class="fn"><a href="../.././Init/Prelude.html#Unit">Unit</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.orElse">Lean.Meta.orElse</a> <span class="fn">x</span> <span class="fn">y</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let s ← <span class="fn">Lean.saveState</span>
  <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">fun <span class="fn">x</span> =&gt <span class="fn">do
      <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState.restore">Lean.Meta.SavedState.restore</a> <span class="fn">s</span></span>
      <span class="fn"><span class="fn">y</span> <a href="../.././Init/Prelude.html#Unit.unit">()</a></span></span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instOrElseMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1466-L1466">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instOrElseMetaM">Lean.Meta.instOrElseMetaM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#OrElse">OrElse</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Meta.instOrElseMetaM</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">orElse</span> := <span class="fn">Lean.Meta.orElse</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.instAlternativeMetaM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1468-L1470">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.instAlternativeMetaM">Lean.Meta.instAlternativeMetaM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/Basic.html#Alternative">Alternative</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.instAlternativeMetaM">Lean.Meta.instAlternativeMetaM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#Alternative.mk">Alternative.mk</a> (<span class="fn">fun {<span class="fn">x</span>} =&gt <span class="fn"><a href="../.././Lean/Exception.html#Lean.throwError">Lean.throwError</a> (<span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quotfailed&quot</span></span>)</span></span>) <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Meta.orElse</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.orelseMergeErrors"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1495-L1498">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.orelseMergeErrors">Lean.Meta.orelseMergeErrors</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(y : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mergeRef : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>) <span class="fn">fun <span class="fn">r₁</span> <span class="fn">x</span> =&gt <span class="fn">r₁</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mergeMsg : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>) <span class="fn">fun <span class="fn">m₁</span> <span class="fn">m₂</span> =&gt
  <span class="fn"><span class="fn"><span class="fn"><span class="fn">m₁</span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData.ofFormat">Lean.MessageData.ofFormat</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format.line">Lean.Format.line</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData.ofFormat">Lean.MessageData.ofFormat</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format.line">Lean.Format.line</a></span></span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">m₂</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Similar to <code>orelse</code>, but merge errors. Note that internal errors are not caught.
The default <code>mergeRef</code> uses the <code>ref</code> (position information) for the first message.
The default <code>mergeMsg</code> combines error messages using <code>Format.line ++ Format.line</code> as a separator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.orelseMergeErrors">Lean.Meta.orelseMergeErrors</a> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">mergeRef</span> <span class="fn">mergeMsg</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun <span class="fn">runInBase</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.orelseMergeErrorsImp">Lean.Meta.orelseMergeErrorsImp</a> (<span class="fn"><span class="fn">runInBase</span> <span class="fn">x</span></span>) (<span class="fn"><span class="fn">runInBase</span> <span class="fn">y</span></span>) <span class="fn">mergeRef</span> <span class="fn">mergeMsg</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mapErrorImp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1501-L1506">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapErrorImp">Lean.Meta.mapErrorImp</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code>, and apply <code>f</code> to the produced error message</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapErrorImp">Lean.Meta.mapErrorImp</a> <span class="fn">x</span> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">fun <span class="fn">ex</span> =&gt
    <span class="fn">match <span class="fn">ex</span> with
    | <span class="fn"><a href="../.././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span></span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> (<span class="fn"><a href="../.././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> (<span class="fn"><span class="fn">f</span> <span class="fn">msg</span></span>)</span>)</span>
    | <span class="fn">ex</span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">ex</span></span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mapError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1508-L1509">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mapError">Lean.Meta.mapError</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a> → <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapError">Lean.Meta.mapError</a> <span class="fn">x</span> <span class="fn">f</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">fun <span class="fn">runInBase</span> =&gt <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mapErrorImp">Lean.Meta.mapErrorImp</a> (<span class="fn"><span class="fn">runInBase</span> <span class="fn">x</span></span>) <span class="fn">f</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.sortFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1514-L1521">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.sortFVarIds">Lean.Meta.sortFVarIds</a></span><span class="decl_args">
<span class="fn">(fvarIds : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span>)</span></div></div><p>Sort free variables using an order <code>x < y</code> iff <code>x</code> was defined before <code>y</code>.
If a free variable is not in the local context, we use their id.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isInductivePredicate"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1526-L1533">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isInductivePredicate">Lean.Meta.isInductivePredicate</a></span><span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> if <code>declName</code> is an inductive predicate. That is, <code>inductive</code> type in <code>Prop</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isListLevelDefEqAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1535-L1538">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span> → <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> <span class="fn">[]</span> <span class="fn">[]</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> (<span class="fn"><span class="fn">u</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">us</span></span>) (<span class="fn"><span class="fn">v</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">vs</span></span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEqAux">Lean.Meta.isLevelDefEqAux</a> <span class="fn">u</span> <span class="fn">v</span></span> <a href="../.././Init/Control/Basic.html#andM">&lt&amp&amp&gt</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> <span class="fn">us</span> <span class="fn">vs</span></span></span>)</span></li><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isListLevelDefEqAux">Lean.Meta.isListLevelDefEqAux</a> <span class="fn">x</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getNumPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1540-L1541">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getNumPostponed">Lean.Meta.getNumPostponed</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.getNumPostponed">Lean.Meta.getNumPostponed</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <a href="../.././Lean/Meta/Basic.html#Lean.Meta.getPostponed">Lean.Meta.getPostponed</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.size</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.getResetPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1543-L1546">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.getResetPostponed">Lean.Meta.getResetPostponed</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray">Lean.PersistentArray</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.mkLevelStuckErrorMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1571-L1572">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelStuckErrorMessage">Lean.Meta.mkLevelStuckErrorMessage</a></span><span class="decl_args">
<span class="fn">(entry : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelStuckErrorMessage">Lean.Meta.mkLevelStuckErrorMessage</a> <span class="fn">entry</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkLeveErrorMessageCore">Lean.Meta.mkLeveErrorMessageCore</a> <span class="fn">&quotstuck at solving universe constraint&quot</span> <span class="fn">entry</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.mkLevelErrorMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1574-L1575">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelErrorMessage">Lean.Meta.mkLevelErrorMessage</a></span><span class="decl_args">
<span class="fn">(entry : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.PostponedEntry">Lean.Meta.PostponedEntry</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkLevelErrorMessage">Lean.Meta.mkLevelErrorMessage</a> <span class="fn">entry</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#_private.Lean.Meta.Basic.0.Lean.Meta.mkLeveErrorMessageCore">Lean.Meta.mkLeveErrorMessageCore</a> <span class="fn">&quotfailed to solve universe constraint&quot</span> <span class="fn">entry</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.processPostponed"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1588-L1611">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed">Lean.Meta.processPostponed</a></span><span class="decl_args">
<span class="fn">(mayPostpone : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(exceptionOnFailure : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.processPostponed.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1595-L1610">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed.loop">Lean.Meta.processPostponed.loop</a></span><span class="decl_args">
<span class="fn">(mayPostpone : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(exceptionOnFailure : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Meta.checkpointDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1621-L1648">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.checkpointDefEq">Lean.Meta.checkpointDefEq</a></span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(mayPostpone : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.checkpointDefEq">checkpointDefEq</a> x</code> executes <code>x</code> and process all postponed universe level constraints produced by <code>x</code>.
We keep the modifications only if <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed">processPostponed</a></code> return true and <code>x</code> returned <code>true</code>.</p><p>If <code>mayPostpone == false</code>, all new postponed universe level constraints must be solved before returning.
We currently try to postpone universe constraints as much as possible, even when by postponing them we
are not sure whether <code>x</code> really succeeded or not.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isLevelDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1653-L1654">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEq">Lean.Meta.isLevelDefEq</a></span><span class="decl_args">
<span class="fn">(u : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>)</span></span>
<span class="decl_args">
<span class="fn">(v : <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Determines whether two universe level expressions are definitionally equal to each other.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEq">Lean.Meta.isLevelDefEq</a> <span class="fn">u</span> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.checkpointDefEq">Lean.Meta.checkpointDefEq</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isLevelDefEqAux">Lean.Meta.isLevelDefEqAux</a> <span class="fn">u</span> <span class="fn">v</span></span>) <a href="../.././Init/Prelude.html#Bool.true">true</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.isExprDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1657-L1659">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEq">Lean.Meta.isExprDefEq</a></span><span class="decl_args">
<span class="fn">(t : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>See <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isDefEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1673-L1674">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">Lean.Meta.isDefEq</a></span><span class="decl_args">
<span class="fn">(t : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Determines whether two expressions are definitionally equal to each other.</p><p>To control how metavariables are assigned and unified, metavariables and their context have a "depth".
Given a metavariable <code>?m</code> and a <code>MetavarContext</code> <code>mctx</code>, <code>?m</code> is not assigned if <code>?m.depth != mctx.depth</code>.
The combinator <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a> x</code> will bump the depth while executing <code>x</code>.
So, <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a> (isDefEq a b)</code> is <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code> without any mvar assignment happening
whereas <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a> a b</code> will assign any metavariables of the current depth in <code>a</code> and <code>b</code> to unify them.</p><p>For matching (where only mvars in <code>b</code> should be assigned), we create the term inside the <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withNewMCtxDepth">withNewMCtxDepth</a></code>.
For an example, see <a href="https://github.com/leanprover/lean4/blob/master/src/Lean/Meta/Tactic/Simp/Rewrite.lean#L100-L106">Lean.Meta.Simp.tryTheoremWithExtraArgs?</a></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">Lean.Meta.isDefEq</a> <span class="fn">t</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEq">Lean.Meta.isExprDefEq</a> <span class="fn">t</span> <span class="fn">s</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.isExprDefEqGuarded"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1676-L1677">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEqGuarded">Lean.Meta.isExprDefEqGuarded</a></span><span class="decl_args">
<span class="fn">(a : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(b : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Meta.isDefEqGuarded"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1680-L1681">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqGuarded">Lean.Meta.isDefEqGuarded</a></span><span class="decl_args">
<span class="fn">(t : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Similar to <code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">isDefEq</a></code>, but returns <code>false</code> if an exception has been thrown.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqGuarded">Lean.Meta.isDefEqGuarded</a> <span class="fn">t</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isExprDefEqGuarded">Lean.Meta.isExprDefEqGuarded</a> <span class="fn">t</span> <span class="fn">s</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.isDefEqNoConstantApprox"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1683-L1684">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqNoConstantApprox">Lean.Meta.isDefEqNoConstantApprox</a></span><span class="decl_args">
<span class="fn">(t : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEqNoConstantApprox">Lean.Meta.isDefEqNoConstantApprox</a> <span class="fn">t</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.approxDefEq">Lean.Meta.approxDefEq</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.isDefEq">Lean.Meta.isDefEq</a> <span class="fn">t</span> <span class="fn">s</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Meta.etaExpand"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Meta/Basic.lean#L1694-L1695">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/Basic.html#Lean.Meta.etaExpand">Lean.Meta.etaExpand</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Eta expand the given expression.
Example:</p><pre><code><a href="../.././Lean/Meta/Basic.html#Lean.Meta.etaExpand">etaExpand</a> (mkConst ``Nat.add)
</code></pre><p>produces <code>fun x y => <a href="../.././Init/Prelude.html#Nat.add">Nat.add</a> x y</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././/navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>