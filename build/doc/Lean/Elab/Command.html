<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.Command</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Elab.Command";</script><script type="module" src="../.././nav.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within">Lean.Elab.Command</p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib_docs"></input><input type="text" name="q" autocomplete="off"></input><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top">Lean.Elab.Command</a></h3><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Lean/Elab/Binders.html">Lean.Elab.Binders</a></li><li><a href="../.././Lean/Elab/SyntheticMVars.html">Lean.Elab.SyntheticMVars</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.Command" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instInhabitedScope">Lean.Elab.Command.instInhabitedScope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.State">Lean.Elab.Command.State</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instInhabitedState">Lean.Elab.Command.instInhabitedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.Context">Lean.Elab.Command.Context</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.CommandElabCoreM">Lean.Elab.Command.CommandElabCoreM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.Linter">Lean.Elab.Command.Linter</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadCommandElabM">Lean.Elab.Command.instMonadCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkState">Lean.Elab.Command.mkState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.lintersRef">Lean.Elab.Command.lintersRef</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.addLinter">Lean.Elab.Command.addLinter</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadInfoTreeCommandElabM">Lean.Elab.Command.instMonadInfoTreeCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadEnvCommandElabM">Lean.Elab.Command.instMonadEnvCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadOptionsCommandElabM">Lean.Elab.Command.instMonadOptionsCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getRef">Lean.Elab.Command.getRef</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instAddMessageContextCommandElabM">Lean.Elab.Command.instAddMessageContextCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadRefCommandElabM">Lean.Elab.Command.instMonadRefCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadTraceCommandElabM">Lean.Elab.Command.instMonadTraceCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instAddErrorMessageContextCommandElabM">Lean.Elab.Command.instAddErrorMessageContextCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkMessageAux">Lean.Elab.Command.mkMessageAux</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftCoreM">Lean.Elab.Command.liftCoreM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftEIO">Lean.Elab.Command.liftEIO</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftIO">Lean.Elab.Command.liftIO</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadLiftTIOCommandElabM">Lean.Elab.Command.instMonadLiftTIOCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getScope">Lean.Elab.Command.getScope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadResolveNameCommandElabM">Lean.Elab.Command.instMonadResolveNameCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadLogCommandElabM">Lean.Elab.Command.instMonadLogCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.runLinters">Lean.Elab.Command.runLinters</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getCurrMacroScope">Lean.Elab.Command.getCurrMacroScope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getMainModule">Lean.Elab.Command.getMainModule</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.withFreshMacroScope">Lean.Elab.Command.withFreshMacroScope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadQuotationCommandElabM">Lean.Elab.Command.instMonadQuotationCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkCommandElabAttributeUnsafe">Lean.Elab.Command.mkCommandElabAttributeUnsafe</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkCommandElabAttribute">Lean.Elab.Command.mkCommandElabAttribute</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.commandElabAttribute">Lean.Elab.Command.commandElabAttribute</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.withMacroExpansion">Lean.Elab.Command.withMacroExpansion</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadMacroAdapterCommandElabM">Lean.Elab.Command.instMonadMacroAdapterCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadRecDepthCommandElabM">Lean.Elab.Command.instMonadRecDepthCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.showPartialSyntaxErrors">Lean.Elab.Command.showPartialSyntaxErrors</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.elabCommand">Lean.Elab.Command.elabCommand</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.elabCommandTopLevel">Lean.Elab.Command.elabCommandTopLevel</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.adaptExpander">Lean.Elab.Command.adaptExpander</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instInhabitedCommandElabM">Lean.Elab.Command.instInhabitedCommandElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getBracketedBinderIds">Lean.Elab.Command.getBracketedBinderIds</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftTermElabM">Lean.Elab.Command.liftTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.runTermElabM">Lean.Elab.Command.runTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.catchExceptions">Lean.Elab.Command.catchExceptions</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getScopes">Lean.Elab.Command.getScopes</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.modifyScope">Lean.Elab.Command.modifyScope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.withScope">Lean.Elab.Command.withScope</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getLevelNames">Lean.Elab.Command.getLevelNames</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.addUnivLevel">Lean.Elab.Command.addUnivLevel</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.expandDeclId">Lean.Elab.Command.expandDeclId</a></div></nav><main>
<div class="decl" id="Lean.Elab.Command.Scope"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L11-L23">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Command.Scope.mk"><li id="Lean.Elab.Command.Scope.header" class="structure_field"><div class="structure_field_info">header : <a href="../.././Init/Prelude.html#String">String</a></div></li><li id="Lean.Elab.Command.Scope.opts" class="structure_field"><div class="structure_field_info">opts : <a href="../.././Lean/Data/Options.html#Lean.Options">Lean.Options</a></div></li><li id="Lean.Elab.Command.Scope.currNamespace" class="structure_field"><div class="structure_field_info">currNamespace : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Elab.Command.Scope.openDecls" class="structure_field"><div class="structure_field_info">openDecls : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Data/OpenDecl.html#Lean.OpenDecl">Lean.OpenDecl</a></span></div></li><li id="Lean.Elab.Command.Scope.levelNames" class="structure_field"><div class="structure_field_info">levelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Command.Scope.varDecls" class="structure_field"><div class="structure_field_doc"><p>section variables</p></div><div class="structure_field_info">varDecls : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Lean.Parser.Term.bracketedBinder</span></span>)</span></div></li><li id="Lean.Elab.Command.Scope.varUIds" class="structure_field"><div class="structure_field_doc"><p>Globally unique internal identifiers for the <code>varDecls</code></p></div><div class="structure_field_info">varUIds : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Command.Scope.isNoncomputable" class="structure_field"><div class="structure_field_doc"><p>noncomputable sections automatically add the <code>noncomputable</code> modifier to any declaration we cannot generate code for.</p></div><div class="structure_field_info">isNoncomputable : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.Scope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instInhabitedScope"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L23-L23">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instInhabitedScope">Lean.Elab.Command.instInhabitedScope</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L25-L35">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State">Lean.Elab.Command.State</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Command.State.mk"><li id="Lean.Elab.Command.State.env" class="structure_field"><div class="structure_field_info">env : <a href="../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a></div></li><li id="Lean.Elab.Command.State.messages" class="structure_field"><div class="structure_field_info">messages : <a href="../.././Lean/Message.html#Lean.MessageLog">Lean.MessageLog</a></div></li><li id="Lean.Elab.Command.State.scopes" class="structure_field"><div class="structure_field_info">scopes : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span></div></li><li id="Lean.Elab.Command.State.nextMacroScope" class="structure_field"><div class="structure_field_info">nextMacroScope : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.State.maxRecDepth" class="structure_field"><div class="structure_field_info">maxRecDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.State.nextInstIdx" class="structure_field"><div class="structure_field_info">nextInstIdx : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.State.ngen" class="structure_field"><div class="structure_field_info">ngen : <a href="../.././Init/Meta.html#Lean.NameGenerator">Lean.NameGenerator</a></div></li><li id="Lean.Elab.Command.State.infoState" class="structure_field"><div class="structure_field_info">infoState : <a href="../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoState">Lean.Elab.InfoState</a></div></li><li id="Lean.Elab.Command.State.traceState" class="structure_field"><div class="structure_field_info">traceState : <a href="../.././Lean/Util/Trace.html#Lean.TraceState">Lean.TraceState</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.State" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instInhabitedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L35-L35">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instInhabitedState">Lean.Elab.Command.instInhabitedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State">Lean.Elab.Command.State</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L37-L45">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Context">Lean.Elab.Command.Context</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Command.Context.mk"><li id="Lean.Elab.Command.Context.fileName" class="structure_field"><div class="structure_field_info">fileName : <a href="../.././Init/Prelude.html#String">String</a></div></li><li id="Lean.Elab.Command.Context.fileMap" class="structure_field"><div class="structure_field_info">fileMap : <a href="../.././Lean/Data/Position.html#Lean.FileMap">Lean.FileMap</a></div></li><li id="Lean.Elab.Command.Context.currRecDepth" class="structure_field"><div class="structure_field_info">currRecDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.Context.cmdPos" class="structure_field"><div class="structure_field_info">cmdPos : <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></div></li><li id="Lean.Elab.Command.Context.macroStack" class="structure_field"><div class="structure_field_info">macroStack : <a href="../.././Lean/Elab/Util.html#Lean.Elab.MacroStack">Lean.Elab.MacroStack</a></div></li><li id="Lean.Elab.Command.Context.currMacroScope" class="structure_field"><div class="structure_field_info">currMacroScope : <a href="../.././Init/Prelude.html#Lean.MacroScope">Lean.MacroScope</a></div></li><li id="Lean.Elab.Command.Context.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Elab.Command.Context.tacticCache?" class="structure_field"><div class="structure_field_info">tacticCache? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Cache">Lean.Elab.Tactic.Cache</a></span>)</span></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.Context" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.CommandElabCoreM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L47-L47">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabCoreM">Lean.Elab.Command.CommandElabCoreM</a></span><span class="decl_args">
<span class="fn">(ε : <span class="fn">Type</span>)</span></span>
<span class="decl_args">
<span class="fn">(α : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabCoreM">Lean.Elab.Command.CommandElabCoreM</a> <span class="fn">ε</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#ReaderT">ReaderT</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Context">Lean.Elab.Command.Context</a> (<span class="fn"><a href="../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State">Lean.Elab.Command.State</a> (<span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <span class="fn">ε</span></span>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.CommandElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L48-L48">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span><span class="decl_args">
<span class="fn">(α : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabCoreM">Lean.Elab.Command.CommandElabCoreM</a> <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.CommandElab"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L49-L49">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.Linter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L50-L50">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Elab.Command.Linter</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Linter</a> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L59-L59">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadCommandElabM">Lean.Elab.Command.instMonadCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadCommandElabM">Lean.Elab.Command.instMonadCommandElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">let i := <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> (<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span>)</span>;
  <span class="fn">Monad.mk</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.mkState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L61-L66">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkState">Lean.Elab.Command.mkState</a></span><span class="decl_args">
<span class="fn">(env : <a href="../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(messages : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Message.html#Lean.MessageLog">Lean.MessageLog</a>
  <span class="fn">{ <span class="fn">msgs</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(opts : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Data/Options.html#Lean.Options">Lean.Options</a> <span class="fn">{ <span class="fn">entries</span> := <span class="fn">[]</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State">Lean.Elab.Command.State</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.lintersRef"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L70-L70">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.lintersRef">Lean.Elab.Command.lintersRef</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Linter</a></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Command.addLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L72-L74">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.addLinter">Lean.Elab.Command.addLinter</a></span><span class="decl_args">
<span class="fn">(l : <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Linter</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.addLinter">Lean.addLinter</a> <span class="fn">l</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let ls ← <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref.get">ST.Ref.get</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.lintersRef">Lean.Elab.Command.lintersRef</a></span>
  <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref.set">ST.Ref.set</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.lintersRef">Lean.Elab.Command.lintersRef</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.push">Array.push</a> <span class="fn">ls</span> <span class="fn">l</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadInfoTreeCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L76-L78">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadInfoTreeCommandElabM">Lean.Elab.Command.instMonadInfoTreeCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadEnvCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L80-L82">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadEnvCommandElabM">Lean.Elab.Command.instMonadEnvCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadOptionsCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L85-L86">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadOptionsCommandElabM">Lean.Elab.Command.instMonadOptionsCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.MonadOptions">Lean.MonadOptions</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadOptionsCommandElabM">Lean.Elab.Command.instMonadOptionsCommandElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">getOptions</span> := <span class="fn">do
      let __do_lift ← <span class="fn">get</span>
      <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><a href="../.././Init/Data/List/BasicAux.html#List.head!">List.head!</a> <span class="fn"><span class="fn">__do_lift</span>.scopes</span></span>).opts</span></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L88-L89">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getRef">Lean.Elab.Command.getRef</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getRef">Lean.Elab.Command.getRef</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">read</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.ref</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instAddMessageContextCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L91-L92">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instAddMessageContextCommandElabM">Lean.Elab.Command.instAddMessageContextCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.AddMessageContext">Lean.AddMessageContext</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instAddMessageContextCommandElabM">Lean.Elab.Command.instAddMessageContextCommandElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">addMessageContext</span> := <span class="fn">Lean.addMessageContextPartial</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadRefCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L94-L96">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadRefCommandElabM">Lean.Elab.Command.instMonadRefCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadRef">Lean.MonadRef</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadTraceCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L98-L100">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadTraceCommandElabM">Lean.Elab.Command.instMonadTraceCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/Trace.html#Lean.MonadTrace">Lean.MonadTrace</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instAddErrorMessageContextCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L102-L108">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instAddErrorMessageContextCommandElabM">Lean.Elab.Command.instAddErrorMessageContextCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Exception.html#Lean.AddErrorMessageContext">Lean.AddErrorMessageContext</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.mkMessageAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L110-L113">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkMessageAux">Lean.Elab.Command.mkMessageAux</a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Context">Lean.Elab.Command.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(msgData : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args">
<span class="fn">(severity : <a href="../.././Lean/Message.html#Lean.MessageSeverity">Lean.MessageSeverity</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Message.html#Lean.Message">Lean.Message</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftCoreM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L149-L166">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftCoreM">Lean.Elab.Command.liftCoreM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftEIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L172-L172">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftEIO">Lean.Elab.Command.liftEIO</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftEIO">Lean.Elab.Command.liftEIO</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">x</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L174-L176">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftIO">Lean.Elab.Command.liftIO</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadLiftTIOCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L178-L179">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadLiftTIOCommandElabM">Lean.Elab.Command.instMonadLiftTIOCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadLiftTIOCommandElabM">Lean.Elab.Command.instMonadLiftTIOCommandElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">monadLift</span> := <span class="fn">fun {<span class="fn">α</span>} =&gt <span class="fn">Lean.Elab.Command.liftIO</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L181-L181">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScope">Lean.Elab.Command.getScope</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScope">Lean.Elab.Command.getScope</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Init/Data/List/BasicAux.html#List.head!">List.head!</a> <span class="fn"><span class="fn">__do_lift</span>.scopes</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadResolveNameCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L183-L185">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadResolveNameCommandElabM">Lean.Elab.Command.instMonadResolveNameCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/ResolveName.html#Lean.MonadResolveName">Lean.MonadResolveName</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadLogCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L187-L196">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadLogCommandElabM">Lean.Elab.Command.instMonadLogCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Log.html#Lean.MonadLog">Lean.MonadLog</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.runLinters"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L198-L208">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runLinters">Lean.Elab.Command.runLinters</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getCurrMacroScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L210-L210">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getCurrMacroScope">Lean.Elab.Command.getCurrMacroScope</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getCurrMacroScope">Lean.Elab.Command.getCurrMacroScope</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">read</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.currMacroScope</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getMainModule"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L211-L211">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getMainModule">Lean.Elab.Command.getMainModule</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getMainModule">Lean.Elab.Command.getMainModule</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.getEnv</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Environment.html#Lean.Environment.mainModule">Lean.Environment.mainModule</a> <span class="fn">__do_lift</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.withFreshMacroScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L213-L215">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withFreshMacroScope">Lean.Elab.Command.withFreshMacroScope</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadQuotationCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L217-L220">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadQuotationCommandElabM">Lean.Elab.Command.instMonadQuotationCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation">Lean.MonadQuotation</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadQuotationCommandElabM">Lean.Elab.Command.instMonadQuotationCommandElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation.mk">Lean.MonadQuotation.mk</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getCurrMacroScope">Lean.Elab.Command.getCurrMacroScope</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getMainModule">Lean.Elab.Command.getMainModule</a> <span class="fn">fun {<span class="fn">α</span>} =&gt
    <span class="fn">Lean.Elab.Command.withFreshMacroScope</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.mkCommandElabAttributeUnsafe"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L222-L223">source</a></div><div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkCommandElabAttributeUnsafe">Lean.Elab.Command.mkCommandElabAttributeUnsafe</a></span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.mkCommandElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L226-L226">source</a></div><div class="attributes">@[implemented_by Lean.Elab.Command.mkCommandElabAttributeUnsafe]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkCommandElabAttribute">Lean.Elab.Command.mkCommandElabAttribute</a></span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Command.commandElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L228-L228">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.commandElabAttribute">Lean.Elab.Command.commandElabAttribute</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.withMacroExpansion"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L248-L250">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withMacroExpansion">Lean.Elab.Command.withMacroExpansion</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(beforeStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(afterStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><p>Elaborate <code>x</code> with <code>stx</code> on the macro stack</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadMacroAdapterCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L252-L255">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadMacroAdapterCommandElabM">Lean.Elab.Command.instMonadMacroAdapterCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Util.html#Lean.Elab.MonadMacroAdapter">Lean.Elab.MonadMacroAdapter</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadRecDepthCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L257-L260">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadRecDepthCommandElabM">Lean.Elab.Command.instMonadRecDepthCommandElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Exception.html#Lean.MonadRecDepth">Lean.MonadRecDepth</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.showPartialSyntaxErrors"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L262-L265">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.showPartialSyntaxErrors">Lean.Elab.Command.showPartialSyntaxErrors</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.elabCommand"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L269-L292">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommand">Lean.Elab.Command.elabCommand</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.elabCommandTopLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L300-L325">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommandTopLevel">Lean.Elab.Command.elabCommandTopLevel</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommand">elabCommand</a></code> wrapper that should be used for the initial invocation, not for recursive calls after
macro expansion etc.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.adaptExpander"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L328-L330">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.adaptExpander">Lean.Elab.Command.adaptExpander</a></span><span class="decl_args">
<span class="fn">(exp : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></div></div><p>Adapt a syntax transformation to a regular, command-producing elaborator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.adaptExpander">Lean.Elab.Command.adaptExpander</a> <span class="fn">exp</span> <span class="fn">stx</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let stx' ← <span class="fn"><span class="fn">exp</span> <span class="fn">stx</span></span>
  <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withMacroExpansion">Lean.Elab.Command.withMacroExpansion</a> <span class="fn">stx</span> <span class="fn">stx'</span> (<span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommand">Lean.Elab.Command.elabCommand</a> <span class="fn">stx'</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instInhabitedCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L335-L336">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instInhabitedCommandElabM">Lean.Elab.Command.instInhabitedCommandElabM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Elab.Command.instInhabitedCommandElabM</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getBracketedBinderIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L344-L349">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getBracketedBinderIds">Lean.Elab.Command.getBracketedBinderIds</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></span></div></div><p>Return identifier names in the given bracketed binder.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftTermElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L385-L407">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftTermElabM">Lean.Elab.Command.liftTermElabM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><p>Lift the <code>TermElabM</code> monadic action <code>x</code> into a <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">CommandElabM</a></code> monadic action.</p><p>Note that <code>x</code> is executed with an empty message log. Thus, <code>x</code> cannot modify/view messages produced by
previous commands.</p><p>If you need to access the free variables corresponding to the ones declared using the <code>variable</code> command,
consider using <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runTermElabM">runTermElabM</a></code>.</p><p>Recall that <code>TermElabM</code> actions can automatically lift <code>MetaM</code> and <code>CoreM</code> actions.
Example:</p><pre><code>import <a href="../.././Lean.html">Lean</a>

open <a href="../.././Lean.html">Lean</a> Elab Command Meta

def printExpr (e : Expr) : MetaM <a href="../.././Init/Prelude.html#Unit">Unit</a> := do
  <a href="../.././Init/System/IO.html#IO.println">IO.println</a> s!"{← ppExpr e} : {← ppExpr (← inferType e)}"

#eval
  <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftTermElabM">liftTermElabM</a> do
    printExpr (mkConst ``Nat)
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.runTermElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L431-L448">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runTermElabM">Lean.Elab.Command.runTermElabM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(elabFn : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><p>Execute the monadic action <code>elabFn xs</code> as a <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">CommandElabM</a></code> monadic action, where <code>xs</code> are free variables
corresponding to all active scoped variables declared using the <code>variable</code> command.</p><p>This method is similar to <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftTermElabM">liftTermElabM</a></code>, but it elaborates all scoped variables declared using the <code>variable</code>
command.</p><p>Example:</p><pre><code>import <a href="../.././Lean.html">Lean</a>

open <a href="../.././Lean.html">Lean</a> Elab Command Meta

variable {α : Type u} {f : α → α}
variable (n : Nat)

#eval
  <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runTermElabM">runTermElabM</a> fun xs => do
    for x in xs do
      <a href="../.././Init/System/IO.html#IO.println">IO.println</a> s!"{← ppExpr x} : {← ppExpr (← inferType x)}"
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.catchExceptions"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L450-L451">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.catchExceptions">Lean.Elab.Command.catchExceptions</a></span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabCoreM">Lean.Elab.Command.CommandElabCoreM</a> <a href="../.././Init/Prelude.html#Empty">Empty</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.catchExceptions">Lean.Elab.Command.catchExceptions</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">ref</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/System/IO.html#EIO.catchExceptions">EIO.catchExceptions</a> (<span class="fn"><a href="../.././Lean/Elab/Util.html#Lean.Elab.withLogging">Lean.Elab.withLogging</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">ref</span></span>) <span class="fn">fun <span class="fn">x</span> =&gt <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Unit.unit">()</a></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getScopes"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L456-L457">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScopes">Lean.Elab.Command.getScopes</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScopes">Lean.Elab.Command.getScopes</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.scopes</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.modifyScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L459-L464">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.modifyScope">Lean.Elab.Command.modifyScope</a></span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a> → <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.withScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L466-L474">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withScope">Lean.Elab.Command.withScope</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a> → <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getLevelNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L476-L477">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getLevelNames">Lean.Elab.Command.getLevelNames</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getLevelNames">Lean.Elab.Command.getLevelNames</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScope">Lean.Elab.Command.getScope</a>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.levelNames</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.addUnivLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L479-L485">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.addUnivLevel">Lean.Elab.Command.addUnivLevel</a></span><span class="decl_args">
<span class="fn">(idStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Command.expandDeclId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Command.lean#L487-L494">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.expandDeclId">Lean.Elab.Command.expandDeclId</a></span><span class="decl_args">
<span class="fn">(declId : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(modifiers : <a href="../.././Lean/Elab/DeclModifiers.html#Lean.Elab.Modifiers">Lean.Elab.Modifiers</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Lean/Elab/DeclModifiers.html#Lean.Elab.ExpandDeclIdResult">Lean.Elab.ExpandDeclIdResult</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././/navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>