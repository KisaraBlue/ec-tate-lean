<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.Term</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Elab.Term";</script><script type="module" src="../.././nav.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within">Lean.Elab.Term</p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib_docs"></input><input type="text" name="q" autocomplete="off"></input><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top">Lean.Elab.Term</a></h3><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Lean/Elab/Config.html">Lean.Elab.Config</a></li><li><a href="../.././Lean/Elab/DeclModifiers.html">Lean.Elab.DeclModifiers</a></li><li><a href="../.././Lean/Elab/Level.html">Lean.Elab.Level</a></li><li><a href="../.././Lean/Linter/Deprecated.html">Lean.Linter.Deprecated</a></li><li><a href="../.././Lean/Meta/AppBuilder.html">Lean.Meta.AppBuilder</a></li><li><a href="../.././Lean/Meta/Coe.html">Lean.Meta.Coe</a></li><li><a href="../.././Lean/Meta/CollectMVars.html">Lean.Meta.CollectMVars</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.Term" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.SavedContext">Lean.Elab.Term.SavedContext</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedSyntheticMVarKind">Lean.Elab.Term.instInhabitedSyntheticMVarKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instToStringSyntheticMVarKind">Lean.Elab.Term.instToStringSyntheticMVarKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.SyntheticMVarDecl">Lean.Elab.Term.SyntheticMVarDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedSyntheticMVarDecl">Lean.Elab.Term.instInhabitedSyntheticMVarDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedMVarErrorKind">Lean.Elab.Term.instInhabitedMVarErrorKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instToStringMVarErrorKind">Lean.Elab.Term.instToStringMVarErrorKind</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedMVarErrorInfo">Lean.Elab.Term.instInhabitedMVarErrorInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.LetRecToLift">Lean.Elab.Term.LetRecToLift</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedLetRecToLift">Lean.Elab.Term.instInhabitedLetRecToLift</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.State">Lean.Elab.Term.State</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedState">Lean.Elab.Term.instInhabitedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instInhabitedState">Lean.Elab.Tactic.instInhabitedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.Snapshot">Lean.Elab.Tactic.Snapshot</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instInhabitedSnapshot">Lean.Elab.Tactic.instInhabitedSnapshot</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instBEqCacheKey">Lean.Elab.Tactic.instBEqCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instHashableCacheKey">Lean.Elab.Tactic.instHashableCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instInhabitedCacheKey">Lean.Elab.Tactic.instInhabitedCacheKey</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.Cache">Lean.Elab.Tactic.Cache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instInhabitedCache">Lean.Elab.Tactic.instInhabitedCache</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Context">Lean.Elab.Term.Context</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.TermElabM">Lean.Elab.Term.TermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instMonadTermElabM">Lean.Elab.Term.instMonadTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedTermElabM">Lean.Elab.Term.instInhabitedTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedSavedState">Lean.Elab.Term.instInhabitedSavedState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.saveState">Lean.Elab.Term.saveState</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.SavedState.restore">Lean.Elab.Term.SavedState.restore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM">Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.TermElabResult">Lean.Elab.Term.TermElabResult</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instInhabitedTermElabResult">Lean.Elab.Term.instInhabitedTermElabResult</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.observing">Lean.Elab.Term.observing</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.applyResult">Lean.Elab.Term.applyResult</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.commitIfDidNotPostpone">Lean.Elab.Term.commitIfDidNotPostpone</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getLevelNames">Lean.Elab.Term.getLevelNames</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getFVarLocalDecl!">Lean.Elab.Term.getFVarLocalDecl!</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instAddErrorMessageContextTermElabM">Lean.Elab.Term.instAddErrorMessageContextTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo">Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutSavingRecAppSyntax">Lean.Elab.Term.withoutSavingRecAppSyntax</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkTermElabAttributeUnsafe">Lean.Elab.Term.mkTermElabAttributeUnsafe</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkTermElabAttribute">Lean.Elab.Term.mkTermElabAttribute</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.termElabAttribute">Lean.Elab.Term.termElabAttribute</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.LVal.getRef">Lean.Elab.Term.LVal.getRef</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.LVal.isFieldName">Lean.Elab.Term.LVal.isFieldName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instToStringLVal">Lean.Elab.Term.instToStringLVal</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getDeclName?">Lean.Elab.Term.getDeclName?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getLetRecsToLift">Lean.Elab.Term.getLetRecsToLift</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getMVarDecl">Lean.Elab.Term.getMVarDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withDeclName">Lean.Elab.Term.withDeclName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.setLevelNames">Lean.Elab.Term.setLevelNames</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withLevelNames">Lean.Elab.Term.withLevelNames</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withAuxDecl">Lean.Elab.Term.withAuxDecl</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutErrToSorryImp">Lean.Elab.Term.withoutErrToSorryImp</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutErrToSorry">Lean.Elab.Term.withoutErrToSorry</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.throwErrorIfErrors">Lean.Elab.Term.throwErrorIfErrors</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.traceAtCmdPos">Lean.Elab.Term.traceAtCmdPos</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.ppGoal">Lean.Elab.Term.ppGoal</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.liftLevelM">Lean.Elab.Term.liftLevelM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.elabLevel">Lean.Elab.Term.elabLevel</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withMacroExpansion">Lean.Elab.Term.withMacroExpansion</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerSyntheticMVar">Lean.Elab.Term.registerSyntheticMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerSyntheticMVarWithCurrRef">Lean.Elab.Term.registerSyntheticMVarWithCurrRef</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerMVarErrorInfo">Lean.Elab.Term.registerMVarErrorInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerMVarErrorHoleInfo">Lean.Elab.Term.registerMVarErrorHoleInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerMVarErrorImplicitArgInfo">Lean.Elab.Term.registerMVarErrorImplicitArgInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerMVarErrorCustomInfo">Lean.Elab.Term.registerMVarErrorCustomInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getMVarErrorInfo?">Lean.Elab.Term.getMVarErrorInfo?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.registerCustomErrorIfMVar">Lean.Elab.Term.registerCustomErrorIfMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.throwMVarError">Lean.Elab.Term.throwMVarError</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.MVarErrorInfo.logError">Lean.Elab.Term.MVarErrorInfo.logError</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.MVarErrorInfo.logError.addArgName">Lean.Elab.Term.MVarErrorInfo.logError.addArgName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.MVarErrorInfo.logError.appendExtra">Lean.Elab.Term.MVarErrorInfo.logError.appendExtra</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.logUnassignedUsingErrorInfos">Lean.Elab.Term.logUnassignedUsingErrorInfos</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.ensureNoUnassignedMVars">Lean.Elab.Term.ensureNoUnassignedMVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutPostponing">Lean.Elab.Term.withoutPostponing</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkExplicitBinder">Lean.Elab.Term.mkExplicitBinder</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.levelMVarToParam">Lean.Elab.Term.levelMVarToParam</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkFreshBinderName">Lean.Elab.Term.mkFreshBinderName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkFreshIdent">Lean.Elab.Term.mkFreshIdent</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.applyAttributesAt">Lean.Elab.Term.applyAttributesAt</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.applyAttributes">Lean.Elab.Term.applyAttributes</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkTypeMismatchError">Lean.Elab.Term.mkTypeMismatchError</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.throwTypeMismatchError">Lean.Elab.Term.throwTypeMismatchError</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutMacroStackAtErr">Lean.Elab.Term.withoutMacroStackAtErr</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.ContainsPendingMVar.M">Lean.Elab.Term.ContainsPendingMVar.M</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.ContainsPendingMVar.visit">Lean.Elab.Term.ContainsPendingMVar.visit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.containsPendingMVar">Lean.Elab.Term.containsPendingMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.synthesizeInstMVarCore">Lean.Elab.Term.synthesizeInstMVarCore</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkCoe">Lean.Elab.Term.mkCoe</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.ensureHasType">Lean.Elab.Term.ensureHasType</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.exceptionToSorry">Lean.Elab.Term.exceptionToSorry</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.tryPostpone">Lean.Elab.Term.tryPostpone</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.isMVarApp">Lean.Elab.Term.isMVarApp</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.tryPostponeIfMVar">Lean.Elab.Term.tryPostponeIfMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.tryPostponeIfNoneOrMVar">Lean.Elab.Term.tryPostponeIfNoneOrMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.tryPostponeIfHasMVars?">Lean.Elab.Term.tryPostponeIfHasMVars?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.tryPostponeIfHasMVars">Lean.Elab.Term.tryPostponeIfHasMVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.saveContext">Lean.Elab.Term.saveContext</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withSavedContext">Lean.Elab.Term.withSavedContext</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.getSyntheticMVarDecl?">Lean.Elab.Term.getSyntheticMVarDecl?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkSaveInfoAnnotation">Lean.Elab.Term.mkSaveInfoAnnotation</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.isSaveInfoAnnotation?">Lean.Elab.Term.isSaveInfoAnnotation?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.removeSaveInfoAnnotation">Lean.Elab.Term.removeSaveInfoAnnotation</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.isTacticOrPostponedHole?">Lean.Elab.Term.isTacticOrPostponedHole?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkTermInfo">Lean.Elab.Term.mkTermInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.addTermInfo">Lean.Elab.Term.addTermInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.addTermInfo'">Lean.Elab.Term.addTermInfo'</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withInfoContext'">Lean.Elab.Term.withInfoContext'</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.postponeElabTerm">Lean.Elab.Term.postponeElabTerm</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instMonadMacroAdapterTermElabM">Lean.Elab.Term.instMonadMacroAdapterTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.hasNoImplicitLambdaAnnotation">Lean.Elab.Term.hasNoImplicitLambdaAnnotation</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkNoImplicitLambdaAnnotation">Lean.Elab.Term.mkNoImplicitLambdaAnnotation</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.blockImplicitLambda">Lean.Elab.Term.blockImplicitLambda</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.addDotCompletionInfo">Lean.Elab.Term.addDotCompletionInfo</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.elabTerm">Lean.Elab.Term.elabTerm</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.elabTermEnsuringType">Lean.Elab.Term.elabTermEnsuringType</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.commitIfNoErrors?">Lean.Elab.Term.commitIfNoErrors?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.adaptExpander">Lean.Elab.Term.adaptExpander</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkInstMVar">Lean.Elab.Term.mkInstMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.ensureType">Lean.Elab.Term.ensureType</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.elabType">Lean.Elab.Term.elabType</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withAutoBoundImplicit">Lean.Elab.Term.withAutoBoundImplicit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withAutoBoundImplicit.loop">Lean.Elab.Term.withAutoBoundImplicit.loop</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withoutAutoBoundImplicit">Lean.Elab.Term.withoutAutoBoundImplicit</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.withAutoBoundImplicitForbiddenPred">Lean.Elab.Term.withAutoBoundImplicitForbiddenPred</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.collectUnassignedMVars">Lean.Elab.Term.collectUnassignedMVars</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.collectUnassignedMVars.go">Lean.Elab.Term.collectUnassignedMVars.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.addAutoBoundImplicits">Lean.Elab.Term.addAutoBoundImplicits</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.addAutoBoundImplicits.go">Lean.Elab.Term.addAutoBoundImplicits.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.addAutoBoundImplicits'">Lean.Elab.Term.addAutoBoundImplicits'</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkAuxName">Lean.Elab.Term.mkAuxName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.isLetRecAuxMVar">Lean.Elab.Term.isLetRecAuxMVar</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveLocalName">Lean.Elab.Term.resolveLocalName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveLocalName.go">Lean.Elab.Term.resolveLocalName.go</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveLocalName.loop">Lean.Elab.Term.resolveLocalName.loop</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.isLocalIdent?">Lean.Elab.Term.isLocalIdent?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.mkConst">Lean.Elab.Term.mkConst</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveName">Lean.Elab.Term.resolveName</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveName.process">Lean.Elab.Term.resolveName.process</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveName'">Lean.Elab.Term.resolveName'</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.resolveId?">Lean.Elab.Term.resolveId?</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.TermElabM.run">Lean.Elab.Term.TermElabM.run</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.TermElabM.run'">Lean.Elab.Term.TermElabM.run'</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.TermElabM.toIO">Lean.Elab.Term.TermElabM.toIO</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.instMetaEvalTermElabM">Lean.Elab.Term.instMetaEvalTermElabM</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.universeConstraintsCheckpoint">Lean.Elab.Term.universeConstraintsCheckpoint</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.expandDeclId">Lean.Elab.Term.expandDeclId</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.exprToSyntax">Lean.Elab.Term.exprToSyntax</a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.withoutModifyingStateWithInfoAndMessages">Lean.Elab.withoutModifyingStateWithInfoAndMessages</a></div></nav><main>
<div class="decl" id="Lean.Elab.Term.SavedContext"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L19-L25">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedContext">Lean.Elab.Term.SavedContext</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.SavedContext.mk"><li id="Lean.Elab.Term.SavedContext.declName?" class="structure_field"><div class="structure_field_info">declName? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Term.SavedContext.options" class="structure_field"><div class="structure_field_info">options : <a href="../.././Lean/Data/Options.html#Lean.Options">Lean.Options</a></div></li><li id="Lean.Elab.Term.SavedContext.openDecls" class="structure_field"><div class="structure_field_info">openDecls : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Data/OpenDecl.html#Lean.OpenDecl">Lean.OpenDecl</a></span></div></li><li id="Lean.Elab.Term.SavedContext.macroStack" class="structure_field"><div class="structure_field_info">macroStack : <a href="../.././Lean/Elab/Util.html#Lean.Elab.MacroStack">Lean.Elab.MacroStack</a></div></li><li id="Lean.Elab.Term.SavedContext.errToSorry" class="structure_field"><div class="structure_field_info">errToSorry : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.SavedContext.levelNames" class="structure_field"><div class="structure_field_info">levelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li></ul><p>Saved context for postponed terms and tactics to be executed.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.SavedContext" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.SyntheticMVarKind"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L28-L40">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="constructors"><li class="constructor" id="Lean.Elab.Term.SyntheticMVarKind.typeClass"><div class="inductive_ctor_doc"><p>Use typeclass resolution to synthesize value for metavariable.</p></div>typeClass: <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></li><li class="constructor" id="Lean.Elab.Term.SyntheticMVarKind.coe"><div class="inductive_ctor_doc"><p>Use coercion to synthesize value for the metavariable.
if <code>f?</code> is <code>some f</code>, we produce an application type mismatch error message.
Otherwise, if <code>header?</code> is <code>some header</code>, we generate the error <code>(header ++ "has type" ++ eType ++ "but it is expected to have type" ++ expectedType)</code>
Otherwise, we generate the error <code>("type mismatch" ++ e ++ "has type" ++ eType ++ "but it is expected to have type" ++ expectedType)</code></p></div>coe: <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></span></span></span></li><li class="constructor" id="Lean.Elab.Term.SyntheticMVarKind.tactic"><div class="inductive_ctor_doc"><p>Use tactic to synthesize value for metavariable.</p></div>tactic: <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedContext">Lean.Elab.Term.SavedContext</a> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></span></span></li><li class="constructor" id="Lean.Elab.Term.SyntheticMVarKind.postponed"><div class="inductive_ctor_doc"><p>Metavariable represents a hole whose elaboration has been postponed.</p></div>postponed: <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedContext">Lean.Elab.Term.SavedContext</a> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></span></li></ul><p>We use synthetic metavariables as placeholders for pending elaboration steps.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.SyntheticMVarKind" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedSyntheticMVarKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L40-L40">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedSyntheticMVarKind">Lean.Elab.Term.instInhabitedSyntheticMVarKind</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedSyntheticMVarKind">Lean.Elab.Term.instInhabitedSyntheticMVarKind</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind.typeClass">Lean.Elab.Term.SyntheticMVarKind.typeClass</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instToStringSyntheticMVarKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L42-L47">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instToStringSyntheticMVarKind">Lean.Elab.Term.instToStringSyntheticMVarKind</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.SyntheticMVarDecl"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L49-L52">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarDecl">Lean.Elab.Term.SyntheticMVarDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.SyntheticMVarDecl.mk"><li id="Lean.Elab.Term.SyntheticMVarDecl.stx" class="structure_field"><div class="structure_field_info">stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Elab.Term.SyntheticMVarDecl.kind" class="structure_field"><div class="structure_field_info">kind : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.SyntheticMVarDecl" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedSyntheticMVarDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L52-L52">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedSyntheticMVarDecl">Lean.Elab.Term.instInhabitedSyntheticMVarDecl</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarDecl">Lean.Elab.Term.SyntheticMVarDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedSyntheticMVarDecl">Lean.Elab.Term.instInhabitedSyntheticMVarDecl</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">stx</span> := <span class="fn">default</span>, <span class="fn">kind</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.MVarErrorKind"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L58-L65">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="constructors"><li class="constructor" id="Lean.Elab.Term.MVarErrorKind.implicitArg"><div class="inductive_ctor_doc"><p>Metavariable for implicit arguments. <code>ctx</code> is the parent application.</p></div>implicitArg: <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></span></li><li class="constructor" id="Lean.Elab.Term.MVarErrorKind.hole"><div class="inductive_ctor_doc"><p>Metavariable for explicit holes provided by the user (e.g., <code>_</code> and <code>?m</code>)</p></div>hole: <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></li><li class="constructor" id="Lean.Elab.Term.MVarErrorKind.custom"><div class="inductive_ctor_doc"><p>"Custom", <code>msgData</code> stores the additional error messages.</p></div>custom: <span class="fn"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></span></li></ul><p>We can optionally associate an error context with a metavariable (see <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">MVarErrorInfo</a></code>).
We have three different kinds of error context.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.MVarErrorKind" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedMVarErrorKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L65-L65">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedMVarErrorKind">Lean.Elab.Term.instInhabitedMVarErrorKind</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedMVarErrorKind">Lean.Elab.Term.instInhabitedMVarErrorKind</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind.implicitArg">Lean.Elab.Term.MVarErrorKind.implicitArg</a> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instToStringMVarErrorKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L67-L71">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instToStringMVarErrorKind">Lean.Elab.Term.instToStringMVarErrorKind</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.MVarErrorInfo"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L76-L81">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.MVarErrorInfo.mk"><li id="Lean.Elab.Term.MVarErrorInfo.mvarId" class="structure_field"><div class="structure_field_info">mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></div></li><li id="Lean.Elab.Term.MVarErrorInfo.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Elab.Term.MVarErrorInfo.kind" class="structure_field"><div class="structure_field_info">kind : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind">Lean.Elab.Term.MVarErrorKind</a></div></li><li id="Lean.Elab.Term.MVarErrorInfo.argName?" class="structure_field"><div class="structure_field_info">argName? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li></ul><p>We can optionally associate an error context with metavariables.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.MVarErrorInfo" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedMVarErrorInfo"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L81-L81">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedMVarErrorInfo">Lean.Elab.Term.instInhabitedMVarErrorInfo</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedMVarErrorInfo">Lean.Elab.Term.instInhabitedMVarErrorInfo</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">mvarId</span> := <span class="fn">default</span>, <span class="fn">ref</span> := <span class="fn">default</span>, <span class="fn">kind</span> := <span class="fn">default</span>, <span class="fn">argName?</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.LetRecToLift"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L87-L98">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LetRecToLift">Lean.Elab.Term.LetRecToLift</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.LetRecToLift.mk"><li id="Lean.Elab.Term.LetRecToLift.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Elab.Term.LetRecToLift.fvarId" class="structure_field"><div class="structure_field_info">fvarId : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></div></li><li id="Lean.Elab.Term.LetRecToLift.attrs" class="structure_field"><div class="structure_field_info">attrs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Elab/Attributes.html#Lean.Elab.Attribute">Lean.Elab.Attribute</a></span></div></li><li id="Lean.Elab.Term.LetRecToLift.shortDeclName" class="structure_field"><div class="structure_field_info">shortDeclName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Elab.Term.LetRecToLift.declName" class="structure_field"><div class="structure_field_info">declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></div></li><li id="Lean.Elab.Term.LetRecToLift.lctx" class="structure_field"><div class="structure_field_info">lctx : <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></div></li><li id="Lean.Elab.Term.LetRecToLift.localInstances" class="structure_field"><div class="structure_field_info">localInstances : <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a></div></li><li id="Lean.Elab.Term.LetRecToLift.type" class="structure_field"><div class="structure_field_info">type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Elab.Term.LetRecToLift.val" class="structure_field"><div class="structure_field_info">val : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></li><li id="Lean.Elab.Term.LetRecToLift.mvarId" class="structure_field"><div class="structure_field_info">mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></div></li></ul><p>Nested <code>let rec</code> expressions are eagerly lifted by the elaborator.
We store the information necessary for performing the lifting here.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.LetRecToLift" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedLetRecToLift"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L98-L98">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedLetRecToLift">Lean.Elab.Term.instInhabitedLetRecToLift</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LetRecToLift">Lean.Elab.Term.LetRecToLift</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L103-L109">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.State.mk"><li id="Lean.Elab.Term.State.levelNames" class="structure_field"><div class="structure_field_info">levelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Term.State.syntheticMVars" class="structure_field"><div class="structure_field_info">syntheticMVars : <span class="fn"><a href="../.././Lean/Expr.html#Lean.MVarIdMap">Lean.MVarIdMap</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarDecl">Lean.Elab.Term.SyntheticMVarDecl</a></span></div></li><li id="Lean.Elab.Term.State.pendingMVars" class="structure_field"><div class="structure_field_info">pendingMVars : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span></div></li><li id="Lean.Elab.Term.State.mvarErrorInfos" class="structure_field"><div class="structure_field_info">mvarErrorInfos : <span class="fn"><a href="../.././Lean/Expr.html#Lean.MVarIdMap">Lean.MVarIdMap</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a></span></div></li><li id="Lean.Elab.Term.State.letRecsToLift" class="structure_field"><div class="structure_field_info">letRecsToLift : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LetRecToLift">Lean.Elab.Term.LetRecToLift</a></span></div></li></ul><p>State of the <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">TermElabM</a></code> monad.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.State" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L109-L109">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedState">Lean.Elab.Term.instInhabitedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedState">Lean.Elab.Term.instInhabitedState</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> :=
      <span class="fn">{ <span class="fn">levelNames</span> := <span class="fn">default</span>, <span class="fn">syntheticMVars</span> := <span class="fn">default</span>, <span class="fn">pendingMVars</span> := <span class="fn">default</span>, <span class="fn">mvarErrorInfos</span> := <span class="fn">default</span>,
        <span class="fn">letRecsToLift</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L118-L120">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Tactic.State.mk"><li id="Lean.Elab.Tactic.State.goals" class="structure_field"><div class="structure_field_info">goals : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span></div></li></ul><p>State of the <code>TacticM</code> monad.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Tactic.State" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instInhabitedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L120-L120">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedState">Lean.Elab.Tactic.instInhabitedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedState">Lean.Elab.Tactic.instInhabitedState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">goals</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.Snapshot"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L128-L134">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Snapshot">Lean.Elab.Tactic.Snapshot</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Tactic.Snapshot.mk"><li id="Lean.Elab.Tactic.Snapshot.core" class="structure_field"><div class="structure_field_info">core : <a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a></div></li><li id="Lean.Elab.Tactic.Snapshot.meta" class="structure_field"><div class="structure_field_info">meta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></div></li><li id="Lean.Elab.Tactic.Snapshot.term" class="structure_field"><div class="structure_field_info">term : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a></div></li><li id="Lean.Elab.Tactic.Snapshot.tactic" class="structure_field"><div class="structure_field_info">tactic : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a></div></li><li id="Lean.Elab.Tactic.Snapshot.stx" class="structure_field"><div class="structure_field_info">stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li></ul><p>Snapshots are used to implement the <code>save</code> tactic.
This tactic caches the state of the system, and allows us to "replay"
expensive proofs efficiently. This is only relevant implementing the
LSP server.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Tactic.Snapshot" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instInhabitedSnapshot"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L134-L134">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedSnapshot">Lean.Elab.Tactic.instInhabitedSnapshot</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Snapshot">Lean.Elab.Tactic.Snapshot</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedSnapshot">Lean.Elab.Tactic.instInhabitedSnapshot</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">core</span> := <span class="fn">default</span>, <span class="fn">meta</span> := <span class="fn">default</span>, <span class="fn">term</span> := <span class="fn">default</span>, <span class="fn">tactic</span> := <span class="fn">default</span>, <span class="fn">stx</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.CacheKey"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L139-L142">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Tactic.CacheKey.mk"><li id="Lean.Elab.Tactic.CacheKey.mvarId" class="structure_field"><div class="structure_field_info">mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></div></li><li id="Lean.Elab.Tactic.CacheKey.pos" class="structure_field"><div class="structure_field_info">pos : <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></div></li></ul><p>Key for the cache used to implement the <code>save</code> tactic.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Tactic.CacheKey" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instBEqCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L142-L142">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instBEqCacheKey">Lean.Elab.Tactic.instBEqCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instBEqCacheKey">Lean.Elab.Tactic.instBEqCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">beq</span> := <a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Tactic.beqCacheKey._@.Lean.Elab.Term._hyg.787">Lean.Elab.Tactic.beqCacheKey✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instHashableCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L142-L142">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instHashableCacheKey">Lean.Elab.Tactic.instHashableCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instHashableCacheKey">Lean.Elab.Tactic.instHashableCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">hash</span> := <a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Tactic.hashCacheKey._@.Lean.Elab.Term._hyg.880">Lean.Elab.Tactic.hashCacheKey✝</a> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instInhabitedCacheKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L142-L142">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedCacheKey">Lean.Elab.Tactic.instInhabitedCacheKey</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedCacheKey">Lean.Elab.Tactic.instInhabitedCacheKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">mvarId</span> := <span class="fn">default</span>, <span class="fn">pos</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.Cache"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L147-L150">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Cache">Lean.Elab.Tactic.Cache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Tactic.Cache.mk"><li id="Lean.Elab.Tactic.Cache.pre" class="structure_field"><div class="structure_field_info">pre : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Snapshot">Lean.Elab.Tactic.Snapshot</a></span></div></li><li id="Lean.Elab.Tactic.Cache.post" class="structure_field"><div class="structure_field_info">post : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.CacheKey">Lean.Elab.Tactic.CacheKey</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Snapshot">Lean.Elab.Tactic.Snapshot</a></span></div></li></ul><p>Cache for the <code>save</code> tactic.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Tactic.Cache" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instInhabitedCache"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L150-L150">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedCache">Lean.Elab.Tactic.instInhabitedCache</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Cache">Lean.Elab.Tactic.Cache</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.instInhabitedCache">Lean.Elab.Tactic.instInhabitedCache</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">pre</span> := <span class="fn">default</span>, <span class="fn">post</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L156-L220">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Lean.Elab.Term.Context</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.Context.mk"><li id="Lean.Elab.Term.Context.declName?" class="structure_field"><div class="structure_field_info">declName? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Term.Context.auxDeclToFullName" class="structure_field"><div class="structure_field_doc"><p>Map <code>.auxDecl</code> local declarations used to encode recursive declarations to their full-names.</p></div><div class="structure_field_info">auxDeclToFullName : <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarIdMap">Lean.FVarIdMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Term.Context.macroStack" class="structure_field"><div class="structure_field_info">macroStack : <a href="../.././Lean/Elab/Util.html#Lean.Elab.MacroStack">Lean.Elab.MacroStack</a></div></li><li id="Lean.Elab.Term.Context.mayPostpone" class="structure_field"><div class="structure_field_doc"><p>When <code>mayPostpone == true</code>, an elaboration function may interrupt its execution by throwing <code>Exception.postpone</code>.
The function <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTerm">elabTerm</a></code> catches this exception and creates fresh synthetic metavariable <code>?m</code>, stores <code>?m</code> in
the list of pending synthetic metavariables, and returns <code>?m</code>.</p></div><div class="structure_field_info">mayPostpone : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.errToSorry" class="structure_field"><div class="structure_field_doc"><p>When <code>errToSorry</code> is set to true, the method <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTerm">elabTerm</a></code> catches
exceptions and converts them into synthetic <code>sorry</code>s.
The implementation of choice nodes and overloaded symbols rely on the fact
that when <code>errToSorry</code> is set to false for an elaboration function <code>F</code>, then
<code>errToSorry</code> remains <code>false</code> for all elaboration functions invoked by <code>F</code>.
That is, it is safe to transition <code>errToSorry</code> from <code>true</code> to <code>false</code>, but
we must not set <code>errToSorry</code> to <code>true</code> when it is currently set to <code>false</code>.</p></div><div class="structure_field_info">errToSorry : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.autoBoundImplicit" class="structure_field"><div class="structure_field_doc"><p>When <code>autoBoundImplicit</code> is set to true, instead of producing
an "unknown identifier" error for unbound variables, we generate an
internal exception. This exception is caught at <code>elabBinders</code> and
<code>elabTypeWithUnboldImplicit</code>. Both methods add implicit declarations
for the unbound variable and try again.</p></div><div class="structure_field_info">autoBoundImplicit : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.autoBoundImplicits" class="structure_field"><div class="structure_field_info">autoBoundImplicits : <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PArray">Lean.PArray</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></li><li id="Lean.Elab.Term.Context.autoBoundImplicitForbidden" class="structure_field"><div class="structure_field_doc"><p>A name <code>n</code> is only eligible to be an auto implicit name if <code>autoBoundImplicitForbidden n = false</code>.
We use this predicate to disallow <code>f</code> to be considered an auto implicit name in a definition such
as</p><pre><code>def f : f → <a href="../.././Init/Prelude.html#Bool">Bool</a> := fun _ => true
</code></pre></div><div class="structure_field_info">autoBoundImplicitForbidden : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></li><li id="Lean.Elab.Term.Context.sectionVars" class="structure_field"><div class="structure_field_doc"><p>Map from user name to internal unique name</p></div><div class="structure_field_info">sectionVars : <span class="fn"><a href="../.././Lean/Data/NameMap.html#Lean.NameMap">Lean.NameMap</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></li><li id="Lean.Elab.Term.Context.sectionFVars" class="structure_field"><div class="structure_field_doc"><p>Map from internal name to fvar</p></div><div class="structure_field_info">sectionFVars : <span class="fn"><a href="../.././Lean/Data/NameMap.html#Lean.NameMap">Lean.NameMap</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></li><li id="Lean.Elab.Term.Context.implicitLambda" class="structure_field"><div class="structure_field_doc"><p>Enable/disable implicit lambdas feature.</p></div><div class="structure_field_info">implicitLambda : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.isNoncomputableSection" class="structure_field"><div class="structure_field_doc"><p>Noncomputable sections automatically add the <code>noncomputable</code> modifier to any declaration we cannot generate code for</p></div><div class="structure_field_info">isNoncomputableSection : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.ignoreTCFailures" class="structure_field"><div class="structure_field_doc"><p>When <code>true</code> we skip TC failures. We use this option when processing patterns</p></div><div class="structure_field_info">ignoreTCFailures : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.inPattern" class="structure_field"><div class="structure_field_doc"><p><code>true</code> when elaborating patterns. It affects how we elaborate named holes.</p></div><div class="structure_field_info">inPattern : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.tacticCache?" class="structure_field"><div class="structure_field_doc"><p>Cache for the <code>save</code> tactic. It is only <code>some</code> in the LSP server.</p></div><div class="structure_field_info">tacticCache? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Cache">Lean.Elab.Tactic.Cache</a></span>)</span></div></li><li id="Lean.Elab.Term.Context.saveRecAppSyntax" class="structure_field"><div class="structure_field_doc"><p>If <code>true</code>, we store in the <code>Expr</code> the <code>Syntax</code> for recursive applications (i.e., applications
of free variables tagged with <code>isAuxDecl</code>). We store the <code>Syntax</code> using <code>mkRecAppWithSyntax</code>.
We use the <code>Syntax</code> object to produce better error messages at <code>Structural.lean</code> and <code>WF.lean</code>.</p></div><div class="structure_field_info">saveRecAppSyntax : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li><li id="Lean.Elab.Term.Context.holesAsSyntheticOpaque" class="structure_field"><div class="structure_field_doc"><p>If <code>holesAsSyntheticOpaque</code> is <code>true</code>, then we mark metavariables associated
with <code>_</code>s as <code>synthethicOpaque</code> if they do not occur in patterns.
This option is useful when elaborating terms in tactics such as <code>refine'</code> where
we want holes there to become new goals. See issue #1681, we have
`refine' (fun x => _)</p></div><div class="structure_field_info">holesAsSyntheticOpaque : <a href="../.././Init/Prelude.html#Bool">Bool</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.Context" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.TermElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L222-L222">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.Term.TermElabM</a></span><span class="decl_args">
<span class="fn">(α : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#ReaderT">ReaderT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Lean.Elab.Term.Context</a> (<span class="fn"><a href="../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.TermElab"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L223-L223">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span></span>)</span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instMonadTermElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L230-L232">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instMonadTermElabM">Lean.Elab.Term.instMonadTermElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instMonadTermElabM">Lean.Elab.Term.instMonadTermElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">let i := <span class="fn"><a href="../.././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> (<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a></span>)</span>;
  <span class="fn">Monad.mk</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedTermElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L236-L237">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedTermElabM">Lean.Elab.Term.instInhabitedTermElabM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Elab.Term.instInhabitedTermElabM</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../.././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.SavedState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L242-L245">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="structure_fields" id="Lean.Elab.Term.SavedState.mk"><li id="Lean.Elab.Term.SavedState.meta" class="structure_field"><div class="structure_field_info">meta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.SavedState">Lean.Meta.SavedState</a></div></li><li id="Lean.Elab.Term.SavedState.elab" class="structure_field"><div class="structure_field_info">elab : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a></div></li></ul><p>Backtrackable state for the <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">TermElabM</a></code> monad.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.SavedState" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedSavedState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L245-L245">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedSavedState">Lean.Elab.Term.instInhabitedSavedState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedSavedState">Lean.Elab.Term.instInhabitedSavedState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn">{ <span class="fn">meta</span> := <span class="fn">default</span>, <span class="fn">elab</span> := <span class="fn">default</span> }</span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.saveState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L247-L248">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.saveState">Lean.Elab.Term.saveState</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.saveState">Lean.Elab.Term.saveState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.saveState">Lean.Meta.saveState</a></span>
  let __do_lift_1 ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">{ <span class="fn">meta</span> := <span class="fn">__do_lift</span>, <span class="fn">elab</span> := <span class="fn">__do_lift_1</span> }</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.SavedState.restore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L250-L257">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState.restore">Lean.Elab.Term.SavedState.restore</a></span><span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a>)</span></span>
<span class="decl_args">
<span class="fn">(restoreInfo : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L259-L261">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM">Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack">Lean.MonadBacktrack</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM">Lean.Elab.Term.instMonadBacktrackSavedStateTermElabM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">{ <span class="fn">saveState</span> := <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.saveState">Lean.Elab.Term.saveState</a>, <span class="fn">restoreState</span> := <span class="fn">fun <span class="fn">b</span> =&gt <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState.restore">Lean.Elab.Term.SavedState.restore</a> <span class="fn">b</span> <a href="../.././Init/Prelude.html#Bool.false">false</a></span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.TermElabResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L263-L263">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabResult">Lean.Elab.Term.TermElabResult</a></span><span class="decl_args">
<span class="fn">(α : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabResult">Lean.Elab.Term.TermElabResult</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result">EStateM.Result</a> <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a> <span class="fn">α</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instInhabitedTermElabResult"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L265-L266">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instInhabitedTermElabResult">Lean.Elab.Term.instInhabitedTermElabResult</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabResult">Lean.Elab.Term.TermElabResult</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Elab.Term.instInhabitedTermElabResult</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">{ <span class="fn">default</span> := <span class="fn"><a href="../.././Init/Prelude.html#EStateM.Result.ok">EStateM.Result.ok</a> <span class="fn">default</span> <span class="fn">default</span></span> }</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.observing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L275-L290">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.observing">Lean.Elab.Term.observing</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabResult">Lean.Elab.Term.TermElabResult</a> <span class="fn">α</span></span>)</span></div></div><p>Execute <code>x</code>, save resulting expression and new state.
We remove any <code>Info</code> created by <code>x</code>.
The info nodes are committed when we execute <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyResult">applyResult</a></code>.
We use <code><a href="../.././Init/Control/Except.html#observing">observing</a></code> to implement overloaded notation and decls.
We want to save <code>Info</code> nodes for the chosen alternative.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.applyResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L295-L298">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyResult">Lean.Elab.Term.applyResult</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(result : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabResult">Lean.Elab.Term.TermElabResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Apply the result/exception and state captured with <code><a href="../.././Init/Control/Except.html#observing">observing</a></code>.
We use this method to implement overloaded notation and symbols.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.commitIfDidNotPostpone"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L304-L307">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.commitIfDidNotPostpone">Lean.Elab.Term.commitIfDidNotPostpone</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code>, but keep state modifications only if <code>x</code> did not postpone.
This method is useful to implement elaboration functions that cannot decide whether
they need to postpone or not without updating the state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.commitIfDidNotPostpone">Lean.Elab.Term.commitIfDidNotPostpone</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let r ← <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.observing">Lean.Elab.Term.observing</a> <span class="fn">x</span></span>
  <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyResult">Lean.Elab.Term.applyResult</a> <span class="fn">r</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getLevelNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L312-L313">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getLevelNames">Lean.Elab.Term.getLevelNames</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></div></div><p>Return the universe level names explicitly provided by the user.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getLevelNames">Lean.Elab.Term.getLevelNames</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.levelNames</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getFVarLocalDecl!"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L319-L322">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getFVarLocalDecl!">Lean.Elab.Term.getFVarLocalDecl!</a></span><span class="decl_args">
<span class="fn">(fvar : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></div></div><p>Given a free variable <code>fvar</code>, return its declaration.
This function panics if <code>fvar</code> is not a free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instAddErrorMessageContextTermElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L324-L330">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instAddErrorMessageContextTermElabM">Lean.Elab.Term.instAddErrorMessageContextTermElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Exception.html#Lean.AddErrorMessageContext">Lean.AddErrorMessageContext</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L339-L346">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo">Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> but discard changes performed at <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Term.State</a></code> and <code>Meta.<a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">State</a></code>.
Recall that the <code>Environment</code> and <code>InfoState</code> are at <code>Core.<a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">State</a></code>. Thus, any updates to it will
be preserved. This method is useful for performing computations where all
metavariable must be resolved or discarded.
The <code>InfoTree</code>s are not discarded, however, and wrapped in <code>InfoTree.<a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Context</a></code>
to store their metavariable context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo">Lean.Elab.Term.withoutModifyingElabMetaStateWithInfo</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let s ← <span class="fn">get</span>
  let sMeta ← <span class="fn"><a href="../.././Init/Prelude.html#getThe">getThe</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a></span>
  <span class="fn"><a href="../.././Init/Control/Except.html#tryFinally">tryFinally</a> (<span class="fn"><a href="../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withSaveInfoContext">Lean.Elab.withSaveInfoContext</a> <span class="fn">x</span></span>) <span class="fn">do
      <span class="fn"><a href="../.././Init/Prelude.html#MonadStateOf.set">set</a> <span class="fn">s</span></span>
      <span class="fn"><a href="../.././Init/Prelude.html#MonadStateOf.set">set</a> <span class="fn">sMeta</span></span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withoutSavingRecAppSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L362-L363">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutSavingRecAppSyntax">Lean.Elab.Term.withoutSavingRecAppSyntax</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> without storing <code>Syntax</code> for recursive applications. See <code>saveRecAppSyntax</code> field at <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Context</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkTermElabAttributeUnsafe"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L365-L366">source</a></div><div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkTermElabAttributeUnsafe">Lean.Elab.Term.mkTermElabAttributeUnsafe</a></span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkTermElabAttributeUnsafe">Lean.Elab.Term.mkTermElabAttributeUnsafe</a> <span class="fn">ref</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Elab/Util.html#Lean.Elab.mkElabAttribute">Lean.Elab.mkElabAttribute</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a> <span class="fn">`builtin_term_elab</span> <span class="fn">`term_elab</span> <span class="fn">`Lean.Parser.Term</span>
    <span class="fn">`Lean.Elab.Term.TermElab</span> <span class="fn">&quotterm&quot</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkTermElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L369-L369">source</a></div><div class="attributes">@[implemented_by Lean.Elab.Term.mkTermElabAttributeUnsafe]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkTermElabAttribute">Lean.Elab.Term.mkTermElabAttribute</a></span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Term.termElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L371-L371">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.termElabAttribute">Lean.Elab.Term.termElabAttribute</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Term.LVal"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L379-L383">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><ul class="constructors"><li class="constructor" id="Lean.Elab.Term.LVal.fieldIdx">fieldIdx: <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a></span></span></li><li class="constructor" id="Lean.Elab.Term.LVal.fieldName"><div class="inductive_ctor_doc"><p>Field <code>suffix?</code> is for producing better error messages because <code>x.y</code> may be a field access or a hierachical/composite name.
<code>ref</code> is the syntax object representing the field. <code>targetStx</code> is the target object being accessed.</p></div>fieldName: <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Init/Prelude.html#String">String</a> → <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span> → <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a></span></span></span></span></li></ul><p>Auxiliary datatatype for presenting a Lean lvalue modifier.
We represent a unelaborated lvalue as a <code>Syntax</code> (or <code>Expr</code>) and <code><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">LVal</a></code>.
Example: <code>a.foo.1</code> is represented as the <code>Syntax</code> <code>a</code> and the list
<code>[LVal.fieldName "foo", LVal.fieldIdx 1]</code>.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Term.LVal" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.LVal.getRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L385-L387">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.getRef">Lean.Elab.Term.LVal.getRef</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a> → <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.getRef">Lean.Elab.Term.LVal.getRef</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.fieldIdx">Lean.Elab.Term.LVal.fieldIdx</a> <span class="fn">ref</span> <span class="fn">i</span></span> =&gt <span class="fn">ref</span>
  | <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.fieldName">Lean.Elab.Term.LVal.fieldName</a> <span class="fn">ref</span> <span class="fn">name</span> <span class="fn">suffix?</span> <span class="fn">targetStx</span></span> =&gt <span class="fn">ref</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.LVal.isFieldName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L389-L391">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.isFieldName">Lean.Elab.Term.LVal.isFieldName</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.isFieldName">Lean.Elab.Term.LVal.isFieldName</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">x</span> with
  | <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal.fieldName">Lean.Elab.Term.LVal.fieldName</a> <span class="fn">ref</span> <span class="fn">name</span> <span class="fn">suffix?</span> <span class="fn">targetStx</span></span> =&gt <a href="../.././Init/Prelude.html#Bool.true">true</a>
  | <span class="fn">x</span> =&gt <span class="fn">false</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instToStringLVal"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L393-L396">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instToStringLVal">Lean.Elab.Term.instToStringLVal</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/ToString/Basic.html#ToString">ToString</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LVal">Lean.Elab.Term.LVal</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getDeclName?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L399-L399">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getDeclName?">Lean.Elab.Term.getDeclName?</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></div></div><p>Return the name of the declaration being elaborated if available.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getDeclName?">Lean.Elab.Term.getDeclName?</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">read</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.declName?</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getLetRecsToLift"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L401-L401">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getLetRecsToLift">Lean.Elab.Term.getLetRecsToLift</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.LetRecToLift">Lean.Elab.Term.LetRecToLift</a></span>)</span></div></div><p>Return the list of nested <code>let rec</code> declarations that need to be lifted.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getLetRecsToLift">Lean.Elab.Term.getLetRecsToLift</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.letRecsToLift</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getMVarDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L403-L403">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getMVarDecl">Lean.Elab.Term.getMVarDecl</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/MetavarContext.html#Lean.MetavarDecl">Lean.MetavarDecl</a></span></div></div><p>Return the declaration of the given metavariable</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getMVarDecl">Lean.Elab.Term.getMVarDecl</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.getMCtx</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/MetavarContext.html#Lean.MetavarContext.getDecl">Lean.MetavarContext.getDecl</a> <span class="fn">__do_lift</span> <span class="fn">mvarId</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withDeclName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L406-L407">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withDeclName">Lean.Elab.Term.withDeclName</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(name : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> with <code>declName? := name</code>. See `getDeclName?</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.setLevelNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L410-L411">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.setLevelNames">Lean.Elab.Term.setLevelNames</a></span><span class="decl_args">
<span class="fn">(levelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Update the universe level parameter names.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withLevelNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L414-L417">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withLevelNames">Lean.Elab.Term.withLevelNames</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(levelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> using <code>levelNames</code> as the universe level parameter names. See <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getLevelNames">getLevelNames</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withAuxDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L423-L426">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withAuxDecl">Lean.Elab.Term.withAuxDecl</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(shortDeclName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Declare an auxiliary local declaration <code>shortDeclName : type</code> for elaborating recursive declaration <code>declName</code>,
update the mapping <code>auxDeclToFullName</code>, and then execute <code>k</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withoutErrToSorryImp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L428-L429">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutErrToSorryImp">Lean.Elab.Term.withoutErrToSorryImp</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withoutErrToSorry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L435-L436">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutErrToSorry">Lean.Elab.Term.withoutErrToSorry</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#MonadFunctorT">MonadFunctorT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></div></div><p>Execute <code>x</code> without converting errors (i.e., exceptions) to <code>sorry</code> applications.
Recall that when <code>errToSorry = true</code>, the method <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTerm">elabTerm</a></code> catches exceptions and convert them into <code>sorry</code> applications.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Elab.Term.withoutErrToSorry</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#MonadFunctorT.monadMap">monadMap</a> <span class="fn">fun {<span class="fn">β</span>} =&gt <span class="fn">Lean.Elab.Term.withoutErrToSorryImp</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.throwErrorIfErrors"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L439-L441">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.throwErrorIfErrors">Lean.Elab.Term.throwErrorIfErrors</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>For testing <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">TermElabM</a></code> methods. The #eval command will sign the error.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.throwErrorIfErrors">Lean.Elab.Term.throwErrorIfErrors</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.MonadLog.hasErrors</span>
  <span class="fn">if <span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href="../.././Lean/Exception.html#Lean.throwError">Lean.throwError</a> (<span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quotError(s)&quot</span></span>)</span> else <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.traceAtCmdPos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L443-L444">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.traceAtCmdPos">Lean.Elab.Term.traceAtCmdPos</a></span><span class="decl_args">
<span class="fn">(cls : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(msg : <span class="fn"><a href="../.././Init/Prelude.html#Unit">Unit</a> → <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.traceAtCmdPos">Lean.Elab.Term.traceAtCmdPos</a> <span class="fn">cls</span> <span class="fn">msg</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Lean.withRef">Lean.withRef</a> <a href="../.././Init/Prelude.html#Lean.Syntax.missing">Lean.Syntax.missing</a> (<span class="fn"><a href="../.././Lean/Util/Trace.html#Lean.trace">Lean.trace</a> <span class="fn">cls</span> <span class="fn">msg</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.ppGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L446-L447">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ppGoal">Lean.Elab.Term.ppGoal</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Data/Format/Basic.html#Std.Format">Lean.Format</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ppGoal">Lean.Elab.Term.ppGoal</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> (<span class="fn"><a href="../.././Lean/Meta/PPGoal.html#Lean.Meta.ppGoal">Lean.Meta.ppGoal</a> <span class="fn">mvarId</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.liftLevelM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L451-L458">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.liftLevelM">Lean.Elab.Term.liftLevelM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Level.html#Lean.Elab.Level.LevelElabM">Lean.Elab.Level.LevelElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.elabLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L460-L461">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabLevel">Lean.Elab.Term.elabLevel</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabLevel">Lean.Elab.Term.elabLevel</a> <span class="fn">stx</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.liftLevelM">Lean.Elab.Term.liftLevelM</a> (<span class="fn"><a href="../.././Lean/Elab/Level.html#Lean.Elab.Level.elabLevel">Lean.Elab.Level.elabLevel</a> <span class="fn">stx</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withMacroExpansion"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L464-L466">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withMacroExpansion">Lean.Elab.Term.withMacroExpansion</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(beforeStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(afterStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Elaborate <code>x</code> with <code>stx</code> on the macro stack</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerSyntheticMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L471-L472">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerSyntheticMVar">Lean.Elab.Term.registerSyntheticMVar</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add the given metavariable to the list of pending synthetic metavariables.
The method <code>synthesizeSyntheticMVars</code> is used to process the metavariables on this list.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerSyntheticMVarWithCurrRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L474-L475">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerSyntheticMVarWithCurrRef">Lean.Elab.Term.registerSyntheticMVarWithCurrRef</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarKind">Lean.Elab.Term.SyntheticMVarKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerSyntheticMVarWithCurrRef">Lean.Elab.Term.registerSyntheticMVarWithCurrRef</a> <span class="fn">mvarId</span> <span class="fn">kind</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.getRef</span>
  <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerSyntheticMVar">Lean.Elab.Term.registerSyntheticMVar</a> <span class="fn">__do_lift</span> <span class="fn">mvarId</span> <span class="fn">kind</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerMVarErrorInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L477-L478">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerMVarErrorInfo">Lean.Elab.Term.registerMVarErrorInfo</a></span><span class="decl_args">
<span class="fn">(mvarErrorInfo : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerMVarErrorHoleInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L480-L481">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerMVarErrorHoleInfo">Lean.Elab.Term.registerMVarErrorHoleInfo</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerMVarErrorHoleInfo">Lean.Elab.Term.registerMVarErrorHoleInfo</a> <span class="fn">mvarId</span> <span class="fn">ref</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerMVarErrorInfo">Lean.Elab.Term.registerMVarErrorInfo</a>
    <span class="fn">{ <span class="fn">mvarId</span> := <span class="fn">mvarId</span>, <span class="fn">ref</span> := <span class="fn">ref</span>, <span class="fn">kind</span> := <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorKind.hole">Lean.Elab.Term.MVarErrorKind.hole</a>, <span class="fn">argName?</span> := <span class="fn">none</span> }</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerMVarErrorImplicitArgInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L483-L484">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerMVarErrorImplicitArgInfo">Lean.Elab.Term.registerMVarErrorImplicitArgInfo</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(app : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerMVarErrorCustomInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L486-L487">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerMVarErrorCustomInfo">Lean.Elab.Term.registerMVarErrorCustomInfo</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(msgData : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getMVarErrorInfo?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L489-L490">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getMVarErrorInfo?">Lean.Elab.Term.getMVarErrorInfo?</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getMVarErrorInfo?">Lean.Elab.Term.getMVarErrorInfo?</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Data/RBMap.html#Lean.RBMap.find?">Lean.RBMap.find?</a> <span class="fn"><span class="fn">__do_lift</span>.mvarErrorInfos</span> <span class="fn">mvarId</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.registerCustomErrorIfMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L492-L495">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.registerCustomErrorIfMVar">Lean.Elab.Term.registerCustomErrorIfMVar</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(msgData : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.throwMVarError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L502-L506">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.throwMVarError">Lean.Elab.Term.throwMVarError</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(m : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Auxiliary method for reporting errors of the form "... contains metavariables ...".
This kind of error is thrown, for example, at <code>Match.lean</code> where elaboration
cannot continue if there are metavariables in patterns.
We only want to log it if we haven't logged any error so far.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.throwMVarError">Lean.Elab.Term.throwMVarError</a> <span class="fn">m</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.MonadLog.hasErrors</span>
  <span class="fn">if <span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn">Lean.Elab.throwAbortTerm</span> else <span class="fn"><a href="../.././Lean/Exception.html#Lean.throwError">Lean.throwError</a> <span class="fn">m</span></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.MVarErrorInfo.logError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L508-L532">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo.logError">Lean.Elab.Term.MVarErrorInfo.logError</a></span><span class="decl_args">
<span class="fn">(mvarErrorInfo : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(extraMsg? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.MVarErrorInfo.logError.addArgName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L524-L527">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo.logError.addArgName">Lean.Elab.Term.MVarErrorInfo.logError.addArgName</a></span><span class="decl_args">
<span class="fn">(mvarErrorInfo : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo">Lean.Elab.Term.MVarErrorInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(msg : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args">
<span class="fn">(extra : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#String">String</a> <span class="fn">&quot&quot</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></div></div><p>Append <code>mvarErrorInfo</code> argument name (if available) to the message.
Remark: if the argument name contains macro scopes we do not append it.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.MVarErrorInfo.logError.appendExtra"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L529-L532">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo.logError.appendExtra">Lean.Elab.Term.MVarErrorInfo.logError.appendExtra</a></span><span class="decl_args">
<span class="fn">(extraMsg? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(msg : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.MVarErrorInfo.logError.appendExtra">Lean.Elab.Term.MVarErrorInfo.logError.appendExtra</a> <span class="fn">extraMsg?</span> <span class="fn">msg</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">extraMsg?</span> with
  | <span class="fn">none</span> =&gt <span class="fn">msg</span>
  | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">extraMsg</span></span> =&gt <span class="fn"><span class="fn">msg</span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">extraMsg</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.logUnassignedUsingErrorInfos"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L541-L565">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.logUnassignedUsingErrorInfos">Lean.Elab.Term.logUnassignedUsingErrorInfos</a></span><span class="decl_args">
<span class="fn">(pendingMVarIds : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(extraMsg? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Try to log errors for the unassigned metavariables <code>pendingMVarIds</code>.</p><p>Return <code>true</code> if there were "unfilled holes", and we should "abort" declaration.
TODO: try to fill "all" holes using synthetic "sorry's"</p><p>Remark: We only log the "unfilled holes" as new errors if no error has been logged so far.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.ensureNoUnassignedMVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L568-L571">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ensureNoUnassignedMVars">Lean.Elab.Term.ensureNoUnassignedMVars</a></span><span class="decl_args">
<span class="fn">(decl : <a href="../.././Lean/Declaration.html#Lean.Declaration">Lean.Declaration</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Ensure metavariables registered using <code>registerMVarErrorInfos</code> (and used in the given declaration) have been assigned.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withoutPostponing"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L576-L577">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutPostponing">Lean.Elab.Term.withoutPostponing</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> without allowing it to postpone elaboration tasks.
That is, <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostpone">tryPostpone</a></code> is a noop.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkExplicitBinder"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L580-L581">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkExplicitBinder">Lean.Elab.Term.mkExplicitBinder</a></span><span class="decl_args">
<span class="fn">(ident : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></div><p>Creates syntax for <code>(</code> <!-- raw HTML omitted --> <code>:</code> <!-- raw HTML omitted --> <code>)</code></p>
<details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.levelMVarToParam"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L586-L591">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.levelMVarToParam">Lean.Elab.Term.levelMVarToParam</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(except : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>) <span class="fn">fun <span class="fn">x</span> =&gt <a href="../.././Init/Prelude.html#Bool.false">false</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Convert unassigned universe level metavariables into parameters.
The new parameter names are fresh names of the form <code>u_i</code> with regard to <code>ctx.levelNames</code>, which is updated with the new names.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkFreshBinderName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L596-L597">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkFreshBinderName">Lean.Elab.Term.mkFreshBinderName</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation">Lean.MonadQuotation</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><p>Auxiliary method for creating fresh binder names.
Do not confuse with the method for creating fresh free/meta variable ids.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">Lean.Elab.Term.mkFreshBinderName</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation.withFreshMacroScope">Lean.withFreshMacroScope</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation.addMacroScope">Lean.MonadQuotation.addMacroScope</a> <span class="fn">`x</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkFreshIdent"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L603-L604">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkFreshIdent">Lean.Elab.Term.mkFreshIdent</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation">Lean.MonadQuotation</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(canonical : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Meta.html#Lean.Syntax.Ident">Lean.Ident</a></span></div></div><p>Auxiliary method for creating a <code>Syntax.ident</code> containing
a fresh name. This method is intended for creating fresh binder names.
It is just a thin layer on top of <code>mkFreshUserName</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkFreshIdent">Lean.Elab.Term.mkFreshIdent</a> <span class="fn">ref</span> <span class="fn">canonical</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">Lean.Elab.Term.mkFreshBinderName</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Init/Meta.html#Lean.mkIdentFrom">Lean.mkIdentFrom</a> <span class="fn">ref</span> <span class="fn">__do_lift</span> <span class="fn">canonical</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.applyAttributesAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L622-L623">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyAttributesAt">Lean.Elab.Term.applyAttributesAt</a></span><span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(attrs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Elab/Attributes.html#Lean.Elab.Attribute">Lean.Elab.Attribute</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(applicationTime : <a href="../.././Lean/Attributes.html#Lean.AttributeApplicationTime">Lean.AttributeApplicationTime</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Apply given attributes <strong>at</strong> a given application time</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyAttributesAt">Lean.Elab.Term.applyAttributesAt</a> <span class="fn">declName</span> <span class="fn">attrs</span> <span class="fn">applicationTime</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Term.applyAttributesCore">Lean.Elab.Term.applyAttributesCore</a> <span class="fn">declName</span> <span class="fn">attrs</span> (<span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">applicationTime</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.applyAttributes"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L625-L626">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyAttributes">Lean.Elab.Term.applyAttributes</a></span><span class="decl_args">
<span class="fn">(declName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(attrs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Elab/Attributes.html#Lean.Elab.Attribute">Lean.Elab.Attribute</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.applyAttributes">Lean.Elab.Term.applyAttributes</a> <span class="fn">declName</span> <span class="fn">attrs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Term.applyAttributesCore">Lean.Elab.Term.applyAttributesCore</a> <span class="fn">declName</span> <span class="fn">attrs</span> <span class="fn">none</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkTypeMismatchError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L628-L632">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkTypeMismatchError">Lean.Elab.Term.mkTypeMismatchError</a></span><span class="decl_args">
<span class="fn">(header? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(eType : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.throwTypeMismatchError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L634-L653">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.throwTypeMismatchError">Lean.Elab.Term.throwTypeMismatchError</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(header? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(eType : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(f? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(extraMsg? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withoutMacroStackAtErr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L655-L656">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutMacroStackAtErr">Lean.Elab.Term.withoutMacroStackAtErr</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.ContainsPendingMVar.M"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L660-L660">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ContainsPendingMVar.M">Lean.Elab.Term.ContainsPendingMVar.M</a></span><span class="decl_args">
<span class="fn">(α : <span class="fn">Type</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">Type</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ContainsPendingMVar.M">Lean.Elab.Term.ContainsPendingMVar.M</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Util/MonadCache.html#Lean.MonadCacheT">Lean.MonadCacheT</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Unit">Unit</a> (<span class="fn"><a href="../.././Init/Control/Option.html#OptionT">OptionT</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.ContainsPendingMVar.visit"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L663-L684">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ContainsPendingMVar.visit">Lean.Elab.Term.ContainsPendingMVar.visit</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ContainsPendingMVar.M">Lean.Elab.Term.ContainsPendingMVar.M</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>See <code>containsPostponedTerm</code></p></div></div><div class="decl" id="Lean.Elab.Term.containsPendingMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L689-L692">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.containsPendingMVar">Lean.Elab.Term.containsPendingMVar</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> if <code>e</code> contains a pending metavariable. Remark: it also visits let-declarations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.synthesizeInstMVarCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L702-L746">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.synthesizeInstMVarCore">Lean.Elab.Term.synthesizeInstMVarCore</a></span><span class="decl_args">
<span class="fn">(instMVar : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(maxResultSize? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Try to synthesize metavariable using type class resolution.
This method assumes the local context and local instances of <code>instMVar</code> coincide
with the current local context and local instances.
Return <code>true</code> if the instance was synthesized successfully, and <code>false</code> if
the instance contains unassigned metavariables that are blocking the type class
resolution procedure. Throw an exception if resolution or assignment irrevocably fails.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkCoe"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L748-L761">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkCoe">Lean.Elab.Term.mkCoe</a></span><span class="decl_args">
<span class="fn">(expectedType : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(f? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(errorMsgHeader? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.ensureHasType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L768-L774">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ensureHasType">Lean.Elab.Term.ensureHasType</a></span><span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(errorMsgHeader? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(f? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>If <code>expectedType?</code> is <code>some t</code>, then ensure <code>t</code> and <code>eType</code> are definitionally equal.
If they are not, then try coercions.</p><p>Argument <code>f?</code> is used only for generating error messages.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.exceptionToSorry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L790-L793">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.exceptionToSorry">Lean.Elab.Term.exceptionToSorry</a></span><span class="decl_args">
<span class="fn">(ex : <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Log the given exception, and create an synthetic sorry for representing the failed
elaboration step with exception <code>ex</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.exceptionToSorry">Lean.Elab.Term.exceptionToSorry</a> <span class="fn">ex</span> <span class="fn">expectedType?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let syntheticSorry ← <span class="fn"><a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Term.mkSyntheticSorryFor">Lean.Elab.Term.mkSyntheticSorryFor</a> <span class="fn">expectedType?</span></span>
  <span class="fn"><a href="../.././Lean/Elab/Util.html#Lean.Elab.logException">Lean.Elab.logException</a> <span class="fn">ex</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">syntheticSorry</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.tryPostpone"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L796-L798">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostpone">Lean.Elab.Term.tryPostpone</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If <code>mayPostpone == true</code>, throw <code>Expection.postpone</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostpone">Lean.Elab.Term.tryPostpone</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">read</span>
  <span class="fn">if <span class="fn"><span class="fn"><span class="fn">__do_lift</span>.mayPostpone</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn">Lean.Elab.throwPostpone</span> else <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.isMVarApp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L801-L802">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isMVarApp">Lean.Elab.Term.isMVarApp</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return <code>true</code> if <code>e</code> reduces (by unfolding only <code>[reducible]</code> declarations) to <code>?m ...</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isMVarApp">Lean.Elab.Term.isMVarApp</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnfR">Lean.Meta.whnfR</a> <span class="fn">e</span></span>)</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.isMVar">Lean.Expr.isMVar</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.getAppFn">Lean.Expr.getAppFn</a> <span class="fn">__do_lift</span></span>)</span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.tryPostponeIfMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L805-L807">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfMVar">Lean.Elab.Term.tryPostponeIfMVar</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If <code>mayPostpone == true</code> and <code>e</code>'s head is a metavariable, throw <code>Exception.postpone</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfMVar">Lean.Elab.Term.tryPostponeIfMVar</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isMVarApp">Lean.Elab.Term.isMVarApp</a> <span class="fn">e</span></span>
  <span class="fn">if <span class="fn"><span class="fn">__do_lift</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostpone">Lean.Elab.Term.tryPostpone</a> else <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.tryPostponeIfNoneOrMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L810-L813">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfNoneOrMVar">Lean.Elab.Term.tryPostponeIfNoneOrMVar</a></span><span class="decl_args">
<span class="fn">(e? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>If <code>e? = some e</code>, then <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfMVar">tryPostponeIfMVar</a> e</code>, otherwise it is just <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostpone">tryPostpone</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfNoneOrMVar">Lean.Elab.Term.tryPostponeIfNoneOrMVar</a> <span class="fn">e?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">e?</span> with
  | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">e</span></span> =&gt <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfMVar">Lean.Elab.Term.tryPostponeIfMVar</a> <span class="fn">e</span></span>
  | <span class="fn">none</span> =&gt <span class="fn">Lean.Elab.Term.tryPostpone</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.tryPostponeIfHasMVars?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L819-L826">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfHasMVars?">Lean.Elab.Term.tryPostponeIfHasMVars?</a></span><span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Throws <code>Exception.postpone</code>, if <code>expectedType?</code> contains unassigned metavariables.
It is a noop if <code>mayPostpone == false</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.tryPostponeIfHasMVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L832-L835">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.tryPostponeIfHasMVars">Lean.Elab.Term.tryPostponeIfHasMVars</a></span><span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(msg : <a href="../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Throws <code>Exception.postpone</code>, if <code>expectedType?</code> contains unassigned metavariables.
If <code>mayPostpone == false</code>, it throws error <code>msg</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.saveContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L840-L848">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.saveContext">Lean.Elab.Term.saveContext</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedContext">Lean.Elab.Term.SavedContext</a></span></div></div><p>Save relevant context for term elaboration postponement.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withSavedContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L853-L856">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withSavedContext">Lean.Elab.Term.withSavedContext</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(savedCtx : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedContext">Lean.Elab.Term.SavedContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> with the context saved using <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.saveContext">saveContext</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.getSyntheticMVarDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L869-L870">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getSyntheticMVarDecl?">Lean.Elab.Term.getSyntheticMVarDecl?</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SyntheticMVarDecl">Lean.Elab.Term.SyntheticMVarDecl</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.getSyntheticMVarDecl?">Lean.Elab.Term.getSyntheticMVarDecl?</a> <span class="fn">mvarId</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let __do_lift ← <span class="fn">get</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> (<span class="fn"><a href="../.././Lean/Data/RBMap.html#Lean.RBMap.find?">Lean.RBMap.find?</a> <span class="fn"><span class="fn">__do_lift</span>.syntheticMVars</span> <span class="fn">mvarId</span></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkSaveInfoAnnotation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L889-L893">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkSaveInfoAnnotation">Lean.Elab.Term.mkSaveInfoAnnotation</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><p>Create an auxiliary annotation to make sure we create a <code>Info</code> even if <code>e</code> is a metavariable.
See <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkTermInfo">mkTermInfo</a></code>.</p><p>We use this functions because some elaboration functions elaborate subterms that may not be immediately
part of the resulting term. Example:</p><pre><code>let_mvar% ?m := b; wait_if_type_mvar% ?m; body
</code></pre><p>If the type of <code>b</code> is not known, then <code>wait_if_type_mvar% ?m; body</code> is postponed and just return a fresh
metavariable <code>?n</code>. The elaborator for</p><pre><code>let_mvar% ?m := b; wait_if_type_mvar% ?m; body
</code></pre><p>returns <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkSaveInfoAnnotation">mkSaveInfoAnnotation</a> ?n</code> to make sure the info nodes created when elaborating <code>b</code> are "saved".
This is a bit hackish, but elaborators like <code>let_mvar%</code> are rare.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkSaveInfoAnnotation">Lean.Elab.Term.mkSaveInfoAnnotation</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">if <span class="fn"><span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr.isMVar">Lean.Expr.isMVar</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn"><a href="../.././Lean/Expr.html#Lean.mkAnnotation">Lean.mkAnnotation</a> <span class="fn">`save_info</span> <span class="fn">e</span></span> else <span class="fn">e</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.isSaveInfoAnnotation?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L895-L896">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isSaveInfoAnnotation?">Lean.Elab.Term.isSaveInfoAnnotation?</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isSaveInfoAnnotation?">Lean.Elab.Term.isSaveInfoAnnotation?</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Expr.html#Lean.annotation?">Lean.annotation?</a> <span class="fn">`save_info</span> <span class="fn">e</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.removeSaveInfoAnnotation"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L898-L901">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.removeSaveInfoAnnotation">Lean.Elab.Term.removeSaveInfoAnnotation</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div></div></div><div class="decl" id="Lean.Elab.Term.isTacticOrPostponedHole?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L908-L915">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isTacticOrPostponedHole?">Lean.Elab.Term.isTacticOrPostponedHole?</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></div></div><p>Return <code>some mvarId</code> if <code>e</code> corresponds to a hole that is going to be filled "later" by executing a tactic or resuming elaboration.</p><p>We do not save <code>ofTermInfo</code> for this kind of node in the <code>InfoTree</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkTermInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L917-L922">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkTermInfo">Lean.Elab.Term.mkTermInfo</a></span><span class="decl_args">
<span class="fn">(elaborator : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(lctx? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(isBinder : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> <a href="../.././Init/Core.html#Sum">⊕</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.addTermInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L939-L946">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addTermInfo">Lean.Elab.Term.addTermInfo</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(lctx? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(elaborator : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(isBinder : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(force : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Pushes a new leaf node to the info tree associating the expression <code>e</code> to the syntax <code>stx</code>.
As a result, when the user hovers over <code>stx</code> they will see the type of <code>e</code>, and if <code>e</code>
is a constant they will see the constant's doc string.</p><ul>
<li><code>expectedType?</code>: the expected type of <code>e</code> at the point of elaboration, if available</li>
<li><code>lctx?</code>: the local context in which to interpret <code>e</code> (otherwise it will use <code>← getLCtx</code>)</li>
<li><code>elaborator</code>: a declaration name used as an alternative target for go-to-definition</li>
<li><code>isBinder</code>: if true, this will be treated as defining <code>e</code> (which should be a local constant)
for the purpose of go-to-definition on local variables</li>
<li><code>force</code>: In patterns, the effect of <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addTermInfo">addTermInfo</a></code> is usually suppressed and replaced
by a <code>patternWithRef?</code> annotation which will be turned into a term info on the
post-match-elaboration expression. This flag overrides that behavior and adds the term
info immediately. (See https://github.com/leanprover/lean4/pull/1664.)</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.addTermInfo'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L948-L949">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addTermInfo'">Lean.Elab.Term.addTermInfo'</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(lctx? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(elaborator : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Lean.Name.anonymous">Lean.Name.anonymous</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(isBinder : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addTermInfo'">Lean.Elab.Term.addTermInfo'</a> <span class="fn">stx</span> <span class="fn">e</span> <span class="fn">expectedType?</span> <span class="fn">lctx?</span> <span class="fn">elaborator</span> <span class="fn">isBinder</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> (<span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addTermInfo">Lean.Elab.Term.addTermInfo</a> <span class="fn">stx</span> <span class="fn">e</span> <span class="fn">expectedType?</span> <span class="fn">lctx?</span> <span class="fn">elaborator</span> <span class="fn">isBinder</span> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withInfoContext'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L951-L956">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withInfoContext'">Lean.Elab.Term.withInfoContext'</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(mkInfo : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Lean.Elab.Info</a> <a href="../.././Init/Core.html#Sum">⊕</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.postponeElabTerm"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L963-L965">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.postponeElabTerm">Lean.Elab.Term.postponeElabTerm</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Postpone the elaboration of <code>stx</code>, return a metavariable that acts as a placeholder, and
ensures the info tree is updated and a hole id is introduced.
When <code>stx</code> is elaborated, new info nodes are created and attached to the new hole id in the info tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instMonadMacroAdapterTermElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1025-L1028">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instMonadMacroAdapterTermElabM">Lean.Elab.Term.instMonadMacroAdapterTermElabM</a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Util.html#Lean.Elab.MonadMacroAdapter">Lean.Elab.MonadMacroAdapter</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.hasNoImplicitLambdaAnnotation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1073-L1074">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.hasNoImplicitLambdaAnnotation">Lean.Elab.Term.hasNoImplicitLambdaAnnotation</a></span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.hasNoImplicitLambdaAnnotation">Lean.Elab.Term.hasNoImplicitLambdaAnnotation</a> <span class="fn">type</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Option/Basic.html#Option.isSome">Option.isSome</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.annotation?">Lean.annotation?</a> <span class="fn">`noImplicitLambda</span> <span class="fn">type</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkNoImplicitLambdaAnnotation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1076-L1080">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkNoImplicitLambdaAnnotation">Lean.Elab.Term.mkNoImplicitLambdaAnnotation</a></span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkNoImplicitLambdaAnnotation">Lean.Elab.Term.mkNoImplicitLambdaAnnotation</a> <span class="fn">type</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">if <span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.hasNoImplicitLambdaAnnotation">Lean.Elab.Term.hasNoImplicitLambdaAnnotation</a> <span class="fn">type</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span> then <span class="fn">type</span> else <span class="fn"><a href="../.././Lean/Expr.html#Lean.mkAnnotation">Lean.mkAnnotation</a> <span class="fn">`noImplicitLambda</span> <span class="fn">type</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.blockImplicitLambda"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1083-L1087">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.blockImplicitLambda">Lean.Elab.Term.blockImplicitLambda</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Block usage of implicit lambdas if <code>stx</code> is <code>@f</code> or <code>@f arg1 ...</code> or <code>fun</code> with an implicit binder annotation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.addDotCompletionInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1177-L1178">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addDotCompletionInfo">Lean.Elab.Term.addDotCompletionInfo</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(field? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Store in the <code>InfoTree</code> that <code>e</code> is a "dot"-completion target.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.elabTerm"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1197-L1198">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTerm">Lean.Elab.Term.elabTerm</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(catchExPostpone : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(implicitLambda : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Main function for elaborating terms.
It extracts the elaboration methods from the environment using the node kind.
Recall that the environment has a mapping from <code>SyntaxNodeKind</code> to <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">TermElab</a></code> methods.
It creates a fresh macro scope for executing the elaboration method.
All unlogged trace messages produced by the elaboration method are logged using
the position information at <code>stx</code>. If the elaboration method throws an <code>Exception.error</code> and <code>errToSorry == true</code>,
the error is logged and a synthetic sorry expression is returned.
If the elaboration throws <code>Exception.postpone</code> and <code>catchExPostpone == true</code>,
a new synthetic metavariable of kind <code>SyntheticMVarKind.postponed</code> is created, registered,
and returned.
The option <code>catchExPostpone == false</code> is used to implement <code>resumeElabTerm</code>
to prevent the creation of another synthetic metavariable when resuming the elaboration.</p><p>If <code>implicitLambda == true</code>, then disable implicit lambdas feature for the given syntax, but not for its subterms.
We use this flag to implement, for example, the <code>@</code> modifier. If <code>Context.implicitLambda == false</code>, then this parameter has no effect.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTerm">Lean.Elab.Term.elabTerm</a> <span class="fn">stx</span> <span class="fn">expectedType?</span> <span class="fn">catchExPostpone</span> <span class="fn">implicitLambda</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#Lean.withRef">Lean.withRef</a> <span class="fn">stx</span> (<span class="fn"><a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Term.elabTermAux">Lean.Elab.Term.elabTermAux</a> <span class="fn">expectedType?</span> <span class="fn">catchExPostpone</span> <span class="fn">implicitLambda</span> <span class="fn">stx</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.elabTermEnsuringType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1200-L1202">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTermEnsuringType">Lean.Elab.Term.elabTermEnsuringType</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(catchExPostpone : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(implicitLambda : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(errorMsgHeader? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Init/Prelude.html#String">String</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.commitIfNoErrors?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1205-L1218">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.commitIfNoErrors?">Lean.Elab.Term.commitIfNoErrors?</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">α</span></span>)</span></div></div><p>Execute <code>x</code> and return <code>some</code> if no new errors were recorded or exceptions was thrown. Otherwise, return <code>none</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.adaptExpander"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1221-L1223">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.adaptExpander">Lean.Elab.Term.adaptExpander</a></span><span class="decl_args">
<span class="fn">(exp : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElab">Lean.Elab.Term.TermElab</a></div></div><p>Adapt a syntax transformation to a regular, term-producing elaborator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.adaptExpander">Lean.Elab.Term.adaptExpander</a> <span class="fn">exp</span> <span class="fn">stx</span> <span class="fn">expectedType?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let stx' ← <span class="fn"><span class="fn">exp</span> <span class="fn">stx</span></span>
  <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withMacroExpansion">Lean.Elab.Term.withMacroExpansion</a> <span class="fn">stx</span> <span class="fn">stx'</span> (<span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabTerm">Lean.Elab.Term.elabTerm</a> <span class="fn">stx'</span> <span class="fn">expectedType?</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkInstMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1230-L1235">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkInstMVar">Lean.Elab.Term.mkInstMVar</a></span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Create a new metavariable with the given type, and try to synthesize it.
It type class resolution cannot be executed (e.g., it is stuck because of metavariables in <code>type</code>),
register metavariable as a pending one.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.ensureType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1240-L1253">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.ensureType">Lean.Elab.Term.ensureType</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Make sure <code>e</code> is a type by inferring its type and making sure it is a <code>Expr.sort</code>
or is unifiable with <code>Expr.sort</code>, or can be coerced into one.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.elabType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1256-L1259">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.elabType">Lean.Elab.Term.elabType</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Elaborate <code>stx</code> and ensure result is a type.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withAutoBoundImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1264-L1282">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withAutoBoundImplicit">Lean.Elab.Term.withAutoBoundImplicit</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Enable auto-bound implicits, and execute <code>k</code> while catching auto bound implicit exceptions. When an exception is caught,
a new local declaration is created, registered, and <code>k</code> is tried to be executed again.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withAutoBoundImplicit.loop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1268-L1279">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withAutoBoundImplicit.loop">Lean.Elab.Term.withAutoBoundImplicit.loop</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.SavedState">Lean.Elab.Term.SavedState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div></div></div><div class="decl" id="Lean.Elab.Term.withoutAutoBoundImplicit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1284-L1285">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withoutAutoBoundImplicit">Lean.Elab.Term.withoutAutoBoundImplicit</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(k : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.withAutoBoundImplicitForbiddenPred"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1287-L1288">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.withAutoBoundImplicitForbiddenPred">Lean.Elab.Term.withAutoBoundImplicitForbiddenPred</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(p : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.collectUnassignedMVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1293-L1316">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.collectUnassignedMVars">Lean.Elab.Term.collectUnassignedMVars</a></span><span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(init : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">#[]</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(except : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>) <span class="fn">fun <span class="fn">x</span> =&gt <a href="../.././Init/Prelude.html#Bool.false">false</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Collect unassigned metavariables in <code>type</code> that are not already in <code>init</code> and not satisfying <code>except</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.collectUnassignedMVars.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1301-L1316">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.collectUnassignedMVars.go">Lean.Elab.Term.collectUnassignedMVars.go</a></span><span class="decl_args">
<span class="fn">(except : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>) <span class="fn">fun <span class="fn">x</span> =&gt <a href="../.././Init/Prelude.html#Bool.false">false</a></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(mvarIds : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(result : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Term.addAutoBoundImplicits"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1327-L1343">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addAutoBoundImplicits">Lean.Elab.Term.addAutoBoundImplicits</a></span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Return <code>autoBoundImplicits ++ xs</code>
This methoid throws an error if a variable in <code>autoBoundImplicits</code> depends on some <code>x</code> in <code>xs</code>.
The <code>autoBoundImplicits</code> may contain free variables created by the auto-implicit feature, and unassigned free variables.
It avoids the hack used at <code>autoBoundImplicitsOld</code>.</p><p>Remark: we cannot simply replace every occurrence of <code>addAutoBoundImplicitsOld</code> with this one because a particular
use-case may not be able to handle the metavariables in the array being given to <code>k</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.addAutoBoundImplicits.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1331-L1343">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addAutoBoundImplicits.go">Lean.Elab.Term.addAutoBoundImplicits.go</a></span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(todo : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(autos : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.addAutoBoundImplicits'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1351-L1356">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.addAutoBoundImplicits'">Lean.Elab.Term.addAutoBoundImplicits'</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(xs : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(type : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(k : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Similar to <code>autoBoundImplicits</code>, but immediately if the resulting array of expressions contains metavariables,
it immediately use <code>mkForallFVars</code> + <code>forallBoundedTelescope</code> to convert them into free variables.
The type <code>type</code> is modified during the process if type depends on <code>xs</code>.
We use this method to simplify the conversion of code using <code>autoBoundImplicitsOld</code> to <code>autoBoundImplicits</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkAuxName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1358-L1361">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkAuxName">Lean.Elab.Term.mkAuxName</a></span><span class="decl_args">
<span class="fn">(suffix : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.isLetRecAuxMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1367-L1371">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isLetRecAuxMVar">Lean.Elab.Term.isLetRecAuxMVar</a></span><span class="decl_args">
<span class="fn">(mvarId : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Return true if mvarId is an auxiliary metavariable created for compiling <code>let rec</code> or it
is delayed assigned to one.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveLocalName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1373-L1501">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveLocalName">Lean.Elab.Term.resolveLocalName</a></span><span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#String">String</a></span></span>)</span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveLocalName.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1457-L1462">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveLocalName.go">Lean.Elab.Term.resolveLocalName.go</a></span><span class="decl_args">
<span class="fn">(localDecl : <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>)</span></span>
<span class="decl_args">
<span class="fn">(givenNameView : <a href="../.././Init/Prelude.html#Lean.MacroScopesView">Lean.MacroScopesView</a>)</span></span>
<span class="decl_args">
<span class="fn">(fullDeclName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(ns : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveLocalName.loop"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1486-L1500">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveLocalName.loop">Lean.Elab.Term.resolveLocalName.loop</a></span><span class="decl_args">
<span class="fn">(view : <a href="../.././Init/Prelude.html#Lean.MacroScopesView">Lean.MacroScopesView</a>)</span></span>
<span class="decl_args">
<span class="fn">(findLocalDecl? : <span class="fn"><a href="../.././Init/Prelude.html#Lean.MacroScopesView">Lean.MacroScopesView</a> → <span class="fn"><a href="../.././Init/Prelude.html#Bool">Bool</a> → <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(projs : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#String">String</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#String">String</a></span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.isLocalIdent?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1504-L1511">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.isLocalIdent?">Lean.Elab.Term.isLocalIdent?</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><p>Return true iff <code>stx</code> is a <code>Syntax.ident</code>, and it is a local variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.mkConst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1517-L1524">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkConst">Lean.Elab.Term.mkConst</a></span><span class="decl_args">
<span class="fn">(constName : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(explicitLevels : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>) <span class="fn">[]</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Create an <code>Expr.const</code> using the given name and explicit levels.
Remark: fresh universe metavariables are created if the constant has more universe
parameters than <code>explicitLevels</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1533-L1559">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveName">Lean.Elab.Term.resolveName</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(preresolved : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Syntax.Preresolved">Lean.Syntax.Preresolved</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(explicitLevels : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#String">String</a></span></span>)</span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveName.process"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1551-L1559">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveName.process">Lean.Elab.Term.resolveName.process</a></span><span class="decl_args">
<span class="fn">(n : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(explicitLevels : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(candidates : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#String">String</a></span></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#String">String</a></span></span>)</span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveName'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1565-L1572">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveName'">Lean.Elab.Term.resolveName'</a></span><span class="decl_args">
<span class="fn">(ident : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(explicitLevels : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(expectedType? : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>) <span class="fn">none</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> (<span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span></span>)</span>)</span></div></div><p>Similar to <code><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveName">resolveName</a></code>, but creates identifiers for the main part and each projection with position information derived from <code>ident</code>.
Example: Assume resolveName <code>v.head.bla.boo</code> produces <code>(v.head, ["bla", "boo"])</code>, then this method produces
<code>(v.head, id, [f₁, f₂])</code> where <code><a href="../.././Init/Prelude.html#id">id</a></code> is an identifier for <code>v.head</code>, and <code>f₁</code> and <code>f₂</code> are identifiers for fields <code>"bla"</code> and <code>"boo"</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.resolveId?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1574-L1586">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.resolveId?">Lean.Elab.Term.resolveId?</a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(kind : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#String">String</a> <span class="fn">&quotterm&quot</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(withInfo : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Init/Prelude.html#Bool">Bool</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.TermElabM.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1589-L1590">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM.run">Lean.Elab.Term.TermElabM.run</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Lean.Elab.Term.Context</a>
  <span class="fn">{ <span class="fn">declName?</span> := <span class="fn">none</span>, <span class="fn">auxDeclToFullName</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">macroStack</span> := <span class="fn">[]</span>, <span class="fn">mayPostpone</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">errToSorry</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
    <span class="fn">autoBoundImplicit</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
    <span class="fn">autoBoundImplicits</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span>,
    <span class="fn">autoBoundImplicitForbidden</span> := <span class="fn">fun <span class="fn">x</span> =&gt <a href="../.././Init/Prelude.html#Bool.false">false</a></span>, <span class="fn">sectionVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">sectionFVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">implicitLambda</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
    <span class="fn">isNoncomputableSection</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">ignoreTCFailures</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">inPattern</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">tacticCache?</span> := <span class="fn">none</span>,
    <span class="fn">saveRecAppSyntax</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">holesAsSyntheticOpaque</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a>
  <span class="fn">{ <span class="fn">levelNames</span> := <span class="fn">[]</span>, <span class="fn">syntheticMVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">pendingMVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">mvarErrorInfos</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">letRecsToLift</span> := <span class="fn">[]</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<span class="fn"><span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM.run">Lean.Elab.Term.TermElabM.run</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withConfig">Lean.Meta.withConfig</a> <a href="../.././Lean/Elab/Config.html#Lean.Elab.Term.setElabConfig">Lean.Elab.Term.setElabConfig</a> (<span class="fn"><a href="../.././Init/Control/StateRef.html#StateRefT'.run">StateRefT'.run</a> (<span class="fn"><span class="fn">x</span> <span class="fn">ctx</span></span>) <span class="fn">s</span></span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.TermElabM.run'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1592-L1593">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM.run'">Lean.Elab.Term.TermElabM.run'</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Lean.Elab.Term.Context</a>
  <span class="fn">{ <span class="fn">declName?</span> := <span class="fn">none</span>, <span class="fn">auxDeclToFullName</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">macroStack</span> := <span class="fn">[]</span>, <span class="fn">mayPostpone</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">errToSorry</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
    <span class="fn">autoBoundImplicit</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>,
    <span class="fn">autoBoundImplicits</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span>,
    <span class="fn">autoBoundImplicitForbidden</span> := <span class="fn">fun <span class="fn">x</span> =&gt <a href="../.././Init/Prelude.html#Bool.false">false</a></span>, <span class="fn">sectionVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">sectionFVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">implicitLambda</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>,
    <span class="fn">isNoncomputableSection</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">ignoreTCFailures</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">inPattern</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a>, <span class="fn">tacticCache?</span> := <span class="fn">none</span>,
    <span class="fn">saveRecAppSyntax</span> := <a href="../.././Init/Prelude.html#Bool.true">true</a>, <span class="fn">holesAsSyntheticOpaque</span> := <a href="../.././Init/Prelude.html#Bool.false">false</a> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(s : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a>
  <span class="fn">{ <span class="fn">levelNames</span> := <span class="fn">[]</span>, <span class="fn">syntheticMVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">pendingMVars</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">mvarErrorInfos</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>, <span class="fn">letRecsToLift</span> := <span class="fn">[]</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM.run'">Lean.Elab.Term.TermElabM.run'</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn">fun <span class="fn">x</span> =&gt <span class="fn"><span class="fn">x</span>.fst</span></span>) <a href="../.././Init/Prelude.html#Functor.map">&lt$&gt</a> <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM.run">Lean.Elab.Term.TermElabM.run</a> <span class="fn">x</span> <span class="fn">ctx</span> <span class="fn">s</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.TermElabM.toIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1595-L1600">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM.toIO">Lean.Elab.Term.TermElabM.toIO</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(ctxCore : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Lean.Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(sCore : <a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a>)</span></span>
<span class="decl_args">
<span class="fn">(ctxMeta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Context">Lean.Meta.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(sMeta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a>)</span></span>
<span class="decl_args">
<span class="fn">(ctx : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.Context">Lean.Elab.Term.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(s : <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.State">Lean.Core.State</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.State">Lean.Meta.State</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.State">Lean.Elab.Term.State</a></span></span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.instMetaEvalTermElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1602-L1607">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.instMetaEvalTermElabM">Lean.Elab.Term.instMetaEvalTermElabM</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Lean/Eval.html#Lean.MetaEval">Lean.MetaEval</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Eval.html#Lean.MetaEval">Lean.MetaEval</a> (<span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.universeConstraintsCheckpoint"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1613-L1616">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.universeConstraintsCheckpoint">Lean.Elab.Term.universeConstraintsCheckpoint</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> and then tries to solve pending universe constraints.
Note that, stuck constraints will not be discarded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.universeConstraintsCheckpoint">Lean.Elab.Term.universeConstraintsCheckpoint</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let a ← <span class="fn">x</span>
  <span class="fn"><a href="../.././Init/Control/Basic.html#Functor.discard">discard</a> (<span class="fn"><a href="../.././Init/Prelude.html#liftM">liftM</a> (<span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.processPostponed">Lean.Meta.processPostponed</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span>)</span>)</span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></span></span></li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.expandDeclId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1618-L1622">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.expandDeclId">Lean.Elab.Term.expandDeclId</a></span><span class="decl_args">
<span class="fn">(currNamespace : <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(currLevelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lean.Name</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(declId : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(modifiers : <a href="../.././Lean/Elab/DeclModifiers.html#Lean.Elab.Modifiers">Lean.Elab.Modifiers</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Lean/Elab/DeclModifiers.html#Lean.Elab.ExpandDeclIdResult">Lean.Elab.ExpandDeclIdResult</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Term.exprToSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1633-L1638">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.Term.exprToSyntax">Lean.Elab.Term.exprToSyntax</a></span><span class="decl_args">
<span class="fn">(e : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <a href="../.././Init/Meta.html#Lean.Syntax.Term">Lean.Term</a></span></div></div><p>Helper function for "embedding" an <code>Expr</code> in <code>Syntax</code>.
It creates a named hole <code>?m</code> and immediately assigns <code>e</code> to it.
Examples:</p><pre><code class="language-lean">let e := <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.mkConst">mkConst</a> ``Nat.zero
`(Nat.succ $(← <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.exprToSyntax">exprToSyntax</a> e))
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.withoutModifyingStateWithInfoAndMessages"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/23ba495205f8133628d85dde572aad0c1089c094/src/Lean/Elab/Term.lean#L1643-L1644">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Term.html#Lean.Elab.withoutModifyingStateWithInfoAndMessages">Lean.Elab.withoutModifyingStateWithInfoAndMessages</a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{m : <span class="fn"><span class="fn">Type</span> → <span class="fn">Type u_1</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <span class="fn">Type</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Control/Basic.html#MonadControlT">MonadControlT</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[inst : <span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.withoutModifyingStateWithInfoAndMessages">Lean.Elab.withoutModifyingStateWithInfoAndMessages</a> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Control/Basic.html#controlAt">controlAt</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">fun <span class="fn">runInBase</span> =&gt
    <span class="fn"><a href="../.././Lean/Elab/Term.html#_private.Lean.Elab.Term.0.Lean.Elab.Term.withoutModifyingStateWithInfoAndMessagesImpl">Lean.Elab.Term.withoutModifyingStateWithInfoAndMessagesImpl</a> (<span class="fn"><span class="fn">runInBase</span> <span class="fn">x</span></span>)</span></span></span></span></li></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././/navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>